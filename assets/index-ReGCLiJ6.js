(function(){const Ce=document.createElement("link").relList;if(Ce&&Ce.supports&&Ce.supports("modulepreload"))return;for(const U of document.querySelectorAll('link[rel="modulepreload"]'))f(U);new MutationObserver(U=>{for(const v of U)if(v.type==="childList")for(const z of v.addedNodes)z.tagName==="LINK"&&z.rel==="modulepreload"&&f(z)}).observe(document,{childList:!0,subtree:!0});function d(U){const v={};return U.integrity&&(v.integrity=U.integrity),U.referrerPolicy&&(v.referrerPolicy=U.referrerPolicy),U.crossOrigin==="use-credentials"?v.credentials="include":U.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function f(U){if(U.ep)return;U.ep=!0;const v=d(U);fetch(U.href,v)}})();var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dc(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var bc={exports:{}},Tn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function rm(){if(_0)return Tn;_0=1;var o=Symbol.for("react.transitional.element"),Ce=Symbol.for("react.fragment");function d(f,U,v){var z=null;if(v!==void 0&&(z=""+v),U.key!==void 0&&(z=""+U.key),"key"in U){v={};for(var x in U)x!=="key"&&(v[x]=U[x])}else v=U;return U=v.ref,{$$typeof:o,type:f,key:z,ref:U!==void 0?U:null,props:v}}return Tn.Fragment=Ce,Tn.jsx=d,Tn.jsxs=d,Tn}var z0;function om(){return z0||(z0=1,bc.exports=rm()),bc.exports}var l=om(),vc={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function cm(){if(S0)return Ge;S0=1;var o=Symbol.for("react.transitional.element"),Ce=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),z=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),R=Symbol.iterator;function j(y){return y===null||typeof y!="object"?null:(y=R&&y[R]||y["@@iterator"],typeof y=="function"?y:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,C={};function S(y,T,ne){this.props=y,this.context=T,this.refs=C,this.updater=ne||D}S.prototype.isReactComponent={},S.prototype.setState=function(y,T){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,T,"setState")},S.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function M(){}M.prototype=S.prototype;function O(y,T,ne){this.props=y,this.context=T,this.refs=C,this.updater=ne||D}var L=O.prototype=new M;L.constructor=O,g(L,S.prototype),L.isPureReactComponent=!0;var B=Array.isArray;function $(){}var Q={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function J(y,T,ne){var ce=ne.ref;return{$$typeof:o,type:y,key:T,ref:ce!==void 0?ce:null,props:ne}}function de(y,T){return J(y.type,T,y.props)}function je(y){return typeof y=="object"&&y!==null&&y.$$typeof===o}function k(y){var T={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(ne){return T[ne]})}var W=/\/+/g;function c(y,T){return typeof y=="object"&&y!==null&&y.key!=null?k(""+y.key):T.toString(36)}function I(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then($,$):(y.status="pending",y.then(function(T){y.status==="pending"&&(y.status="fulfilled",y.value=T)},function(T){y.status==="pending"&&(y.status="rejected",y.reason=T)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function Z(y,T,ne,ce,ue){var Ne=typeof y;(Ne==="undefined"||Ne==="boolean")&&(y=null);var De=!1;if(y===null)De=!0;else switch(Ne){case"bigint":case"string":case"number":De=!0;break;case"object":switch(y.$$typeof){case o:case Ce:De=!0;break;case A:return De=y._init,Z(De(y._payload),T,ne,ce,ue)}}if(De)return ue=ue(y),De=ce===""?"."+c(y,0):ce,B(ue)?(ne="",De!=null&&(ne=De.replace(W,"$&/")+"/"),Z(ue,T,ne,"",function(Te){return Te})):ue!=null&&(je(ue)&&(ue=de(ue,ne+(ue.key==null||y&&y.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+De)),T.push(ue)),1;De=0;var Oe=ce===""?".":ce+":";if(B(y))for(var ke=0;ke<y.length;ke++)ce=y[ke],Ne=Oe+c(ce,ke),De+=Z(ce,T,ne,Ne,ue);else if(ke=j(y),typeof ke=="function")for(y=ke.call(y),ke=0;!(ce=y.next()).done;)ce=ce.value,Ne=Oe+c(ce,ke++),De+=Z(ce,T,ne,Ne,ue);else if(Ne==="object"){if(typeof y.then=="function")return Z(I(y),T,ne,ce,ue);throw T=String(y),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return De}function Y(y,T,ne){if(y==null)return y;var ce=[],ue=0;return Z(y,ce,"","",function(Ne){return T.call(ne,Ne,ue++)}),ce}function pe(y){if(y._status===-1){var T=y._result;T=T(),T.then(function(ne){(y._status===0||y._status===-1)&&(y._status=1,y._result=ne)},function(ne){(y._status===0||y._status===-1)&&(y._status=2,y._result=ne)}),y._status===-1&&(y._status=0,y._result=T)}if(y._status===1)return y._result.default;throw y._result}var ie=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},he={map:Y,forEach:function(y,T,ne){Y(y,function(){T.apply(this,arguments)},ne)},count:function(y){var T=0;return Y(y,function(){T++}),T},toArray:function(y){return Y(y,function(T){return T})||[]},only:function(y){if(!je(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return Ge.Activity=m,Ge.Children=he,Ge.Component=S,Ge.Fragment=d,Ge.Profiler=U,Ge.PureComponent=O,Ge.StrictMode=f,Ge.Suspense=h,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(y){return Q.H.useMemoCache(y)}},Ge.cache=function(y){return function(){return y.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(y,T,ne){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var ce=g({},y.props),ue=y.key;if(T!=null)for(Ne in T.key!==void 0&&(ue=""+T.key),T)!oe.call(T,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&T.ref===void 0||(ce[Ne]=T[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=ne;else if(1<Ne){for(var De=Array(Ne),Oe=0;Oe<Ne;Oe++)De[Oe]=arguments[Oe+2];ce.children=De}return J(y.type,ue,ce)},Ge.createContext=function(y){return y={$$typeof:z,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:v,_context:y},y},Ge.createElement=function(y,T,ne){var ce,ue={},Ne=null;if(T!=null)for(ce in T.key!==void 0&&(Ne=""+T.key),T)oe.call(T,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ue[ce]=T[ce]);var De=arguments.length-2;if(De===1)ue.children=ne;else if(1<De){for(var Oe=Array(De),ke=0;ke<De;ke++)Oe[ke]=arguments[ke+2];ue.children=Oe}if(y&&y.defaultProps)for(ce in De=y.defaultProps,De)ue[ce]===void 0&&(ue[ce]=De[ce]);return J(y,Ne,ue)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(y){return{$$typeof:x,render:y}},Ge.isValidElement=je,Ge.lazy=function(y){return{$$typeof:A,_payload:{_status:-1,_result:y},_init:pe}},Ge.memo=function(y,T){return{$$typeof:p,type:y,compare:T===void 0?null:T}},Ge.startTransition=function(y){var T=Q.T,ne={};Q.T=ne;try{var ce=y(),ue=Q.S;ue!==null&&ue(ne,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then($,ie)}catch(Ne){ie(Ne)}finally{T!==null&&ne.types!==null&&(T.types=ne.types),Q.T=T}},Ge.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ge.use=function(y){return Q.H.use(y)},Ge.useActionState=function(y,T,ne){return Q.H.useActionState(y,T,ne)},Ge.useCallback=function(y,T){return Q.H.useCallback(y,T)},Ge.useContext=function(y){return Q.H.useContext(y)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(y,T){return Q.H.useDeferredValue(y,T)},Ge.useEffect=function(y,T){return Q.H.useEffect(y,T)},Ge.useEffectEvent=function(y){return Q.H.useEffectEvent(y)},Ge.useId=function(){return Q.H.useId()},Ge.useImperativeHandle=function(y,T,ne){return Q.H.useImperativeHandle(y,T,ne)},Ge.useInsertionEffect=function(y,T){return Q.H.useInsertionEffect(y,T)},Ge.useLayoutEffect=function(y,T){return Q.H.useLayoutEffect(y,T)},Ge.useMemo=function(y,T){return Q.H.useMemo(y,T)},Ge.useOptimistic=function(y,T){return Q.H.useOptimistic(y,T)},Ge.useReducer=function(y,T,ne){return Q.H.useReducer(y,T,ne)},Ge.useRef=function(y){return Q.H.useRef(y)},Ge.useState=function(y){return Q.H.useState(y)},Ge.useSyncExternalStore=function(y,T,ne){return Q.H.useSyncExternalStore(y,T,ne)},Ge.useTransition=function(){return Q.H.useTransition()},Ge.version="19.2.4",Ge}var C0;function Oc(){return C0||(C0=1,vc.exports=cm()),vc.exports}var K=Oc();const um=Dc(K);var jc={exports:{}},En={},Nc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function dm(){return k0||(k0=1,(function(o){function Ce(Z,Y){var pe=Z.length;Z.push(Y);e:for(;0<pe;){var ie=pe-1>>>1,he=Z[ie];if(0<U(he,Y))Z[ie]=Y,Z[pe]=he,pe=ie;else break e}}function d(Z){return Z.length===0?null:Z[0]}function f(Z){if(Z.length===0)return null;var Y=Z[0],pe=Z.pop();if(pe!==Y){Z[0]=pe;e:for(var ie=0,he=Z.length,y=he>>>1;ie<y;){var T=2*(ie+1)-1,ne=Z[T],ce=T+1,ue=Z[ce];if(0>U(ne,pe))ce<he&&0>U(ue,ne)?(Z[ie]=ue,Z[ce]=pe,ie=ce):(Z[ie]=ne,Z[T]=pe,ie=T);else if(ce<he&&0>U(ue,pe))Z[ie]=ue,Z[ce]=pe,ie=ce;else break e}}return Y}function U(Z,Y){var pe=Z.sortIndex-Y.sortIndex;return pe!==0?pe:Z.id-Y.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;o.unstable_now=function(){return v.now()}}else{var z=Date,x=z.now();o.unstable_now=function(){return z.now()-x}}var h=[],p=[],A=1,m=null,R=3,j=!1,D=!1,g=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function L(Z){for(var Y=d(p);Y!==null;){if(Y.callback===null)f(p);else if(Y.startTime<=Z)f(p),Y.sortIndex=Y.expirationTime,Ce(h,Y);else break;Y=d(p)}}function B(Z){if(g=!1,L(Z),!D)if(d(h)!==null)D=!0,$||($=!0,k());else{var Y=d(p);Y!==null&&I(B,Y.startTime-Z)}}var $=!1,Q=-1,oe=5,J=-1;function de(){return C?!0:!(o.unstable_now()-J<oe)}function je(){if(C=!1,$){var Z=o.unstable_now();J=Z;var Y=!0;try{e:{D=!1,g&&(g=!1,M(Q),Q=-1),j=!0;var pe=R;try{t:{for(L(Z),m=d(h);m!==null&&!(m.expirationTime>Z&&de());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,R=m.priorityLevel;var he=ie(m.expirationTime<=Z);if(Z=o.unstable_now(),typeof he=="function"){m.callback=he,L(Z),Y=!0;break t}m===d(h)&&f(h),L(Z)}else f(h);m=d(h)}if(m!==null)Y=!0;else{var y=d(p);y!==null&&I(B,y.startTime-Z),Y=!1}}break e}finally{m=null,R=pe,j=!1}Y=void 0}}finally{Y?k():$=!1}}}var k;if(typeof O=="function")k=function(){O(je)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,c=W.port2;W.port1.onmessage=je,k=function(){c.postMessage(null)}}else k=function(){S(je,0)};function I(Z,Y){Q=S(function(){Z(o.unstable_now())},Y)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Z){Z.callback=null},o.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<Z?Math.floor(1e3/Z):5},o.unstable_getCurrentPriorityLevel=function(){return R},o.unstable_next=function(Z){switch(R){case 1:case 2:case 3:var Y=3;break;default:Y=R}var pe=R;R=Y;try{return Z()}finally{R=pe}},o.unstable_requestPaint=function(){C=!0},o.unstable_runWithPriority=function(Z,Y){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=R;R=Z;try{return Y()}finally{R=pe}},o.unstable_scheduleCallback=function(Z,Y,pe){var ie=o.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ie+pe:ie):pe=ie,Z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=pe+he,Z={id:A++,callback:Y,priorityLevel:Z,startTime:pe,expirationTime:he,sortIndex:-1},pe>ie?(Z.sortIndex=pe,Ce(p,Z),d(h)===null&&Z===d(p)&&(g?(M(Q),Q=-1):g=!0,I(B,pe-ie))):(Z.sortIndex=he,Ce(h,Z),D||j||(D=!0,$||($=!0,k()))),Z},o.unstable_shouldYield=de,o.unstable_wrapCallback=function(Z){var Y=R;return function(){var pe=R;R=Y;try{return Z.apply(this,arguments)}finally{R=pe}}}})(wc)),wc}var A0;function fm(){return A0||(A0=1,Nc.exports=dm()),Nc.exports}var _c={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function hm(){if(D0)return Lt;D0=1;var o=Oc();function Ce(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var f={d:{f:d,r:function(){throw Error(Ce(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},U=Symbol.for("react.portal");function v(h,p,A){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:m==null?null:""+m,children:h,containerInfo:p,implementation:A}}var z=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,Lt.createPortal=function(h,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(Ce(299));return v(h,p,null,A)},Lt.flushSync=function(h){var p=z.T,A=f.p;try{if(z.T=null,f.p=2,h)return h()}finally{z.T=p,f.p=A,f.d.f()}},Lt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,f.d.C(h,p))},Lt.prefetchDNS=function(h){typeof h=="string"&&f.d.D(h)},Lt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var A=p.as,m=x(A,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?f.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:R,fetchPriority:j}):A==="script"&&f.d.X(h,{crossOrigin:m,integrity:R,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Lt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=x(p.as,p.crossOrigin);f.d.M(h,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&f.d.M(h)},Lt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,m=x(A,p.crossOrigin);f.d.L(h,A,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Lt.preloadModule=function(h,p){if(typeof h=="string")if(p){var A=x(p.as,p.crossOrigin);f.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else f.d.m(h)},Lt.requestFormReset=function(h){f.d.r(h)},Lt.unstable_batchedUpdates=function(h,p){return h(p)},Lt.useFormState=function(h,p,A){return z.H.useFormState(h,p,A)},Lt.useFormStatus=function(){return z.H.useHostTransitionStatus()},Lt.version="19.2.4",Lt}var O0;function gm(){if(O0)return _c.exports;O0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(Ce){console.error(Ce)}}return o(),_c.exports=hm(),_c.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function mm(){if(M0)return En;M0=1;var o=fm(),Ce=Oc(),d=gm();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function U(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function z(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(v(e)!==e)throw Error(f(188))}function p(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(f(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return h(n),e;if(i===s)return h(n),t;i=i.sibling}throw Error(f(188))}if(a.return!==s.return)a=n,s=i;else{for(var r=!1,N=n.child;N;){if(N===a){r=!0,a=n,s=i;break}if(N===s){r=!0,s=n,a=i;break}N=N.sibling}if(!r){for(N=i.child;N;){if(N===a){r=!0,a=i,s=n;break}if(N===s){r=!0,s=i,a=n;break}N=N.sibling}if(!r)throw Error(f(189))}}if(a.alternate!==s)throw Error(f(190))}if(a.tag!==3)throw Error(f(188));return a.stateNode.current===a?e:t}function A(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,R=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function c(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case B:return"Suspense";case $:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case O:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:c(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return c(e(t))}catch{}}return null}var I=Array.isArray,Z=Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ie=[],he=-1;function y(e){return{current:e}}function T(e){0>he||(e.current=ie[he],ie[he]=null,he--)}function ne(e,t){he++,ie[he]=e.current,e.current=t}var ce=y(null),ue=y(null),Ne=y(null),De=y(null);function Oe(e,t){switch(ne(Ne,t),ne(ue,e),ne(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kf(t),e=Jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(ce),ne(ce,e)}function ke(){T(ce),T(ue),T(Ne)}function Te(e){e.memoizedState!==null&&ne(De,e);var t=ce.current,a=Jf(t,e.type);t!==a&&(ne(ue,e),ne(ce,a))}function Ye(e){ue.current===e&&(T(ce),T(ue)),De.current===e&&(T(De),On._currentValue=pe)}var Je,it;function u(e){if(Je===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",it=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+e+it}var ge=!1;function le(e,t){if(!e||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(fe){var re=fe}Reflect.construct(e,[],ve)}else{try{ve.call()}catch(fe){re=fe}e.call(ve.prototype)}}else{try{throw Error()}catch(fe){re=fe}(ve=e())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(fe){if(fe&&re&&typeof fe.stack=="string")return[fe.stack,re.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),r=i[0],N=i[1];if(r&&N){var q=r.split(`
`),se=N.split(`
`);for(n=s=0;s<q.length&&!q[s].includes("DetermineComponentFrameRoot");)s++;for(;n<se.length&&!se[n].includes("DetermineComponentFrameRoot");)n++;if(s===q.length||n===se.length)for(s=q.length-1,n=se.length-1;1<=s&&0<=n&&q[s]!==se[n];)n--;for(;1<=s&&0<=n;s--,n--)if(q[s]!==se[n]){if(s!==1||n!==1)do if(s--,n--,0>n||q[s]!==se[n]){var xe=`
`+q[s].replace(" at new "," at ");return e.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",e.displayName)),xe}while(1<=s&&0<=n);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?u(a):""}function H(e,t){switch(e.tag){case 26:case 27:case 5:return u(e.type);case 16:return u("Lazy");case 13:return e.child!==t&&t!==null?u("Suspense Fallback"):u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return le(e.type,!1);case 11:return le(e.type.render,!1);case 1:return le(e.type,!0);case 31:return u("Activity");default:return""}}function E(e){try{var t="",a=null;do t+=H(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var V=Object.prototype.hasOwnProperty,me=o.unstable_scheduleCallback,be=o.unstable_cancelCallback,P=o.unstable_shouldYield,_=o.unstable_requestPaint,w=o.unstable_now,b=o.unstable_getCurrentPriorityLevel,G=o.unstable_ImmediatePriority,we=o.unstable_UserBlockingPriority,Se=o.unstable_NormalPriority,Ze=o.unstable_LowPriority,He=o.unstable_IdlePriority,qe=o.log,tt=o.unstable_setDisableYieldValue,Xe=null,ee=null;function _e(e){if(typeof qe=="function"&&tt(e),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(Xe,e)}catch{}}var ze=Math.clz32?Math.clz32:Yt,st=Math.log,xa=Math.LN2;function Yt(e){return e>>>=0,e===0?32:31-(st(e)/xa|0)|0}var Mt=256,Dt=262144,_t=4194304;function yt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function va(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var N=s&134217727;return N!==0?(s=N&~i,s!==0?n=yt(s):(r&=N,r!==0?n=yt(r):a||(a=N&~e,a!==0&&(n=yt(a))))):(N=s&~i,N!==0?n=yt(N):r!==0?n=yt(r):a||(a=s&~e,a!==0&&(n=yt(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function Ja(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qs(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var e=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),e}function Zs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function zl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function or(e,t,a,s,n,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var N=e.entanglements,q=e.expirationTimes,se=e.hiddenUpdates;for(a=r&~a;0<a;){var xe=31-ze(a),ve=1<<xe;N[xe]=0,q[xe]=-1;var re=se[xe];if(re!==null)for(se[xe]=null,xe=0;xe<re.length;xe++){var fe=re[xe];fe!==null&&(fe.lane&=-536870913)}a&=~ve}s!==0&&Fa(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Fa(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ze(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function $a(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ze(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function Ys(e,t){var a=t&-t;return a=(a&42)!==0?1:Gs(a),(a&(e.suspendedLanes|t))!==0?0:a}function Gs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qn(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:p0(e.type))}function te(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var Ae=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Ae,ct="__reactProps$"+Ae,ja="__reactContainer$"+Ae,Il="__reactEvents$"+Ae,Sl="__reactListeners$"+Ae,cr="__reactHandles$"+Ae,Uc="__reactResources$"+Ae,Qs="__reactMarker$"+Ae;function ur(e){delete e[Ue],delete e[ct],delete e[Il],delete e[Sl],delete e[cr]}function Pl(e){var t=e[Ue];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ja]||a[Ue]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=t0(e);e!==null;){if(a=e[Ue])return a;e=t0(e)}return t}e=a,a=e.parentNode}return null}function es(e){if(e=e[Ue]||e[ja]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function ts(e){var t=e[Uc];return t||(t=e[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ut(e){e[Qs]=!0}var Rc=new Set,Tc={};function Cl(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(Tc[e]=t,e=0;e<t.length;e++)Rc.add(t[e])}var I0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},Bc={};function P0(e){return V.call(Bc,e)?!0:V.call(Ec,e)?!1:I0.test(e)?Bc[e]=!0:(Ec[e]=!0,!1)}function Vn(e,t,a){if(P0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Kn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ka(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function ia(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eh(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dr(e){if(!e._valueTracker){var t=Hc(e)?"checked":"value";e._valueTracker=eh(e,t,""+e[t])}}function Lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Hc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var th=/[\n"\\]/g;function ra(e){return e.replace(th,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fr(e,t,a,s,n,i,r,N){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ia(t)):e.value!==""+ia(t)&&(e.value=""+ia(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?hr(e,r,ia(t)):a!=null?hr(e,r,ia(a)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+ia(N):e.removeAttribute("name")}function qc(e,t,a,s,n,i,r,N){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){dr(e);return}a=a!=null?""+ia(a):"",t=t!=null?""+ia(t):a,N||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=N?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),dr(e)}function hr(e,t,a){t==="number"&&Jn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ls(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ia(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Zc(e,t,a){if(t!=null&&(t=""+ia(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ia(a):""}function Yc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(f(92));if(I(s)){if(1<s.length)throw Error(f(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=ia(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),dr(e)}function ss(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||ah.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Xc(e,t,a){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Gc(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&Gc(e,i,t[i])}function gr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(e){return sh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Aa(){}var mr=null;function xr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,is=null;function Qc(e){var t=es(e);if(t&&(e=t.stateNode)){var a=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(fr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ra(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[ct]||null;if(!n)throw Error(f(90));fr(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Lc(s)}break e;case"textarea":Zc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ls(e,!!a.multiple,t,!1)}}}var pr=!1;function Vc(e,t,a){if(pr)return e(t,a);pr=!0;try{var s=e(t);return s}finally{if(pr=!1,(ns!==null||is!==null)&&(Ei(),ns&&(t=ns,e=is,is=ns=null,Qc(t),e)))for(t=0;t<e.length;t++)Qc(e[t])}}function Ks(e,t){var a=e.stateNode;if(a===null)return null;var s=a[ct]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(f(231,t,typeof a));return a}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Da)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{yr=!1}var Wa=null,br=null,$n=null;function Kc(){if($n)return $n;var e,t=br,a=t.length,s,n="value"in Wa?Wa.value:Wa.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(s=1;s<=r&&t[a-s]===n[i-s];s++);return $n=n.slice(e,1<s?1-s:void 0)}function Wn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function In(){return!0}function Jc(){return!1}function Kt(e){function t(a,s,n,i,r){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(a=e[N],this[N]=a?a(i):i[N]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?In:Jc,this.isPropagationStopped=Jc,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=In)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=In)},persist:function(){},isPersistent:In}),t}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pn=Kt(kl),Fs=m({},kl,{view:0,detail:0}),nh=Kt(Fs),vr,jr,$s,ei=m({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(vr=e.screenX-$s.screenX,jr=e.screenY-$s.screenY):jr=vr=0,$s=e),vr)},movementY:function(e){return"movementY"in e?e.movementY:jr}}),Fc=Kt(ei),ih=m({},ei,{dataTransfer:0}),rh=Kt(ih),oh=m({},Fs,{relatedTarget:0}),Nr=Kt(oh),ch=m({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),uh=Kt(ch),dh=m({},kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fh=Kt(dh),hh=m({},kl,{data:0}),$c=Kt(hh),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xh[e])?!!t[e]:!1}function wr(){return ph}var yh=m({},Fs,{key:function(e){if(e.key){var t=gh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bh=Kt(yh),vh=m({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=Kt(vh),jh=m({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),Nh=Kt(jh),wh=m({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_h=Kt(wh),zh=m({},ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sh=Kt(zh),Ch=m({},kl,{newState:0,oldState:0}),kh=Kt(Ch),Ah=[9,13,27,32],_r=Da&&"CompositionEvent"in window,Ws=null;Da&&"documentMode"in document&&(Ws=document.documentMode);var Dh=Da&&"TextEvent"in window&&!Ws,Ic=Da&&(!_r||Ws&&8<Ws&&11>=Ws),Pc=" ",eu=!1;function tu(e,t){switch(e){case"keyup":return Ah.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function Oh(e,t){switch(e){case"compositionend":return au(t);case"keypress":return t.which!==32?null:(eu=!0,Pc);case"textInput":return e=t.data,e===Pc&&eu?null:e;default:return null}}function Mh(e,t){if(rs)return e==="compositionend"||!_r&&tu(e,t)?(e=Kc(),$n=br=Wa=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ic&&t.locale!=="ko"?null:t.data;default:return null}}var Uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uh[e.type]:t==="textarea"}function su(e,t,a,s){ns?is?is.push(s):is=[s]:ns=s,t=Gi(t,"onChange"),0<t.length&&(a=new Pn("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Is=null,Ps=null;function Rh(e){Zf(e,0)}function ti(e){var t=Vs(e);if(Lc(t))return e}function nu(e,t){if(e==="change")return t}var iu=!1;if(Da){var zr;if(Da){var Sr="oninput"in document;if(!Sr){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),Sr=typeof ru.oninput=="function"}zr=Sr}else zr=!1;iu=zr&&(!document.documentMode||9<document.documentMode)}function ou(){Is&&(Is.detachEvent("onpropertychange",cu),Ps=Is=null)}function cu(e){if(e.propertyName==="value"&&ti(Ps)){var t=[];su(t,Ps,e,xr(e)),Vc(Rh,t)}}function Th(e,t,a){e==="focusin"?(ou(),Is=t,Ps=a,Is.attachEvent("onpropertychange",cu)):e==="focusout"&&ou()}function Eh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ti(Ps)}function Bh(e,t){if(e==="click")return ti(t)}function Hh(e,t){if(e==="input"||e==="change")return ti(t)}function Lh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Lh;function en(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!V.call(t,n)||!Pt(e[n],t[n]))return!1}return!0}function uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var a=uu(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uu(a)}}function fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Jn(e.document)}return t}function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qh=Da&&"documentMode"in document&&11>=document.documentMode,os=null,kr=null,tn=null,Ar=!1;function gu(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ar||os==null||os!==Jn(s)||(s=os,"selectionStart"in s&&Cr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),tn&&en(tn,s)||(tn=s,s=Gi(kr,"onSelect"),0<s.length&&(t=new Pn("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=os)))}function Al(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cs={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},Dr={},mu={};Da&&(mu=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Dl(e){if(Dr[e])return Dr[e];if(!cs[e])return e;var t=cs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in mu)return Dr[e]=t[a];return e}var xu=Dl("animationend"),pu=Dl("animationiteration"),yu=Dl("animationstart"),Zh=Dl("transitionrun"),Yh=Dl("transitionstart"),Gh=Dl("transitioncancel"),bu=Dl("transitionend"),vu=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function pa(e,t){vu.set(e,t),Cl(t,[e])}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},oa=[],us=0,Mr=0;function li(){for(var e=us,t=Mr=us=0;t<e;){var a=oa[t];oa[t++]=null;var s=oa[t];oa[t++]=null;var n=oa[t];oa[t++]=null;var i=oa[t];if(oa[t++]=null,s!==null&&n!==null){var r=s.pending;r===null?n.next=n:(n.next=r.next,r.next=n),s.pending=n}i!==0&&ju(a,n,i)}}function si(e,t,a,s){oa[us++]=e,oa[us++]=t,oa[us++]=a,oa[us++]=s,Mr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ur(e,t,a,s){return si(e,t,a,s),ni(e)}function Ol(e,t){return si(e,null,null,t),ni(e)}function ju(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,s=i.alternate,s!==null&&(s.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-ze(a),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),i):null}function ni(e){if(50<_n)throw _n=0,Go=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ds={};function Xh(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,a,s){return new Xh(e,t,a,s)}function Rr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oa(e,t){var a=e.alternate;return a===null?(a=ea(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ii(e,t,a,s,n,i){var r=0;if(s=e,typeof e=="function")Rr(e)&&(r=1);else if(typeof e=="string")r=Fg(e,a,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=ea(31,a,t,n),e.elementType=J,e.lanes=i,e;case g:return Ml(a.children,n,i,t);case C:r=8,n|=24;break;case S:return e=ea(12,a,t,n|2),e.elementType=S,e.lanes=i,e;case B:return e=ea(13,a,t,n),e.elementType=B,e.lanes=i,e;case $:return e=ea(19,a,t,n),e.elementType=$,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:r=10;break e;case M:r=9;break e;case L:r=11;break e;case Q:r=14;break e;case oe:r=16,s=null;break e}r=29,a=Error(f(130,e===null?"null":typeof e,"")),s=null}return t=ea(r,a,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function Ml(e,t,a,s){return e=ea(7,e,s,t),e.lanes=a,e}function Tr(e,t,a){return e=ea(6,e,null,t),e.lanes=a,e}function wu(e){var t=ea(18,null,null,0);return t.stateNode=e,t}function Er(e,t,a){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _u=new WeakMap;function ca(e,t){if(typeof e=="object"&&e!==null){var a=_u.get(e);return a!==void 0?a:(t={value:e,source:t,stack:E(t)},_u.set(e,t),t)}return{value:e,source:t,stack:E(t)}}var fs=[],hs=0,ri=null,an=0,ua=[],da=0,Ia=null,Na=1,wa="";function Ma(e,t){fs[hs++]=an,fs[hs++]=ri,ri=e,an=t}function zu(e,t,a){ua[da++]=Na,ua[da++]=wa,ua[da++]=Ia,Ia=e;var s=Na;e=wa;var n=32-ze(s)-1;s&=~(1<<n),a+=1;var i=32-ze(t)+n;if(30<i){var r=n-n%5;i=(s&(1<<r)-1).toString(32),s>>=r,n-=r,Na=1<<32-ze(t)+n|a<<n|s,wa=i+e}else Na=1<<i|a<<n|s,wa=e}function Br(e){e.return!==null&&(Ma(e,1),zu(e,1,0))}function Hr(e){for(;e===ri;)ri=fs[--hs],fs[hs]=null,an=fs[--hs],fs[hs]=null;for(;e===Ia;)Ia=ua[--da],ua[da]=null,wa=ua[--da],ua[da]=null,Na=ua[--da],ua[da]=null}function Su(e,t){ua[da++]=Na,ua[da++]=wa,ua[da++]=Ia,Na=t.id,wa=t.overflow,Ia=e}var Tt=null,mt=null,Pe=!1,Pa=null,fa=!1,Lr=Error(f(519));function el(e){var t=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ln(ca(t,e)),Lr}function Cu(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Ue]=e,t[ct]=s,a){case"dialog":$e("cancel",t),$e("close",t);break;case"iframe":case"object":case"embed":$e("load",t);break;case"video":case"audio":for(a=0;a<Sn.length;a++)$e(Sn[a],t);break;case"source":$e("error",t);break;case"img":case"image":case"link":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"input":$e("invalid",t),qc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":$e("invalid",t);break;case"textarea":$e("invalid",t),Yc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Qf(t.textContent,a)?(s.popover!=null&&($e("beforetoggle",t),$e("toggle",t)),s.onScroll!=null&&$e("scroll",t),s.onScrollEnd!=null&&$e("scrollend",t),s.onClick!=null&&(t.onclick=Aa),t=!0):t=!1,t||el(e,!0)}function ku(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:Tt=Tt.return}}function gs(e){if(e!==Tt)return!1;if(!Pe)return ku(e),Pe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sc(e.type,e.memoizedProps)),a=!a),a&&mt&&el(e),ku(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));mt=e0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));mt=e0(e)}else t===27?(t=mt,gl(e.type)?(e=cc,cc=null,mt=e):mt=t):mt=Tt?ga(e.stateNode.nextSibling):null;return!0}function Ul(){mt=Tt=null,Pe=!1}function qr(){var e=Pa;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),Pa=null),e}function ln(e){Pa===null?Pa=[e]:Pa.push(e)}var Zr=y(null),Rl=null,Ua=null;function tl(e,t,a){ne(Zr,t._currentValue),t._currentValue=a}function Ra(e){e._currentValue=Zr.current,T(Zr)}function Yr(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Gr(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var N=i;i=n;for(var q=0;q<t.length;q++)if(N.context===t[q]){i.lanes|=a,N=i.alternate,N!==null&&(N.lanes|=a),Yr(i.return,a,e),s||(r=null);break e}i=N.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(f(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Yr(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function ms(e,t,a,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(f(387));if(r=r.memoizedProps,r!==null){var N=n.type;Pt(n.pendingProps.value,r.value)||(e!==null?e.push(N):e=[N])}}else if(n===De.current){if(r=n.alternate,r===null)throw Error(f(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(On):e=[On])}n=n.return}e!==null&&Gr(t,e,a,s),t.flags|=262144}function oi(e){for(e=e.firstContext;e!==null;){if(!Pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Tl(e){Rl=e,Ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Au(Rl,e)}function ci(e,t){return Rl===null&&Tl(e),Au(e,t)}function Au(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ua===null){if(e===null)throw Error(f(308));Ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ua=Ua.next=t;return a}var Qh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Vh=o.unstable_scheduleCallback,Kh=o.unstable_NormalPriority,zt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xr(){return{controller:new Qh,data:new Map,refCount:0}}function sn(e){e.refCount--,e.refCount===0&&Vh(Kh,function(){e.controller.abort()})}var nn=null,Qr=0,xs=0,ps=null;function Jh(e,t){if(nn===null){var a=nn=[];Qr=0,xs=Fo(),ps={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Qr++,t.then(Du,Du),t}function Du(){if(--Qr===0&&nn!==null){ps!==null&&(ps.status="fulfilled");var e=nn;nn=null,xs=0,ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fh(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var Ou=Z.S;Z.S=function(e,t){mf=w(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jh(e,t),Ou!==null&&Ou(e,t)};var El=y(null);function Vr(){var e=El.current;return e!==null?e:ht.pooledCache}function ui(e,t){t===null?ne(El,El.current):ne(El,t.pool)}function Mu(){var e=Vr();return e===null?null:{parent:zt._currentValue,pool:e}}var ys=Error(f(460)),Kr=Error(f(474)),di=Error(f(542)),fi={then:function(){}};function Uu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Aa,Aa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Eu(e),e;default:if(typeof t.status=="string")t.then(Aa,Aa);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Eu(e),e}throw Hl=t,ys}}function Bl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hl=a,ys):a}}var Hl=null;function Tu(){if(Hl===null)throw Error(f(459));var e=Hl;return Hl=null,e}function Eu(e){if(e===ys||e===di)throw Error(f(483))}var bs=null,rn=0;function hi(e){var t=rn;return rn+=1,bs===null&&(bs=[]),Ru(bs,e,t)}function on(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gi(e,t){throw t.$$typeof===R?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bu(e){function t(F,X){if(e){var ae=F.deletions;ae===null?(F.deletions=[X],F.flags|=16):ae.push(X)}}function a(F,X){if(!e)return null;for(;X!==null;)t(F,X),X=X.sibling;return null}function s(F){for(var X=new Map;F!==null;)F.key!==null?X.set(F.key,F):X.set(F.index,F),F=F.sibling;return X}function n(F,X){return F=Oa(F,X),F.index=0,F.sibling=null,F}function i(F,X,ae){return F.index=ae,e?(ae=F.alternate,ae!==null?(ae=ae.index,ae<X?(F.flags|=67108866,X):ae):(F.flags|=67108866,X)):(F.flags|=1048576,X)}function r(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function N(F,X,ae,ye){return X===null||X.tag!==6?(X=Tr(ae,F.mode,ye),X.return=F,X):(X=n(X,ae),X.return=F,X)}function q(F,X,ae,ye){var Be=ae.type;return Be===g?xe(F,X,ae.props.children,ye,ae.key):X!==null&&(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===oe&&Bl(Be)===X.type)?(X=n(X,ae.props),on(X,ae),X.return=F,X):(X=ii(ae.type,ae.key,ae.props,null,F.mode,ye),on(X,ae),X.return=F,X)}function se(F,X,ae,ye){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=Er(ae,F.mode,ye),X.return=F,X):(X=n(X,ae.children||[]),X.return=F,X)}function xe(F,X,ae,ye,Be){return X===null||X.tag!==7?(X=Ml(ae,F.mode,ye,Be),X.return=F,X):(X=n(X,ae),X.return=F,X)}function ve(F,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Tr(""+X,F.mode,ae),X.return=F,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case j:return ae=ii(X.type,X.key,X.props,null,F.mode,ae),on(ae,X),ae.return=F,ae;case D:return X=Er(X,F.mode,ae),X.return=F,X;case oe:return X=Bl(X),ve(F,X,ae)}if(I(X)||k(X))return X=Ml(X,F.mode,ae,null),X.return=F,X;if(typeof X.then=="function")return ve(F,hi(X),ae);if(X.$$typeof===O)return ve(F,ci(F,X),ae);gi(F,X)}return null}function re(F,X,ae,ye){var Be=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Be!==null?null:N(F,X,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:return ae.key===Be?q(F,X,ae,ye):null;case D:return ae.key===Be?se(F,X,ae,ye):null;case oe:return ae=Bl(ae),re(F,X,ae,ye)}if(I(ae)||k(ae))return Be!==null?null:xe(F,X,ae,ye,null);if(typeof ae.then=="function")return re(F,X,hi(ae),ye);if(ae.$$typeof===O)return re(F,X,ci(F,ae),ye);gi(F,ae)}return null}function fe(F,X,ae,ye,Be){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return F=F.get(ae)||null,N(X,F,""+ye,Be);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case j:return F=F.get(ye.key===null?ae:ye.key)||null,q(X,F,ye,Be);case D:return F=F.get(ye.key===null?ae:ye.key)||null,se(X,F,ye,Be);case oe:return ye=Bl(ye),fe(F,X,ae,ye,Be)}if(I(ye)||k(ye))return F=F.get(ae)||null,xe(X,F,ye,Be,null);if(typeof ye.then=="function")return fe(F,X,ae,hi(ye),Be);if(ye.$$typeof===O)return fe(F,X,ae,ci(X,ye),Be);gi(X,ye)}return null}function Re(F,X,ae,ye){for(var Be=null,at=null,Ee=X,Ve=X=0,Ie=null;Ee!==null&&Ve<ae.length;Ve++){Ee.index>Ve?(Ie=Ee,Ee=null):Ie=Ee.sibling;var lt=re(F,Ee,ae[Ve],ye);if(lt===null){Ee===null&&(Ee=Ie);break}e&&Ee&&lt.alternate===null&&t(F,Ee),X=i(lt,X,Ve),at===null?Be=lt:at.sibling=lt,at=lt,Ee=Ie}if(Ve===ae.length)return a(F,Ee),Pe&&Ma(F,Ve),Be;if(Ee===null){for(;Ve<ae.length;Ve++)Ee=ve(F,ae[Ve],ye),Ee!==null&&(X=i(Ee,X,Ve),at===null?Be=Ee:at.sibling=Ee,at=Ee);return Pe&&Ma(F,Ve),Be}for(Ee=s(Ee);Ve<ae.length;Ve++)Ie=fe(Ee,F,Ve,ae[Ve],ye),Ie!==null&&(e&&Ie.alternate!==null&&Ee.delete(Ie.key===null?Ve:Ie.key),X=i(Ie,X,Ve),at===null?Be=Ie:at.sibling=Ie,at=Ie);return e&&Ee.forEach(function(bl){return t(F,bl)}),Pe&&Ma(F,Ve),Be}function Le(F,X,ae,ye){if(ae==null)throw Error(f(151));for(var Be=null,at=null,Ee=X,Ve=X=0,Ie=null,lt=ae.next();Ee!==null&&!lt.done;Ve++,lt=ae.next()){Ee.index>Ve?(Ie=Ee,Ee=null):Ie=Ee.sibling;var bl=re(F,Ee,lt.value,ye);if(bl===null){Ee===null&&(Ee=Ie);break}e&&Ee&&bl.alternate===null&&t(F,Ee),X=i(bl,X,Ve),at===null?Be=bl:at.sibling=bl,at=bl,Ee=Ie}if(lt.done)return a(F,Ee),Pe&&Ma(F,Ve),Be;if(Ee===null){for(;!lt.done;Ve++,lt=ae.next())lt=ve(F,lt.value,ye),lt!==null&&(X=i(lt,X,Ve),at===null?Be=lt:at.sibling=lt,at=lt);return Pe&&Ma(F,Ve),Be}for(Ee=s(Ee);!lt.done;Ve++,lt=ae.next())lt=fe(Ee,F,Ve,lt.value,ye),lt!==null&&(e&&lt.alternate!==null&&Ee.delete(lt.key===null?Ve:lt.key),X=i(lt,X,Ve),at===null?Be=lt:at.sibling=lt,at=lt);return e&&Ee.forEach(function(im){return t(F,im)}),Pe&&Ma(F,Ve),Be}function ft(F,X,ae,ye){if(typeof ae=="object"&&ae!==null&&ae.type===g&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:e:{for(var Be=ae.key;X!==null;){if(X.key===Be){if(Be=ae.type,Be===g){if(X.tag===7){a(F,X.sibling),ye=n(X,ae.props.children),ye.return=F,F=ye;break e}}else if(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===oe&&Bl(Be)===X.type){a(F,X.sibling),ye=n(X,ae.props),on(ye,ae),ye.return=F,F=ye;break e}a(F,X);break}else t(F,X);X=X.sibling}ae.type===g?(ye=Ml(ae.props.children,F.mode,ye,ae.key),ye.return=F,F=ye):(ye=ii(ae.type,ae.key,ae.props,null,F.mode,ye),on(ye,ae),ye.return=F,F=ye)}return r(F);case D:e:{for(Be=ae.key;X!==null;){if(X.key===Be)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){a(F,X.sibling),ye=n(X,ae.children||[]),ye.return=F,F=ye;break e}else{a(F,X);break}else t(F,X);X=X.sibling}ye=Er(ae,F.mode,ye),ye.return=F,F=ye}return r(F);case oe:return ae=Bl(ae),ft(F,X,ae,ye)}if(I(ae))return Re(F,X,ae,ye);if(k(ae)){if(Be=k(ae),typeof Be!="function")throw Error(f(150));return ae=Be.call(ae),Le(F,X,ae,ye)}if(typeof ae.then=="function")return ft(F,X,hi(ae),ye);if(ae.$$typeof===O)return ft(F,X,ci(F,ae),ye);gi(F,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(a(F,X.sibling),ye=n(X,ae),ye.return=F,F=ye):(a(F,X),ye=Tr(ae,F.mode,ye),ye.return=F,F=ye),r(F)):a(F,X)}return function(F,X,ae,ye){try{rn=0;var Be=ft(F,X,ae,ye);return bs=null,Be}catch(Ee){if(Ee===ys||Ee===di)throw Ee;var at=ea(29,Ee,null,F.mode);return at.lanes=ye,at.return=F,at}finally{}}}var Ll=Bu(!0),Hu=Bu(!1),al=!1;function Jr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ll(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sl(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(nt&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=ni(e),ju(e,null,a),t}return si(e,s,t,a),ni(e)}function cn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,$a(e,a)}}function $r(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Wr=!1;function un(){if(Wr){var e=ps;if(e!==null)throw e}}function dn(e,t,a,s){Wr=!1;var n=e.updateQueue;al=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,N=n.shared.pending;if(N!==null){n.shared.pending=null;var q=N,se=q.next;q.next=null,r===null?i=se:r.next=se,r=q;var xe=e.alternate;xe!==null&&(xe=xe.updateQueue,N=xe.lastBaseUpdate,N!==r&&(N===null?xe.firstBaseUpdate=se:N.next=se,xe.lastBaseUpdate=q))}if(i!==null){var ve=n.baseState;r=0,xe=se=q=null,N=i;do{var re=N.lane&-536870913,fe=re!==N.lane;if(fe?(We&re)===re:(s&re)===re){re!==0&&re===xs&&(Wr=!0),xe!==null&&(xe=xe.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Re=e,Le=N;re=t;var ft=a;switch(Le.tag){case 1:if(Re=Le.payload,typeof Re=="function"){ve=Re.call(ft,ve,re);break e}ve=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Le.payload,re=typeof Re=="function"?Re.call(ft,ve,re):Re,re==null)break e;ve=m({},ve,re);break e;case 2:al=!0}}re=N.callback,re!==null&&(e.flags|=64,fe&&(e.flags|=8192),fe=n.callbacks,fe===null?n.callbacks=[re]:fe.push(re))}else fe={lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},xe===null?(se=xe=fe,q=ve):xe=xe.next=fe,r|=re;if(N=N.next,N===null){if(N=n.shared.pending,N===null)break;fe=N,N=fe.next,fe.next=null,n.lastBaseUpdate=fe,n.shared.pending=null}}while(!0);xe===null&&(q=ve),n.baseState=q,n.firstBaseUpdate=se,n.lastBaseUpdate=xe,i===null&&(n.shared.lanes=0),cl|=r,e.lanes=r,e.memoizedState=ve}}function Lu(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function qu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lu(a[e],t)}var vs=y(null),mi=y(0);function Zu(e,t){e=Ga,ne(mi,e),ne(vs,t),Ga=e|t.baseLanes}function Ir(){ne(mi,Ga),ne(vs,vs.current)}function Pr(){Ga=mi.current,T(vs),T(mi)}var ta=y(null),ha=null;function nl(e){var t=e.alternate;ne(Nt,Nt.current&1),ne(ta,e),ha===null&&(t===null||vs.current!==null||t.memoizedState!==null)&&(ha=e)}function eo(e){ne(Nt,Nt.current),ne(ta,e),ha===null&&(ha=e)}function Yu(e){e.tag===22?(ne(Nt,Nt.current),ne(ta,e),ha===null&&(ha=e)):il()}function il(){ne(Nt,Nt.current),ne(ta,ta.current)}function aa(e){T(ta),ha===e&&(ha=null),T(Nt)}var Nt=y(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rc(a)||oc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=0,Qe=null,ut=null,St=null,pi=!1,js=!1,ql=!1,yi=0,fn=0,Ns=null,$h=0;function bt(){throw Error(f(321))}function to(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Pt(e[a],t[a]))return!1;return!0}function ao(e,t,a,s,n,i){return Ta=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?zd:yo,ql=!1,i=a(s,n),ql=!1,js&&(i=Xu(t,a,s,n)),Gu(e),i}function Gu(e){Z.H=mn;var t=ut!==null&&ut.next!==null;if(Ta=0,St=ut=Qe=null,pi=!1,fn=0,Ns=null,t)throw Error(f(300));e===null||Ct||(e=e.dependencies,e!==null&&oi(e)&&(Ct=!0))}function Xu(e,t,a,s){Qe=e;var n=0;do{if(js&&(Ns=null),fn=0,js=!1,25<=n)throw Error(f(301));if(n+=1,St=ut=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Z.H=Sd,i=t(a,s)}while(js);return i}function Wh(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?hn(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Qe.flags|=1024),t}function lo(){var e=yi!==0;return yi=0,e}function so(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function no(e){if(pi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pi=!1}Ta=0,St=ut=Qe=null,js=!1,fn=yi=0,Ns=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Qe.memoizedState=St=e:St=St.next=e,St}function wt(){if(ut===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=St===null?Qe.memoizedState:St.next;if(t!==null)St=t,ut=e;else{if(e===null)throw Qe.alternate===null?Error(f(467)):Error(f(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},St===null?Qe.memoizedState=St=e:St=St.next=e}return St}function bi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hn(e){var t=fn;return fn+=1,Ns===null&&(Ns=[]),e=Ru(Ns,e,t),t=Qe,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?zd:yo),e}function vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hn(e);if(e.$$typeof===O)return Et(e)}throw Error(f(438,String(e)))}function io(e){var t=null,a=Qe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Qe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=bi(),Qe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=de;return t.index++,a}function Ea(e,t){return typeof t=="function"?t(e):t}function ji(e){var t=wt();return ro(t,ut,e)}function ro(e,t,a){var s=e.queue;if(s===null)throw Error(f(311));s.lastRenderedReducer=a;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var N=r=null,q=null,se=t,xe=!1;do{var ve=se.lane&-536870913;if(ve!==se.lane?(We&ve)===ve:(Ta&ve)===ve){var re=se.revertLane;if(re===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ve===xs&&(xe=!0);else if((Ta&re)===re){se=se.next,re===xs&&(xe=!0);continue}else ve={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(N=q=ve,r=i):q=q.next=ve,Qe.lanes|=re,cl|=re;ve=se.action,ql&&a(i,ve),i=se.hasEagerState?se.eagerState:a(i,ve)}else re={lane:ve,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},q===null?(N=q=re,r=i):q=q.next=re,Qe.lanes|=ve,cl|=ve;se=se.next}while(se!==null&&se!==t);if(q===null?r=i:q.next=N,!Pt(i,e.memoizedState)&&(Ct=!0,xe&&(a=ps,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=q,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function oo(e){var t=wt(),a=t.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);Pt(i,t.memoizedState)||(Ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,s]}function Qu(e,t,a){var s=Qe,n=wt(),i=Pe;if(i){if(a===void 0)throw Error(f(407));a=a()}else a=t();var r=!Pt((ut||n).memoizedState,a);if(r&&(n.memoizedState=a,Ct=!0),n=n.queue,fo(Ju.bind(null,s,n,e),[e]),n.getSnapshot!==t||r||St!==null&&St.memoizedState.tag&1){if(s.flags|=2048,ws(9,{destroy:void 0},Ku.bind(null,s,n,a,t),null),ht===null)throw Error(f(349));i||(Ta&127)!==0||Vu(s,t,a)}return a}function Vu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Qe.updateQueue,t===null?(t=bi(),Qe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ku(e,t,a,s){t.value=a,t.getSnapshot=s,Fu(t)&&$u(e)}function Ju(e,t,a){return a(function(){Fu(t)&&$u(e)})}function Fu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Pt(e,a)}catch{return!0}}function $u(e){var t=Ol(e,2);t!==null&&It(t,e,2)}function co(e){var t=Gt();if(typeof e=="function"){var a=e;if(e=a(),ql){_e(!0);try{a()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function Wu(e,t,a,s){return e.baseState=a,ro(e,ut,typeof s=="function"?s:Ea)}function Ih(e,t,a,s,n){if(_i(e))throw Error(f(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};Z.T!==null?a(!0):i.isTransition=!1,s(i),a=t.pending,a===null?(i.next=t.pending=i,Iu(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Iu(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=Z.T,r={};Z.T=r;try{var N=a(n,s),q=Z.S;q!==null&&q(r,N),Pu(e,t,N)}catch(se){uo(e,t,se)}finally{i!==null&&r.types!==null&&(i.types=r.types),Z.T=i}}else try{i=a(n,s),Pu(e,t,i)}catch(se){uo(e,t,se)}}function Pu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){ed(e,t,s)},function(s){return uo(e,t,s)}):ed(e,t,a)}function ed(e,t,a){t.status="fulfilled",t.value=a,td(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Iu(e,a)))}function uo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,td(t),t=t.next;while(t!==s)}e.action=null}function td(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ad(e,t){return t}function ld(e,t){if(Pe){var a=ht.formState;if(a!==null){e:{var s=Qe;if(Pe){if(mt){t:{for(var n=mt,i=fa;n.nodeType!==8;){if(!i){n=null;break t}if(n=ga(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){mt=ga(n.nextSibling),s=n.data==="F!";break e}}el(s)}s=!1}s&&(t=a[0])}}return a=Gt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:t},a.queue=s,a=Nd.bind(null,Qe,s),s.dispatch=a,s=co(!1),i=po.bind(null,Qe,!1,s.queue),s=Gt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=Ih.bind(null,Qe,n,i,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function sd(e){var t=wt();return nd(t,ut,e)}function nd(e,t,a){if(t=ro(e,t,ad)[0],e=ji(Ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=hn(t)}catch(r){throw r===ys?di:r}else s=t;t=wt();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(Qe.flags|=2048,ws(9,{destroy:void 0},Ph.bind(null,n,a),null)),[s,i,e]}function Ph(e,t){e.action=t}function id(e){var t=wt(),a=ut;if(a!==null)return nd(t,a,e);wt(),t=t.memoizedState,a=wt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ws(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Qe.updateQueue,t===null&&(t=bi(),Qe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function rd(){return wt().memoizedState}function Ni(e,t,a,s){var n=Gt();Qe.flags|=e,n.memoizedState=ws(1|t,{destroy:void 0},a,s===void 0?null:s)}function wi(e,t,a,s){var n=wt();s=s===void 0?null:s;var i=n.memoizedState.inst;ut!==null&&s!==null&&to(s,ut.memoizedState.deps)?n.memoizedState=ws(t,i,a,s):(Qe.flags|=e,n.memoizedState=ws(1|t,i,a,s))}function od(e,t){Ni(8390656,8,e,t)}function fo(e,t){wi(2048,8,e,t)}function eg(e){Qe.flags|=4;var t=Qe.updateQueue;if(t===null)t=bi(),Qe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function cd(e){var t=wt().memoizedState;return eg({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(f(440));return t.impl.apply(void 0,arguments)}}function ud(e,t){return wi(4,2,e,t)}function dd(e,t){return wi(4,4,e,t)}function fd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hd(e,t,a){a=a!=null?a.concat([e]):null,wi(4,4,fd.bind(null,t,e),a)}function ho(){}function gd(e,t){var a=wt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&to(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function md(e,t){var a=wt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&to(t,s[1]))return s[0];if(s=e(),ql){_e(!0);try{e()}finally{_e(!1)}}return a.memoizedState=[s,t],s}function go(e,t,a){return a===void 0||(Ta&1073741824)!==0&&(We&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=pf(),Qe.lanes|=e,cl|=e,a)}function xd(e,t,a,s){return Pt(a,t)?a:vs.current!==null?(e=go(e,a,s),Pt(e,t)||(Ct=!0),e):(Ta&42)===0||(Ta&1073741824)!==0&&(We&261930)===0?(Ct=!0,e.memoizedState=a):(e=pf(),Qe.lanes|=e,cl|=e,t)}function pd(e,t,a,s,n){var i=Y.p;Y.p=i!==0&&8>i?i:8;var r=Z.T,N={};Z.T=N,po(e,!1,t,a);try{var q=n(),se=Z.S;if(se!==null&&se(N,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var xe=Fh(q,s);gn(e,t,xe,na(e))}else gn(e,t,s,na(e))}catch(ve){gn(e,t,{then:function(){},status:"rejected",reason:ve},na())}finally{Y.p=i,r!==null&&N.types!==null&&(r.types=N.types),Z.T=r}}function tg(){}function mo(e,t,a,s){if(e.tag!==5)throw Error(f(476));var n=yd(e).queue;pd(e,n,t,pe,a===null?tg:function(){return bd(e),a(s)})}function yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:pe},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bd(e){var t=yd(e);t.next===null&&(t=e.alternate.memoizedState),gn(e,t.next.queue,{},na())}function xo(){return Et(On)}function vd(){return wt().memoizedState}function jd(){return wt().memoizedState}function ag(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=na();e=ll(a);var s=sl(t,e,a);s!==null&&(It(s,t,a),cn(s,t,a)),t={cache:Xr()},e.payload=t;return}t=t.return}}function lg(e,t,a){var s=na();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_i(e)?wd(t,a):(a=Ur(e,t,a,s),a!==null&&(It(a,e,s),_d(a,t,s)))}function Nd(e,t,a){var s=na();gn(e,t,a,s)}function gn(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_i(e))wd(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,N=i(r,a);if(n.hasEagerState=!0,n.eagerState=N,Pt(N,r))return si(e,t,n,0),ht===null&&li(),!1}catch{}finally{}if(a=Ur(e,t,n,s),a!==null)return It(a,e,s),_d(a,t,s),!0}return!1}function po(e,t,a,s){if(s={lane:2,revertLane:Fo(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(t)throw Error(f(479))}else t=Ur(e,a,s,2),t!==null&&It(t,e,2)}function _i(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function wd(e,t){js=pi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function _d(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,$a(e,a)}}var mn={readContext:Et,use:vi,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};mn.useEffectEvent=bt;var zd={readContext:Et,use:vi,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:od,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ni(4194308,4,fd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){Ni(4,2,e,t)},useMemo:function(e,t){var a=Gt();t=t===void 0?null:t;var s=e();if(ql){_e(!0);try{e()}finally{_e(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Gt();if(a!==void 0){var n=a(t);if(ql){_e(!0);try{a(t)}finally{_e(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=lg.bind(null,Qe,e),[s.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:function(e){e=co(e);var t=e.queue,a=Nd.bind(null,Qe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ho,useDeferredValue:function(e,t){var a=Gt();return go(a,e,t)},useTransition:function(){var e=co(!1);return e=pd.bind(null,Qe,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Qe,n=Gt();if(Pe){if(a===void 0)throw Error(f(407));a=a()}else{if(a=t(),ht===null)throw Error(f(349));(We&127)!==0||Vu(s,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,od(Ju.bind(null,s,i,e),[e]),s.flags|=2048,ws(9,{destroy:void 0},Ku.bind(null,s,i,a,t),null),a},useId:function(){var e=Gt(),t=ht.identifierPrefix;if(Pe){var a=wa,s=Na;a=(s&~(1<<32-ze(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=yi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=$h++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xo,useFormState:ld,useActionState:ld,useOptimistic:function(e){var t=Gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=po.bind(null,Qe,!0,a),a.dispatch=t,[e,t]},useMemoCache:io,useCacheRefresh:function(){return Gt().memoizedState=ag.bind(null,Qe)},useEffectEvent:function(e){var t=Gt(),a={impl:e};return t.memoizedState=a,function(){if((nt&2)!==0)throw Error(f(440));return a.impl.apply(void 0,arguments)}}},yo={readContext:Et,use:vi,useCallback:gd,useContext:Et,useEffect:fo,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:md,useReducer:ji,useRef:rd,useState:function(){return ji(Ea)},useDebugValue:ho,useDeferredValue:function(e,t){var a=wt();return xd(a,ut.memoizedState,e,t)},useTransition:function(){var e=ji(Ea)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:hn(e),t]},useSyncExternalStore:Qu,useId:vd,useHostTransitionStatus:xo,useFormState:sd,useActionState:sd,useOptimistic:function(e,t){var a=wt();return Wu(a,ut,e,t)},useMemoCache:io,useCacheRefresh:jd};yo.useEffectEvent=cd;var Sd={readContext:Et,use:vi,useCallback:gd,useContext:Et,useEffect:fo,useImperativeHandle:hd,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:md,useReducer:oo,useRef:rd,useState:function(){return oo(Ea)},useDebugValue:ho,useDeferredValue:function(e,t){var a=wt();return ut===null?go(a,e,t):xd(a,ut.memoizedState,e,t)},useTransition:function(){var e=oo(Ea)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:hn(e),t]},useSyncExternalStore:Qu,useId:vd,useHostTransitionStatus:xo,useFormState:id,useActionState:id,useOptimistic:function(e,t){var a=wt();return ut!==null?Wu(a,ut,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:io,useCacheRefresh:jd};Sd.useEffectEvent=cd;function bo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:m({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var vo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=na(),n=ll(s);n.payload=t,a!=null&&(n.callback=a),t=sl(e,n,s),t!==null&&(It(t,e,s),cn(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=na(),n=ll(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=sl(e,n,s),t!==null&&(It(t,e,s),cn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=na(),s=ll(a);s.tag=2,t!=null&&(s.callback=t),t=sl(e,s,a),t!==null&&(It(t,e,a),cn(t,e,a))}};function Cd(e,t,a,s,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,r):t.prototype&&t.prototype.isPureReactComponent?!en(a,s)||!en(n,i):!0}function kd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Zl(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=m({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function Ad(e){ai(e)}function Dd(e){console.error(e)}function Od(e){ai(e)}function zi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Md(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function jo(e,t,a){return a=ll(a),a.tag=3,a.payload={element:null},a.callback=function(){zi(e,t)},a}function Ud(e){return e=ll(e),e.tag=3,e}function Rd(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){Md(t,a,s)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Md(t,a,s),typeof n!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})})}function sg(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&ms(t,a,n,!0),a=ta.current,a!==null){switch(a.tag){case 31:case 13:return ha===null?Bi():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===fi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Vo(e,s,n)),!1;case 22:return a.flags|=65536,s===fi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Vo(e,s,n)),!1}throw Error(f(435,a.tag))}return Vo(e,s,n),Bi(),!1}if(Pe)return t=ta.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Lr&&(e=Error(f(422),{cause:s}),ln(ca(e,a)))):(s!==Lr&&(t=Error(f(423),{cause:s}),ln(ca(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=ca(s,a),n=jo(e.stateNode,s,n),$r(e,n),vt!==4&&(vt=2)),!1;var i=Error(f(520),{cause:s});if(i=ca(i,a),wn===null?wn=[i]:wn.push(i),vt!==4&&(vt=2),t===null)return!0;s=ca(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=jo(a.stateNode,s,e),$r(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ul===null||!ul.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Ud(n),Rd(n,e,a,s),$r(a,n),!1}a=a.return}while(a!==null);return!1}var No=Error(f(461)),Ct=!1;function Bt(e,t,a,s){t.child=e===null?Hu(t,null,a,s):Ll(t,e.child,a,s)}function Td(e,t,a,s,n){a=a.render;var i=t.ref;if("ref"in s){var r={};for(var N in s)N!=="ref"&&(r[N]=s[N])}else r=s;return Tl(t),s=ao(e,t,a,r,i,n),N=lo(),e!==null&&!Ct?(so(e,t,n),Ba(e,t,n)):(Pe&&N&&Br(t),t.flags|=1,Bt(e,t,s,n),t.child)}function Ed(e,t,a,s,n){if(e===null){var i=a.type;return typeof i=="function"&&!Rr(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Bd(e,t,i,s,n)):(e=ii(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Do(e,n)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:en,a(r,s)&&e.ref===t.ref)return Ba(e,t,n)}return t.flags|=1,e=Oa(i,s),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,a,s,n){if(e!==null){var i=e.memoizedProps;if(en(i,s)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=s=i,Do(e,n))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,Ba(e,t,n)}return wo(e,t,a,s,n)}function Hd(e,t,a,s){var n=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~i}else s=0,t.child=null;return Ld(e,t,i,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ui(t,i!==null?i.cachePool:null),i!==null?Zu(t,i):Ir(),Yu(t);else return s=t.lanes=536870912,Ld(e,t,i!==null?i.baseLanes|a:a,a,s)}else i!==null?(ui(t,i.cachePool),Zu(t,i),il(),t.memoizedState=null):(e!==null&&ui(t,null),Ir(),il());return Bt(e,t,n,a),t.child}function xn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ld(e,t,a,s,n){var i=Vr();return i=i===null?null:{parent:zt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&ui(t,null),Ir(),Yu(t),e!==null&&ms(e,t,s,!0),t.childLanes=n,null}function Si(e,t){return t=ki({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qd(e,t,a){return Ll(t,e.child,null,a),e=Si(t,t.pendingProps),e.flags|=2,aa(t),t.memoizedState=null,e}function ng(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(s.mode==="hidden")return e=Si(t,s),t.lanes=536870912,xn(null,e);if(eo(t),(e=mt)?(e=Pf(e,fa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:Na,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},a=wu(e),a.return=t,t.child=a,Tt=t,mt=null)):e=null,e===null)throw el(t);return t.lanes=536870912,null}return Si(t,s)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(eo(t),n)if(t.flags&256)t.flags&=-257,t=qd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(f(558));else if(Ct||ms(e,t,a,!1),n=(a&e.childLanes)!==0,Ct||n){if(s=ht,s!==null&&(r=Ys(s,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,Ol(e,r),It(s,e,r),No;Bi(),t=qd(e,t,a)}else e=i.treeContext,mt=ga(r.nextSibling),Tt=t,Pe=!0,Pa=null,fa=!1,e!==null&&Su(t,e),t=Si(t,s),t.flags|=4096;return t}return e=Oa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ci(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(f(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function wo(e,t,a,s,n){return Tl(t),a=ao(e,t,a,s,void 0,n),s=lo(),e!==null&&!Ct?(so(e,t,n),Ba(e,t,n)):(Pe&&s&&Br(t),t.flags|=1,Bt(e,t,a,n),t.child)}function Zd(e,t,a,s,n,i){return Tl(t),t.updateQueue=null,a=Xu(t,s,a,n),Gu(e),s=lo(),e!==null&&!Ct?(so(e,t,i),Ba(e,t,i)):(Pe&&s&&Br(t),t.flags|=1,Bt(e,t,a,i),t.child)}function Yd(e,t,a,s,n){if(Tl(t),t.stateNode===null){var i=ds,r=a.contextType;typeof r=="object"&&r!==null&&(i=Et(r)),i=new a(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vo,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Jr(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?Et(r):ds,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(bo(t,a,r,s),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&vo.enqueueReplaceState(i,i.state,null),dn(t,s,i,n),un(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var N=t.memoizedProps,q=Zl(a,N);i.props=q;var se=i.context,xe=a.contextType;r=ds,typeof xe=="object"&&xe!==null&&(r=Et(xe));var ve=a.getDerivedStateFromProps;xe=typeof ve=="function"||typeof i.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,xe||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(N||se!==r)&&kd(t,i,s,r),al=!1;var re=t.memoizedState;i.state=re,dn(t,s,i,n),un(),se=t.memoizedState,N||re!==se||al?(typeof ve=="function"&&(bo(t,a,ve,s),se=t.memoizedState),(q=al||Cd(t,a,q,s,re,se,r))?(xe||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=se),i.props=s,i.state=se,i.context=r,s=q):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Fr(e,t),r=t.memoizedProps,xe=Zl(a,r),i.props=xe,ve=t.pendingProps,re=i.context,se=a.contextType,q=ds,typeof se=="object"&&se!==null&&(q=Et(se)),N=a.getDerivedStateFromProps,(se=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==ve||re!==q)&&kd(t,i,s,q),al=!1,re=t.memoizedState,i.state=re,dn(t,s,i,n),un();var fe=t.memoizedState;r!==ve||re!==fe||al||e!==null&&e.dependencies!==null&&oi(e.dependencies)?(typeof N=="function"&&(bo(t,a,N,s),fe=t.memoizedState),(xe=al||Cd(t,a,xe,s,re,fe,q)||e!==null&&e.dependencies!==null&&oi(e.dependencies))?(se||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,fe,q),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,fe,q)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=fe),i.props=s,i.state=fe,i.context=q,s=xe):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&re===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&re===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Ci(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=Ll(t,e.child,null,n),t.child=Ll(t,null,a,n)):Bt(e,t,a,n),t.memoizedState=i.state,e=t.child):e=Ba(e,t,n),e}function Gd(e,t,a,s){return Ul(),t.flags|=256,Bt(e,t,a,s),t.child}var _o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:Mu()}}function So(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=sa),e}function Xd(e,t,a){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(n?nl(t):il(),(e=mt)?(e=Pf(e,fa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:Na,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},a=wu(e),a.return=t,t.child=a,Tt=t,mt=null)):e=null,e===null)throw el(t);return oc(e)?t.lanes=32:t.lanes=536870912,null}var N=s.children;return s=s.fallback,n?(il(),n=t.mode,N=ki({mode:"hidden",children:N},n),s=Ml(s,n,a,null),N.return=t,s.return=t,N.sibling=s,t.child=N,s=t.child,s.memoizedState=zo(a),s.childLanes=So(e,r,a),t.memoizedState=_o,xn(null,s)):(nl(t),Co(t,N))}var q=e.memoizedState;if(q!==null&&(N=q.dehydrated,N!==null)){if(i)t.flags&256?(nl(t),t.flags&=-257,t=ko(e,t,a)):t.memoizedState!==null?(il(),t.child=e.child,t.flags|=128,t=null):(il(),N=s.fallback,n=t.mode,s=ki({mode:"visible",children:s.children},n),N=Ml(N,n,a,null),N.flags|=2,s.return=t,N.return=t,s.sibling=N,t.child=s,Ll(t,e.child,null,a),s=t.child,s.memoizedState=zo(a),s.childLanes=So(e,r,a),t.memoizedState=_o,t=xn(null,s));else if(nl(t),oc(N)){if(r=N.nextSibling&&N.nextSibling.dataset,r)var se=r.dgst;r=se,s=Error(f(419)),s.stack="",s.digest=r,ln({value:s,source:null,stack:null}),t=ko(e,t,a)}else if(Ct||ms(e,t,a,!1),r=(a&e.childLanes)!==0,Ct||r){if(r=ht,r!==null&&(s=Ys(r,a),s!==0&&s!==q.retryLane))throw q.retryLane=s,Ol(e,s),It(r,e,s),No;rc(N)||Bi(),t=ko(e,t,a)}else rc(N)?(t.flags|=192,t.child=e.child,t=null):(e=q.treeContext,mt=ga(N.nextSibling),Tt=t,Pe=!0,Pa=null,fa=!1,e!==null&&Su(t,e),t=Co(t,s.children),t.flags|=4096);return t}return n?(il(),N=s.fallback,n=t.mode,q=e.child,se=q.sibling,s=Oa(q,{mode:"hidden",children:s.children}),s.subtreeFlags=q.subtreeFlags&65011712,se!==null?N=Oa(se,N):(N=Ml(N,n,a,null),N.flags|=2),N.return=t,s.return=t,s.sibling=N,t.child=s,xn(null,s),s=t.child,N=e.child.memoizedState,N===null?N=zo(a):(n=N.cachePool,n!==null?(q=zt._currentValue,n=n.parent!==q?{parent:q,pool:q}:n):n=Mu(),N={baseLanes:N.baseLanes|a,cachePool:n}),s.memoizedState=N,s.childLanes=So(e,r,a),t.memoizedState=_o,xn(e.child,s)):(nl(t),a=e.child,e=a.sibling,a=Oa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Co(e,t){return t=ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ki(e,t){return e=ea(22,e,null,t),e.lanes=0,e}function ko(e,t,a){return Ll(t,e.child,null,a),e=Co(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yr(e.return,t,a)}function Ao(e,t,a,s,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=a,r.tailMode=n,r.treeForkCount=i)}function Vd(e,t,a){var s=t.pendingProps,n=s.revealOrder,i=s.tail;s=s.children;var r=Nt.current,N=(r&2)!==0;if(N?(r=r&1|2,t.flags|=128):r&=1,ne(Nt,r),Bt(e,t,s,a),s=Pe?an:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qd(e,a,t);else if(e.tag===19)Qd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&xi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Ao(t,!1,n,a,i,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&xi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Ao(t,!0,a,null,i,s);break;case"together":Ao(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Ba(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),cl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ms(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,a=Oa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Oa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Do(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&oi(e)))}function ig(e,t,a){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),tl(t,zt,e.memoizedState.cache),Ul();break;case 27:case 5:Te(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:tl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,eo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(nl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Xd(e,t,a):(nl(t),e=Ba(e,t,a),e!==null?e.sibling:null);nl(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(ms(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return Vd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ne(Nt,Nt.current),s)break;return null;case 22:return t.lanes=0,Hd(e,t,a,t.pendingProps);case 24:tl(t,zt,e.memoizedState.cache)}return Ba(e,t,a)}function Kd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!Do(e,a)&&(t.flags&128)===0)return Ct=!1,ig(e,t,a);Ct=(e.flags&131072)!==0}else Ct=!1,Pe&&(t.flags&1048576)!==0&&zu(t,an,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Bl(t.elementType),t.type=e,typeof e=="function")Rr(e)?(s=Zl(e,s),t.tag=1,t=Yd(null,t,e,s,a)):(t.tag=0,t=wo(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===L){t.tag=11,t=Td(null,t,e,s,a);break e}else if(n===Q){t.tag=14,t=Ed(null,t,e,s,a);break e}}throw t=c(e)||e,Error(f(306,t,""))}}return t;case 0:return wo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=Zl(s,t.pendingProps),Yd(e,t,s,n,a);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(f(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,Fr(e,t),dn(t,s,null,a);var r=t.memoizedState;if(s=r.cache,tl(t,zt,s),s!==i.cache&&Gr(t,[zt],a,!0),un(),s=r.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Gd(e,t,s,a);break e}else if(s!==n){n=ca(Error(f(424)),t),ln(n),t=Gd(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(mt=ga(e.firstChild),Tt=t,Pe=!0,Pa=null,fa=!0,a=Hu(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ul(),s===n){t=Ba(e,t,a);break e}Bt(e,t,s,a)}t=t.child}return t;case 26:return Ci(e,t),e===null?(a=n0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Pe||(a=t.type,e=t.pendingProps,s=Xi(Ne.current).createElement(a),s[Ue]=t,s[ct]=e,Ht(s,a,e),Ut(s),t.stateNode=s):t.memoizedState=n0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Te(t),e===null&&Pe&&(s=t.stateNode=a0(t.type,t.pendingProps,Ne.current),Tt=t,fa=!0,n=mt,gl(t.type)?(cc=n,mt=ga(s.firstChild)):mt=n),Bt(e,t,t.pendingProps.children,a),Ci(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((n=s=mt)&&(s=Eg(s,t.type,t.pendingProps,fa),s!==null?(t.stateNode=s,Tt=t,mt=ga(s.firstChild),fa=!1,n=!0):n=!1),n||el(t)),Te(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,sc(n,i)?s=null:r!==null&&sc(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=ao(e,t,Wh,null,null,a),On._currentValue=n),Ci(e,t),Bt(e,t,s,a),t.child;case 6:return e===null&&Pe&&((e=a=mt)&&(a=Bg(a,t.pendingProps,fa),a!==null?(t.stateNode=a,Tt=t,mt=null,e=!0):e=!1),e||el(t)),null;case 13:return Xd(e,t,a);case 4:return Oe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ll(t,null,s,a):Bt(e,t,s,a),t.child;case 11:return Td(e,t,t.type,t.pendingProps,a);case 7:return Bt(e,t,t.pendingProps,a),t.child;case 8:return Bt(e,t,t.pendingProps.children,a),t.child;case 12:return Bt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,tl(t,t.type,s.value),Bt(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Tl(t),n=Et(n),s=s(n),t.flags|=1,Bt(e,t,s,a),t.child;case 14:return Ed(e,t,t.type,t.pendingProps,a);case 15:return Bd(e,t,t.type,t.pendingProps,a);case 19:return Vd(e,t,a);case 31:return ng(e,t,a);case 22:return Hd(e,t,a,t.pendingProps);case 24:return Tl(t),s=Et(zt),e===null?(n=Vr(),n===null&&(n=ht,i=Xr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:s,cache:n},Jr(t),tl(t,zt,n)):((e.lanes&a)!==0&&(Fr(e,t),dn(t,null,null,a),un()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),tl(t,zt,s)):(s=i.cache,tl(t,zt,s),s!==n.cache&&Gr(t,[zt],a,!0))),Bt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function Ha(e){e.flags|=4}function Oo(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw Hl=fi,Kr}else e.flags&=-16777217}function Jd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u0(t))if(jf())e.flags|=8192;else throw Hl=fi,Kr}function Ai(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xn():536870912,e.lanes|=t,Cs|=t)}function pn(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function rg(e,t,a){var s=t.pendingProps;switch(Hr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ra(zt),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gs(t)?Ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qr())),xt(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Ha(t),i!==null?(xt(t),Jd(t,i)):(xt(t),Oo(t,n,null,s,a))):i?i!==e.memoizedState?(Ha(t),xt(t),Jd(t,i)):(xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Ha(t),xt(t),Oo(t,n,e,s,a)),null;case 27:if(Ye(t),a=Ne.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ha(t);else{if(!s){if(t.stateNode===null)throw Error(f(166));return xt(t),null}e=ce.current,gs(t)?Cu(t):(e=a0(n,s,a),t.stateNode=e,Ha(t))}return xt(t),null;case 5:if(Ye(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ha(t);else{if(!s){if(t.stateNode===null)throw Error(f(166));return xt(t),null}if(i=ce.current,gs(t))Cu(t);else{var r=Xi(Ne.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}i[Ue]=t,i[ct]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ht(i,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ha(t)}}return xt(t),Oo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ha(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(f(166));if(e=Ne.current,gs(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=Tt,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[Ue]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Qf(e.nodeValue,a)),e||el(t,!0)}else e=Xi(e).createTextNode(s),e[Ue]=t,t.stateNode=e}return xt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=gs(t),a!==null){if(e===null){if(!s)throw Error(f(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[Ue]=t}else Ul(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),e=!1}else a=qr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(aa(t),t):(aa(t),null);if((t.flags&128)!==0)throw Error(f(558))}return xt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=gs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(f(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(f(317));n[Ue]=t}else Ul(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),n=!1}else n=qr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(aa(t),t):(aa(t),null)}return aa(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ai(t,t.updateQueue),xt(t),null);case 4:return ke(),e===null&&Po(t.stateNode.containerInfo),xt(t),null;case 10:return Ra(t.type),xt(t),null;case 19:if(T(Nt),s=t.memoizedState,s===null)return xt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)pn(s,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=xi(e),i!==null){for(t.flags|=128,pn(s,!1),e=i.updateQueue,t.updateQueue=e,Ai(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nu(a,e),a=a.sibling;return ne(Nt,Nt.current&1|2),Pe&&Ma(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&w()>Ri&&(t.flags|=128,n=!0,pn(s,!1),t.lanes=4194304)}else{if(!n)if(e=xi(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ai(t,e),pn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Pe)return xt(t),null}else 2*w()-s.renderingStartTime>Ri&&a!==536870912&&(t.flags|=128,n=!0,pn(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=w(),e.sibling=null,a=Nt.current,ne(Nt,n?a&1|2:a&1),Pe&&Ma(t,s.treeForkCount),e):(xt(t),null);case 22:case 23:return aa(t),Pr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),a=t.updateQueue,a!==null&&Ai(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&T(El),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ra(zt),xt(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function og(e,t){switch(Hr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ra(zt),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ye(t),null;case 31:if(t.memoizedState!==null){if(aa(t),t.alternate===null)throw Error(f(340));Ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(aa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));Ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T(Nt),null;case 4:return ke(),null;case 10:return Ra(t.type),null;case 22:case 23:return aa(t),Pr(),e!==null&&T(El),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ra(zt),null;case 25:return null;default:return null}}function Fd(e,t){switch(Hr(t),t.tag){case 3:Ra(zt),ke();break;case 26:case 27:case 5:Ye(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&aa(t);break;case 13:aa(t);break;case 19:T(Nt);break;case 10:Ra(t.type);break;case 22:case 23:aa(t),Pr(),e!==null&&T(El);break;case 24:Ra(zt)}}function yn(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var i=a.create,r=a.inst;s=i(),r.destroy=s}a=a.next}while(a!==n)}}catch(N){ot(t,t.return,N)}}function rl(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var r=s.inst,N=r.destroy;if(N!==void 0){r.destroy=void 0,n=t;var q=a,se=N;try{se()}catch(xe){ot(n,q,xe)}}}s=s.next}while(s!==i)}}catch(xe){ot(t,t.return,xe)}}function $d(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{qu(t,a)}catch(s){ot(e,e.return,s)}}}function Wd(e,t,a){a.props=Zl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ot(e,t,s)}}function bn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){ot(e,t,n)}}function _a(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){ot(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){ot(e,t,n)}else a.current=null}function Id(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){ot(e,e.return,n)}}function Mo(e,t,a){try{var s=e.stateNode;Dg(s,e.type,a,t),s[ct]=t}catch(n){ot(e,e.return,n)}}function Pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gl(e.type)||e.tag===4}function Uo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ro(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Aa));else if(s!==4&&(s===27&&gl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ro(e,t,a),e=e.sibling;e!==null;)Ro(e,t,a),e=e.sibling}function Di(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&gl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Di(e,t,a),e=e.sibling;e!==null;)Di(e,t,a),e=e.sibling}function ef(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ht(t,s,a),t[Ue]=e,t[ct]=a}catch(i){ot(e,e.return,i)}}var La=!1,kt=!1,To=!1,tf=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function cg(e,t){if(e=e.containerInfo,ac=Wi,e=hu(e),Cr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,N=-1,q=-1,se=0,xe=0,ve=e,re=null;t:for(;;){for(var fe;ve!==a||n!==0&&ve.nodeType!==3||(N=r+n),ve!==i||s!==0&&ve.nodeType!==3||(q=r+s),ve.nodeType===3&&(r+=ve.nodeValue.length),(fe=ve.firstChild)!==null;)re=ve,ve=fe;for(;;){if(ve===e)break t;if(re===a&&++se===n&&(N=r),re===i&&++xe===s&&(q=r),(fe=ve.nextSibling)!==null)break;ve=re,re=ve.parentNode}ve=fe}a=N===-1||q===-1?null:{start:N,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(lc={focusedElem:e,selectionRange:a},Wi=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,s=a.stateNode;try{var Re=Zl(a.type,n);e=s.getSnapshotBeforeUpdate(Re,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(Le){ot(a,a.return,Le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ic(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ic(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function af(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Za(e,a),s&4&&yn(5,a);break;case 1:if(Za(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){ot(a,a.return,r)}else{var n=Zl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ot(a,a.return,r)}}s&64&&$d(a),s&512&&bn(a,a.return);break;case 3:if(Za(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{qu(e,t)}catch(r){ot(a,a.return,r)}}break;case 27:t===null&&s&4&&ef(a);case 26:case 5:Za(e,a),t===null&&s&4&&Id(a),s&512&&bn(a,a.return);break;case 12:Za(e,a);break;case 31:Za(e,a),s&4&&nf(e,a);break;case 13:Za(e,a),s&4&&rf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yg.bind(null,a),Hg(e,a))));break;case 22:if(s=a.memoizedState!==null||La,!s){t=t!==null&&t.memoizedState!==null||kt,n=La;var i=kt;La=s,(kt=t)&&!i?Ya(e,a,(a.subtreeFlags&8772)!==0):Za(e,a),La=n,kt=i}break;case 30:break;default:Za(e,a)}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ur(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pt=null,Jt=!1;function qa(e,t,a){for(a=a.child;a!==null;)sf(e,t,a),a=a.sibling}function sf(e,t,a){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(Xe,a)}catch{}switch(a.tag){case 26:kt||_a(a,t),qa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||_a(a,t);var s=pt,n=Jt;gl(a.type)&&(pt=a.stateNode,Jt=!1),qa(e,t,a),kn(a.stateNode),pt=s,Jt=n;break;case 5:kt||_a(a,t);case 6:if(s=pt,n=Jt,pt=null,qa(e,t,a),pt=s,Jt=n,pt!==null)if(Jt)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(i){ot(a,t,i)}else try{pt.removeChild(a.stateNode)}catch(i){ot(a,t,i)}break;case 18:pt!==null&&(Jt?(e=pt,Wf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ts(e)):Wf(pt,a.stateNode));break;case 4:s=pt,n=Jt,pt=a.stateNode.containerInfo,Jt=!0,qa(e,t,a),pt=s,Jt=n;break;case 0:case 11:case 14:case 15:rl(2,a,t),kt||rl(4,a,t),qa(e,t,a);break;case 1:kt||(_a(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Wd(a,t,s)),qa(e,t,a);break;case 21:qa(e,t,a);break;case 22:kt=(s=kt)||a.memoizedState!==null,qa(e,t,a),kt=s;break;default:qa(e,t,a)}}function nf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ts(e)}catch(a){ot(t,t.return,a)}}}function rf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ts(e)}catch(a){ot(t,t.return,a)}}function ug(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tf),t;default:throw Error(f(435,e.tag))}}function Oi(e,t){var a=ug(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=bg.bind(null,e,s);s.then(n,n)}})}function Ft(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],i=e,r=t,N=r;e:for(;N!==null;){switch(N.tag){case 27:if(gl(N.type)){pt=N.stateNode,Jt=!1;break e}break;case 5:pt=N.stateNode,Jt=!1;break e;case 3:case 4:pt=N.stateNode.containerInfo,Jt=!0;break e}N=N.return}if(pt===null)throw Error(f(160));sf(i,r,n),pt=null,Jt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var ya=null;function of(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),$t(e),s&4&&(rl(3,e,e.return),yn(3,e),rl(5,e,e.return));break;case 1:Ft(t,e),$t(e),s&512&&(kt||a===null||_a(a,a.return)),s&64&&La&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=ya;if(Ft(t,e),$t(e),s&512&&(kt||a===null||_a(a,a.return)),s&4){var i=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Qs]||i[Ue]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),Ht(i,s,a),i[Ue]=e,Ut(i),s=i;break e;case"link":var r=o0("link","href",n).get(s+(a.href||""));if(r){for(var N=0;N<r.length;N++)if(i=r[N],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(N,1);break t}}i=n.createElement(s),Ht(i,s,a),n.head.appendChild(i);break;case"meta":if(r=o0("meta","content",n).get(s+(a.content||""))){for(N=0;N<r.length;N++)if(i=r[N],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(N,1);break t}}i=n.createElement(s),Ht(i,s,a),n.head.appendChild(i);break;default:throw Error(f(468,s))}i[Ue]=e,Ut(i),s=i}e.stateNode=s}else c0(n,e.type,e.stateNode);else e.stateNode=r0(n,s,e.memoizedProps);else i!==s?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,s===null?c0(n,e.type,e.stateNode):r0(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Mo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ft(t,e),$t(e),s&512&&(kt||a===null||_a(a,a.return)),a!==null&&s&4&&Mo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ft(t,e),$t(e),s&512&&(kt||a===null||_a(a,a.return)),e.flags&32){n=e.stateNode;try{ss(n,"")}catch(Re){ot(e,e.return,Re)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Mo(e,n,a!==null?a.memoizedProps:n)),s&1024&&(To=!0);break;case 6:if(Ft(t,e),$t(e),s&4){if(e.stateNode===null)throw Error(f(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(Re){ot(e,e.return,Re)}}break;case 3:if(Ki=null,n=ya,ya=Qi(t.containerInfo),Ft(t,e),ya=n,$t(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(Re){ot(e,e.return,Re)}To&&(To=!1,cf(e));break;case 4:s=ya,ya=Qi(e.stateNode.containerInfo),Ft(t,e),$t(e),ya=s;break;case 12:Ft(t,e),$t(e);break;case 31:Ft(t,e),$t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oi(e,s)));break;case 13:Ft(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ui=w()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oi(e,s)));break;case 22:n=e.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,se=La,xe=kt;if(La=se||n,kt=xe||q,Ft(t,e),kt=xe,La=se,$t(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||q||La||kt||Yl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){q=a=t;try{if(i=q.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{N=q.stateNode;var ve=q.memoizedProps.style,re=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;N.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Re){ot(q,q.return,Re)}}}else if(t.tag===6){if(a===null){q=t;try{q.stateNode.nodeValue=n?"":q.memoizedProps}catch(Re){ot(q,q.return,Re)}}}else if(t.tag===18){if(a===null){q=t;try{var fe=q.stateNode;n?If(fe,!0):If(q.stateNode,!1)}catch(Re){ot(q,q.return,Re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Oi(e,a))));break;case 19:Ft(t,e),$t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oi(e,s)));break;case 30:break;case 21:break;default:Ft(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Pd(s)){a=s;break}s=s.return}if(a==null)throw Error(f(160));switch(a.tag){case 27:var n=a.stateNode,i=Uo(e);Di(e,i,n);break;case 5:var r=a.stateNode;a.flags&32&&(ss(r,""),a.flags&=-33);var N=Uo(e);Di(e,N,r);break;case 3:case 4:var q=a.stateNode.containerInfo,se=Uo(e);Ro(e,se,q);break;default:throw Error(f(161))}}catch(xe){ot(e,e.return,xe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:rl(4,t,t.return),Yl(t);break;case 1:_a(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Wd(t,t.return,a),Yl(t);break;case 27:kn(t.stateNode);case 26:case 5:_a(t,t.return),Yl(t);break;case 22:t.memoizedState===null&&Yl(t);break;case 30:Yl(t);break;default:Yl(t)}e=e.sibling}}function Ya(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:Ya(n,i,a),yn(4,i);break;case 1:if(Ya(n,i,a),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(se){ot(s,s.return,se)}if(s=i,n=s.updateQueue,n!==null){var N=s.stateNode;try{var q=n.shared.hiddenCallbacks;if(q!==null)for(n.shared.hiddenCallbacks=null,n=0;n<q.length;n++)Lu(q[n],N)}catch(se){ot(s,s.return,se)}}a&&r&64&&$d(i),bn(i,i.return);break;case 27:ef(i);case 26:case 5:Ya(n,i,a),a&&s===null&&r&4&&Id(i),bn(i,i.return);break;case 12:Ya(n,i,a);break;case 31:Ya(n,i,a),a&&r&4&&nf(n,i);break;case 13:Ya(n,i,a),a&&r&4&&rf(n,i);break;case 22:i.memoizedState===null&&Ya(n,i,a),bn(i,i.return);break;case 30:break;default:Ya(n,i,a)}t=t.sibling}}function Eo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&sn(a))}function Bo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sn(e))}function ba(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uf(e,t,a,s),t=t.sibling}function uf(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ba(e,t,a,s),n&2048&&yn(9,t);break;case 1:ba(e,t,a,s);break;case 3:ba(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sn(e)));break;case 12:if(n&2048){ba(e,t,a,s),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,N=i.onPostCommit;typeof N=="function"&&N(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(q){ot(t,t.return,q)}}else ba(e,t,a,s);break;case 31:ba(e,t,a,s);break;case 13:ba(e,t,a,s);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?ba(e,t,a,s):vn(e,t):i._visibility&2?ba(e,t,a,s):(i._visibility|=2,_s(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Eo(r,t);break;case 24:ba(e,t,a,s),n&2048&&Bo(t.alternate,t);break;default:ba(e,t,a,s)}}function _s(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,N=a,q=s,se=r.flags;switch(r.tag){case 0:case 11:case 15:_s(i,r,N,q,n),yn(8,r);break;case 23:break;case 22:var xe=r.stateNode;r.memoizedState!==null?xe._visibility&2?_s(i,r,N,q,n):vn(i,r):(xe._visibility|=2,_s(i,r,N,q,n)),n&&se&2048&&Eo(r.alternate,r);break;case 24:_s(i,r,N,q,n),n&&se&2048&&Bo(r.alternate,r);break;default:_s(i,r,N,q,n)}t=t.sibling}}function vn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:vn(a,s),n&2048&&Eo(s.alternate,s);break;case 24:vn(a,s),n&2048&&Bo(s.alternate,s);break;default:vn(a,s)}t=t.sibling}}var jn=8192;function zs(e,t,a){if(e.subtreeFlags&jn)for(e=e.child;e!==null;)df(e,t,a),e=e.sibling}function df(e,t,a){switch(e.tag){case 26:zs(e,t,a),e.flags&jn&&e.memoizedState!==null&&$g(a,ya,e.memoizedState,e.memoizedProps);break;case 5:zs(e,t,a);break;case 3:case 4:var s=ya;ya=Qi(e.stateNode.containerInfo),zs(e,t,a),ya=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=jn,jn=16777216,zs(e,t,a),jn=s):zs(e,t,a));break;default:zs(e,t,a)}}function ff(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Rt=s,gf(s,e)}ff(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:Nn(e),e.flags&2048&&rl(9,e,e.return);break;case 3:Nn(e);break;case 12:Nn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Mi(e)):Nn(e);break;default:Nn(e)}}function Mi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Rt=s,gf(s,e)}ff(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:rl(8,t,t.return),Mi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Mi(t));break;default:Mi(t)}e=e.sibling}}function gf(e,t){for(;Rt!==null;){var a=Rt;switch(a.tag){case 0:case 11:case 15:rl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:sn(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Rt=s;else e:for(a=e;Rt!==null;){s=Rt;var n=s.sibling,i=s.return;if(lf(s),s===a){Rt=null;break e}if(n!==null){n.return=i,Rt=n;break e}Rt=i}}}var dg={getCacheForType:function(e){var t=Et(zt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Et(zt).controller.signal}},fg=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Fe=null,We=0,rt=0,la=null,ol=!1,Ss=!1,Ho=!1,Ga=0,vt=0,cl=0,Gl=0,Lo=0,sa=0,Cs=0,wn=null,Wt=null,qo=!1,Ui=0,mf=0,Ri=1/0,Ti=null,ul=null,Ot=0,dl=null,ks=null,Xa=0,Zo=0,Yo=null,xf=null,_n=0,Go=null;function na(){return(nt&2)!==0&&We!==0?We&-We:Z.T!==null?Fo():Qn()}function pf(){if(sa===0)if((We&536870912)===0||Pe){var e=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),sa=e}else sa=536870912;return e=ta.current,e!==null&&(e.flags|=32),sa}function It(e,t,a){(e===ht&&(rt===2||rt===9)||e.cancelPendingCommit!==null)&&(As(e,0),fl(e,We,sa,!1)),zl(e,a),((nt&2)===0||e!==ht)&&(e===ht&&((nt&2)===0&&(Gl|=a),vt===4&&fl(e,We,sa,!1)),za(e))}function yf(e,t,a){if((nt&6)!==0)throw Error(f(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ja(e,t),n=s?mg(e,t):Qo(e,t,!0),i=s;do{if(n===0){Ss&&!s&&fl(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!hg(a)){n=Qo(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var N=e;n=wn;var q=N.current.memoizedState.isDehydrated;if(q&&(As(N,r).flags|=256),r=Qo(N,r,!1),r!==2){if(Ho&&!q){N.errorRecoveryDisabledLanes|=i,Gl|=i,n=4;break e}i=Wt,Wt=n,i!==null&&(Wt===null?Wt=i:Wt.push.apply(Wt,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){As(e,0),fl(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:fl(s,t,sa,!ol);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(n=Ui+300-w(),10<n)){if(fl(s,t,sa,!ol),va(s,0,!0)!==0)break e;Xa=t,s.timeoutHandle=Ff(bf.bind(null,s,a,Wt,Ti,qo,t,sa,Gl,Cs,ol,i,"Throttled",-0,0),n);break e}bf(s,a,Wt,Ti,qo,t,sa,Gl,Cs,ol,i,null,-0,0)}}break}while(!0);za(e)}function bf(e,t,a,s,n,i,r,N,q,se,xe,ve,re,fe){if(e.timeoutHandle=-1,ve=t.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Aa},df(t,i,ve);var Re=(i&62914560)===i?Ui-w():(i&4194048)===i?mf-w():0;if(Re=Wg(ve,Re),Re!==null){Xa=i,e.cancelPendingCommit=Re(Cf.bind(null,e,t,i,a,s,n,r,N,q,xe,ve,null,re,fe)),fl(e,i,r,!se);return}}Cf(e,t,i,a,s,n,r,N,q)}function hg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],i=n.getSnapshot;n=n.value;try{if(!Pt(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fl(e,t,a,s){t&=~Lo,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-ze(n),r=1<<i;s[i]=-1,n&=~r}a!==0&&Fa(e,a,t)}function Ei(){return(nt&6)===0?(zn(0),!1):!0}function Xo(){if(Fe!==null){if(rt===0)var e=Fe.return;else e=Fe,Ua=Rl=null,no(e),bs=null,rn=0,e=Fe;for(;e!==null;)Fd(e.alternate,e),e=e.return;Fe=null}}function As(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ug(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xa=0,Xo(),ht=e,Fe=a=Oa(e.current,null),We=t,rt=0,la=null,ol=!1,Ss=Ja(e,t),Ho=!1,Cs=sa=Lo=Gl=cl=vt=0,Wt=wn=null,qo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-ze(s),i=1<<n;t|=e[n],s&=~i}return Ga=t,li(),a}function vf(e,t){Qe=null,Z.H=mn,t===ys||t===di?(t=Tu(),rt=3):t===Kr?(t=Tu(),rt=4):rt=t===No?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,la=t,Fe===null&&(vt=1,zi(e,ca(t,e.current)))}function jf(){var e=ta.current;return e===null?!0:(We&4194048)===We?ha===null:(We&62914560)===We||(We&536870912)!==0?e===ha:!1}function Nf(){var e=Z.H;return Z.H=mn,e===null?mn:e}function wf(){var e=Z.A;return Z.A=dg,e}function Bi(){vt=4,ol||(We&4194048)!==We&&ta.current!==null||(Ss=!0),(cl&134217727)===0&&(Gl&134217727)===0||ht===null||fl(ht,We,sa,!1)}function Qo(e,t,a){var s=nt;nt|=2;var n=Nf(),i=wf();(ht!==e||We!==t)&&(Ti=null,As(e,t)),t=!1;var r=vt;e:do try{if(rt!==0&&Fe!==null){var N=Fe,q=la;switch(rt){case 8:Xo(),r=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(t=!0);var se=rt;if(rt=0,la=null,Ds(e,N,q,se),a&&Ss){r=0;break e}break;default:se=rt,rt=0,la=null,Ds(e,N,q,se)}}gg(),r=vt;break}catch(xe){vf(e,xe)}while(!0);return t&&e.shellSuspendCounter++,Ua=Rl=null,nt=s,Z.H=n,Z.A=i,Fe===null&&(ht=null,We=0,li()),r}function gg(){for(;Fe!==null;)_f(Fe)}function mg(e,t){var a=nt;nt|=2;var s=Nf(),n=wf();ht!==e||We!==t?(Ti=null,Ri=w()+500,As(e,t)):Ss=Ja(e,t);e:do try{if(rt!==0&&Fe!==null){t=Fe;var i=la;t:switch(rt){case 1:rt=0,la=null,Ds(e,t,i,1);break;case 2:case 9:if(Uu(i)){rt=0,la=null,zf(t);break}t=function(){rt!==2&&rt!==9||ht!==e||(rt=7),za(e)},i.then(t,t);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Uu(i)?(rt=0,la=null,zf(t)):(rt=0,la=null,Ds(e,t,i,7));break;case 5:var r=null;switch(Fe.tag){case 26:r=Fe.memoizedState;case 5:case 27:var N=Fe;if(r?u0(r):N.stateNode.complete){rt=0,la=null;var q=N.sibling;if(q!==null)Fe=q;else{var se=N.return;se!==null?(Fe=se,Hi(se)):Fe=null}break t}}rt=0,la=null,Ds(e,t,i,5);break;case 6:rt=0,la=null,Ds(e,t,i,6);break;case 8:Xo(),vt=6;break e;default:throw Error(f(462))}}xg();break}catch(xe){vf(e,xe)}while(!0);return Ua=Rl=null,Z.H=s,Z.A=n,nt=a,Fe!==null?0:(ht=null,We=0,li(),vt)}function xg(){for(;Fe!==null&&!P();)_f(Fe)}function _f(e){var t=Kd(e.alternate,e,Ga);e.memoizedProps=e.pendingProps,t===null?Hi(e):Fe=t}function zf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Zd(a,t,t.pendingProps,t.type,void 0,We);break;case 11:t=Zd(a,t,t.pendingProps,t.type.render,t.ref,We);break;case 5:no(t);default:Fd(a,t),t=Fe=Nu(t,Ga),t=Kd(a,t,Ga)}e.memoizedProps=e.pendingProps,t===null?Hi(e):Fe=t}function Ds(e,t,a,s){Ua=Rl=null,no(t),bs=null,rn=0;var n=t.return;try{if(sg(e,n,t,a,We)){vt=1,zi(e,ca(a,e.current)),Fe=null;return}}catch(i){if(n!==null)throw Fe=n,i;vt=1,zi(e,ca(a,e.current)),Fe=null;return}t.flags&32768?(Pe||s===1?e=!0:Ss||(We&536870912)!==0?e=!1:(ol=e=!0,(s===2||s===9||s===3||s===6)&&(s=ta.current,s!==null&&s.tag===13&&(s.flags|=16384))),Sf(t,e)):Hi(t)}function Hi(e){var t=e;do{if((t.flags&32768)!==0){Sf(t,ol);return}e=t.return;var a=rg(t.alternate,t,Ga);if(a!==null){Fe=a;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);vt===0&&(vt=5)}function Sf(e,t){do{var a=og(e.alternate,e);if(a!==null){a.flags&=32767,Fe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=a}while(e!==null);vt=6,Fe=null}function Cf(e,t,a,s,n,i,r,N,q){e.cancelPendingCommit=null;do Li();while(Ot!==0);if((nt&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(i=t.lanes|t.childLanes,i|=Mr,or(e,a,i,r,N,q),e===ht&&(Fe=ht=null,We=0),ks=t,dl=e,Xa=a,Zo=i,Yo=n,xf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vg(Se,function(){return Mf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null,n=Y.p,Y.p=2,r=nt,nt|=4;try{cg(e,t,a)}finally{nt=r,Y.p=n,Z.T=s}}Ot=1,kf(),Af(),Df()}}function kf(){if(Ot===1){Ot=0;var e=dl,t=ks,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var s=Y.p;Y.p=2;var n=nt;nt|=4;try{of(t,e);var i=lc,r=hu(e.containerInfo),N=i.focusedElem,q=i.selectionRange;if(r!==N&&N&&N.ownerDocument&&fu(N.ownerDocument.documentElement,N)){if(q!==null&&Cr(N)){var se=q.start,xe=q.end;if(xe===void 0&&(xe=se),"selectionStart"in N)N.selectionStart=se,N.selectionEnd=Math.min(xe,N.value.length);else{var ve=N.ownerDocument||document,re=ve&&ve.defaultView||window;if(re.getSelection){var fe=re.getSelection(),Re=N.textContent.length,Le=Math.min(q.start,Re),ft=q.end===void 0?Le:Math.min(q.end,Re);!fe.extend&&Le>ft&&(r=ft,ft=Le,Le=r);var F=du(N,Le),X=du(N,ft);if(F&&X&&(fe.rangeCount!==1||fe.anchorNode!==F.node||fe.anchorOffset!==F.offset||fe.focusNode!==X.node||fe.focusOffset!==X.offset)){var ae=ve.createRange();ae.setStart(F.node,F.offset),fe.removeAllRanges(),Le>ft?(fe.addRange(ae),fe.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),fe.addRange(ae))}}}}for(ve=[],fe=N;fe=fe.parentNode;)fe.nodeType===1&&ve.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ve.length;N++){var ye=ve[N];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Wi=!!ac,lc=ac=null}finally{nt=n,Y.p=s,Z.T=a}}e.current=t,Ot=2}}function Af(){if(Ot===2){Ot=0;var e=dl,t=ks,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var s=Y.p;Y.p=2;var n=nt;nt|=4;try{af(e,t.alternate,t)}finally{nt=n,Y.p=s,Z.T=a}}Ot=3}}function Df(){if(Ot===4||Ot===3){Ot=0,_();var e=dl,t=ks,a=Xa,s=xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ot=5:(Ot=0,ks=dl=null,Of(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ul=null),Xs(a),t=t.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(Xe,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=Z.T,n=Y.p,Y.p=2,Z.T=null;try{for(var i=e.onRecoverableError,r=0;r<s.length;r++){var N=s[r];i(N.value,{componentStack:N.stack})}}finally{Z.T=t,Y.p=n}}(Xa&3)!==0&&Li(),za(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Go?_n++:(_n=0,Go=e):_n=0,zn(0)}}function Of(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sn(t)))}function Li(){return kf(),Af(),Df(),Mf()}function Mf(){if(Ot!==5)return!1;var e=dl,t=Zo;Zo=0;var a=Xs(Xa),s=Z.T,n=Y.p;try{Y.p=32>a?32:a,Z.T=null,a=Yo,Yo=null;var i=dl,r=Xa;if(Ot=0,ks=dl=null,Xa=0,(nt&6)!==0)throw Error(f(331));var N=nt;if(nt|=4,hf(i.current),uf(i,i.current,r,a),nt=N,zn(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(Xe,i)}catch{}return!0}finally{Y.p=n,Z.T=s,Of(e,t)}}function Uf(e,t,a){t=ca(a,t),t=jo(e.stateNode,t,2),e=sl(e,t,2),e!==null&&(zl(e,2),za(e))}function ot(e,t,a){if(e.tag===3)Uf(e,e,a);else for(;t!==null;){if(t.tag===3){Uf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ul===null||!ul.has(s))){e=ca(a,e),a=Ud(2),s=sl(t,a,2),s!==null&&(Rd(a,s,t,e),zl(s,2),za(s));break}}t=t.return}}function Vo(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new fg;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(Ho=!0,n.add(a),e=pg.bind(null,e,t,a),t.then(e,e))}function pg(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ht===e&&(We&a)===a&&(vt===4||vt===3&&(We&62914560)===We&&300>w()-Ui?(nt&2)===0&&As(e,0):Lo|=a,Cs===We&&(Cs=0)),za(e)}function Rf(e,t){t===0&&(t=Xn()),e=Ol(e,t),e!==null&&(zl(e,t),za(e))}function yg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Rf(e,a)}function bg(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(f(314))}s!==null&&s.delete(t),Rf(e,a)}function vg(e,t){return me(e,t)}var qi=null,Os=null,Ko=!1,Zi=!1,Jo=!1,hl=0;function za(e){e!==Os&&e.next===null&&(Os===null?qi=Os=e:Os=Os.next=e),Zi=!0,Ko||(Ko=!0,Ng())}function zn(e,t){if(!Jo&&Zi){Jo=!0;do for(var a=!1,s=qi;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var r=s.suspendedLanes,N=s.pingedLanes;i=(1<<31-ze(42|e)+1)-1,i&=n&~(r&~N),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Hf(s,i))}else i=We,i=va(s,s===ht?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||Ja(s,i)||(a=!0,Hf(s,i));s=s.next}while(a);Jo=!1}}function jg(){Tf()}function Tf(){Zi=Ko=!1;var e=0;hl!==0&&Mg()&&(e=hl);for(var t=w(),a=null,s=qi;s!==null;){var n=s.next,i=Ef(s,t);i===0?(s.next=null,a===null?qi=n:a.next=n,n===null&&(Os=a)):(a=s,(e!==0||(i&3)!==0)&&(Zi=!0)),s=n}Ot!==0&&Ot!==5||zn(e),hl!==0&&(hl=0)}function Ef(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-ze(i),N=1<<r,q=n[r];q===-1?((N&a)===0||(N&s)!==0)&&(n[r]=qs(N,t)):q<=t&&(e.expiredLanes|=N),i&=~N}if(t=ht,a=We,a=va(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(rt===2||rt===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&be(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ja(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&be(s),Xs(a)){case 2:case 8:a=we;break;case 32:a=Se;break;case 268435456:a=He;break;default:a=Se}return s=Bf.bind(null,e),a=me(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&be(s),e.callbackPriority=2,e.callbackNode=null,2}function Bf(e,t){if(Ot!==0&&Ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Li()&&e.callbackNode!==a)return null;var s=We;return s=va(e,e===ht?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(yf(e,s,t),Ef(e,w()),e.callbackNode!=null&&e.callbackNode===a?Bf.bind(null,e):null)}function Hf(e,t){if(Li())return null;yf(e,t,!0)}function Ng(){Rg(function(){(nt&6)!==0?me(G,jg):Tf()})}function Fo(){if(hl===0){var e=xs;e===0&&(e=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),hl=e}return hl}function Lf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fn(""+e)}function qf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function wg(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var i=Lf((n[ct]||null).action),r=s.submitter;r&&(t=(t=r[ct]||null)?Lf(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var N=new Pn("action","action",null,s,n);e.push({event:N,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(hl!==0){var q=r?qf(n,r):new FormData(n);mo(a,{pending:!0,data:q,method:n.method,action:i},null,q)}}else typeof i=="function"&&(N.preventDefault(),q=r?qf(n,r):new FormData(n),mo(a,{pending:!0,data:q,method:n.method,action:i},i,q))},currentTarget:n}]})}}for(var $o=0;$o<Or.length;$o++){var Wo=Or[$o],_g=Wo.toLowerCase(),zg=Wo[0].toUpperCase()+Wo.slice(1);pa(_g,"on"+zg)}pa(xu,"onAnimationEnd"),pa(pu,"onAnimationIteration"),pa(yu,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(Zh,"onTransitionRun"),pa(Yh,"onTransitionStart"),pa(Gh,"onTransitionCancel"),pa(bu,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sn));function Zf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var r=s.length-1;0<=r;r--){var N=s[r],q=N.instance,se=N.currentTarget;if(N=N.listener,q!==i&&n.isPropagationStopped())break e;i=N,n.currentTarget=se;try{i(n)}catch(xe){ai(xe)}n.currentTarget=null,i=q}else for(r=0;r<s.length;r++){if(N=s[r],q=N.instance,se=N.currentTarget,N=N.listener,q!==i&&n.isPropagationStopped())break e;i=N,n.currentTarget=se;try{i(n)}catch(xe){ai(xe)}n.currentTarget=null,i=q}}}}function $e(e,t){var a=t[Il];a===void 0&&(a=t[Il]=new Set);var s=e+"__bubble";a.has(s)||(Yf(t,e,2,!1),a.add(s))}function Io(e,t,a){var s=0;t&&(s|=4),Yf(a,e,s,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Po(e){if(!e[Yi]){e[Yi]=!0,Rc.forEach(function(a){a!=="selectionchange"&&(Sg.has(a)||Io(a,!1,e),Io(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Io("selectionchange",!1,t))}}function Yf(e,t,a,s){switch(p0(t)){case 2:var n=em;break;case 8:n=tm;break;default:n=gc}a=n.bind(null,t,a,e),n=void 0,!yr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function ec(e,t,a,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var N=s.stateNode.containerInfo;if(N===n)break;if(r===4)for(r=s.return;r!==null;){var q=r.tag;if((q===3||q===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;N!==null;){if(r=Pl(N),r===null)return;if(q=r.tag,q===5||q===6||q===26||q===27){s=i=r;continue e}N=N.parentNode}}s=s.return}Vc(function(){var se=i,xe=xr(a),ve=[];e:{var re=vu.get(e);if(re!==void 0){var fe=Pn,Re=e;switch(e){case"keypress":if(Wn(a)===0)break e;case"keydown":case"keyup":fe=bh;break;case"focusin":Re="focus",fe=Nr;break;case"focusout":Re="blur",fe=Nr;break;case"beforeblur":case"afterblur":fe=Nr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Nh;break;case xu:case pu:case yu:fe=uh;break;case bu:fe=_h;break;case"scroll":case"scrollend":fe=nh;break;case"wheel":fe=Sh;break;case"copy":case"cut":case"paste":fe=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Wc;break;case"toggle":case"beforetoggle":fe=kh}var Le=(t&4)!==0,ft=!Le&&(e==="scroll"||e==="scrollend"),F=Le?re!==null?re+"Capture":null:re;Le=[];for(var X=se,ae;X!==null;){var ye=X;if(ae=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ae===null||F===null||(ye=Ks(X,F),ye!=null&&Le.push(Cn(X,ye,ae))),ft)break;X=X.return}0<Le.length&&(re=new fe(re,Re,null,a,xe),ve.push({event:re,listeners:Le}))}}if((t&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",re&&a!==mr&&(Re=a.relatedTarget||a.fromElement)&&(Pl(Re)||Re[ja]))break e;if((fe||re)&&(re=xe.window===xe?xe:(re=xe.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(Re=a.relatedTarget||a.toElement,fe=se,Re=Re?Pl(Re):null,Re!==null&&(ft=v(Re),Le=Re.tag,Re!==ft||Le!==5&&Le!==27&&Le!==6)&&(Re=null)):(fe=null,Re=se),fe!==Re)){if(Le=Fc,ye="onMouseLeave",F="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(Le=Wc,ye="onPointerLeave",F="onPointerEnter",X="pointer"),ft=fe==null?re:Vs(fe),ae=Re==null?re:Vs(Re),re=new Le(ye,X+"leave",fe,a,xe),re.target=ft,re.relatedTarget=ae,ye=null,Pl(xe)===se&&(Le=new Le(F,X+"enter",Re,a,xe),Le.target=ae,Le.relatedTarget=ft,ye=Le),ft=ye,fe&&Re)t:{for(Le=Cg,F=fe,X=Re,ae=0,ye=F;ye;ye=Le(ye))ae++;ye=0;for(var Be=X;Be;Be=Le(Be))ye++;for(;0<ae-ye;)F=Le(F),ae--;for(;0<ye-ae;)X=Le(X),ye--;for(;ae--;){if(F===X||X!==null&&F===X.alternate){Le=F;break t}F=Le(F),X=Le(X)}Le=null}else Le=null;fe!==null&&Gf(ve,re,fe,Le,!1),Re!==null&&ft!==null&&Gf(ve,ft,Re,Le,!0)}}e:{if(re=se?Vs(se):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var at=nu;else if(lu(re))if(iu)at=Hh;else{at=Eh;var Ee=Th}else fe=re.nodeName,!fe||fe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?se&&gr(se.elementType)&&(at=nu):at=Bh;if(at&&(at=at(e,se))){su(ve,at,a,xe);break e}Ee&&Ee(e,re,se),e==="focusout"&&se&&re.type==="number"&&se.memoizedProps.value!=null&&hr(re,"number",re.value)}switch(Ee=se?Vs(se):window,e){case"focusin":(lu(Ee)||Ee.contentEditable==="true")&&(os=Ee,kr=se,tn=null);break;case"focusout":tn=kr=os=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,gu(ve,a,xe);break;case"selectionchange":if(qh)break;case"keydown":case"keyup":gu(ve,a,xe)}var Ve;if(_r)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else rs?tu(e,a)&&(Ie="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Ic&&a.locale!=="ko"&&(rs||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&rs&&(Ve=Kc()):(Wa=xe,br="value"in Wa?Wa.value:Wa.textContent,rs=!0)),Ee=Gi(se,Ie),0<Ee.length&&(Ie=new $c(Ie,e,null,a,xe),ve.push({event:Ie,listeners:Ee}),Ve?Ie.data=Ve:(Ve=au(a),Ve!==null&&(Ie.data=Ve)))),(Ve=Dh?Oh(e,a):Mh(e,a))&&(Ie=Gi(se,"onBeforeInput"),0<Ie.length&&(Ee=new $c("onBeforeInput","beforeinput",null,a,xe),ve.push({event:Ee,listeners:Ie}),Ee.data=Ve)),wg(ve,e,se,a,xe)}Zf(ve,t)})}function Cn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Gi(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Ks(e,a),n!=null&&s.unshift(Cn(e,n,i)),n=Ks(e,t),n!=null&&s.push(Cn(e,n,i))),e.tag===3)return s;e=e.return}return[]}function Cg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gf(e,t,a,s,n){for(var i=t._reactName,r=[];a!==null&&a!==s;){var N=a,q=N.alternate,se=N.stateNode;if(N=N.tag,q!==null&&q===s)break;N!==5&&N!==26&&N!==27||se===null||(q=se,n?(se=Ks(a,i),se!=null&&r.unshift(Cn(a,se,q))):n||(se=Ks(a,i),se!=null&&r.push(Cn(a,se,q)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var kg=/\r\n?/g,Ag=/\u0000|\uFFFD/g;function Xf(e){return(typeof e=="string"?e:""+e).replace(kg,`
`).replace(Ag,"")}function Qf(e,t){return t=Xf(t),Xf(e)===t}function dt(e,t,a,s,n,i){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ss(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ss(e,""+s);break;case"className":Kn(e,"class",s);break;case"tabIndex":Kn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,s);break;case"style":Xc(e,s,i);break;case"data":if(t!=="object"){Kn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Fn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&dt(e,t,"name",n.name,n,null),dt(e,t,"formEncType",n.formEncType,n,null),dt(e,t,"formMethod",n.formMethod,n,null),dt(e,t,"formTarget",n.formTarget,n,null)):(dt(e,t,"encType",n.encType,n,null),dt(e,t,"method",n.method,n,null),dt(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Fn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Aa);break;case"onScroll":s!=null&&$e("scroll",e);break;case"onScrollEnd":s!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(f(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Fn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":$e("beforetoggle",e),$e("toggle",e),Vn(e,"popover",s);break;case"xlinkActuate":ka(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ka(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ka(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ka(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ka(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ka(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ka(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ka(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ka(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Vn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lh.get(a)||a,Vn(e,a,s))}}function tc(e,t,a,s,n,i){switch(a){case"style":Xc(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(f(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ss(e,s):(typeof s=="number"||typeof s=="bigint")&&ss(e,""+s);break;case"onScroll":s!=null&&$e("scroll",e);break;case"onScrollEnd":s!=null&&$e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[ct]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Vn(e,a,s)}}}function Ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var s=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:dt(e,t,i,r,a,null)}}n&&dt(e,t,"srcSet",a.srcSet,a,null),s&&dt(e,t,"src",a.src,a,null);return;case"input":$e("invalid",e);var N=i=r=n=null,q=null,se=null;for(s in a)if(a.hasOwnProperty(s)){var xe=a[s];if(xe!=null)switch(s){case"name":n=xe;break;case"type":r=xe;break;case"checked":q=xe;break;case"defaultChecked":se=xe;break;case"value":i=xe;break;case"defaultValue":N=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(f(137,t));break;default:dt(e,t,s,xe,a,null)}}qc(e,i,N,q,se,r,n,!1);return;case"select":$e("invalid",e),s=r=i=null;for(n in a)if(a.hasOwnProperty(n)&&(N=a[n],N!=null))switch(n){case"value":i=N;break;case"defaultValue":r=N;break;case"multiple":s=N;default:dt(e,t,n,N,a,null)}t=i,a=r,e.multiple=!!s,t!=null?ls(e,!!s,t,!1):a!=null&&ls(e,!!s,a,!0);return;case"textarea":$e("invalid",e),i=n=s=null;for(r in a)if(a.hasOwnProperty(r)&&(N=a[r],N!=null))switch(r){case"value":s=N;break;case"defaultValue":n=N;break;case"children":i=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(f(91));break;default:dt(e,t,r,N,a,null)}Yc(e,s,n,i);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(s=a[q],s!=null))switch(q){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:dt(e,t,q,s,a,null)}return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(s=0;s<Sn.length;s++)$e(Sn[s],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in a)if(a.hasOwnProperty(se)&&(s=a[se],s!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:dt(e,t,se,s,a,null)}return;default:if(gr(t)){for(xe in a)a.hasOwnProperty(xe)&&(s=a[xe],s!==void 0&&tc(e,t,xe,s,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(s=a[N],s!=null&&dt(e,t,N,s,a,null))}function Dg(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,N=null,q=null,se=null,xe=null;for(fe in a){var ve=a[fe];if(a.hasOwnProperty(fe)&&ve!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":q=ve;default:s.hasOwnProperty(fe)||dt(e,t,fe,null,s,ve)}}for(var re in s){var fe=s[re];if(ve=a[re],s.hasOwnProperty(re)&&(fe!=null||ve!=null))switch(re){case"type":i=fe;break;case"name":n=fe;break;case"checked":se=fe;break;case"defaultChecked":xe=fe;break;case"value":r=fe;break;case"defaultValue":N=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(f(137,t));break;default:fe!==ve&&dt(e,t,re,fe,s,ve)}}fr(e,r,N,q,se,xe,i,n);return;case"select":fe=r=N=re=null;for(i in a)if(q=a[i],a.hasOwnProperty(i)&&q!=null)switch(i){case"value":break;case"multiple":fe=q;default:s.hasOwnProperty(i)||dt(e,t,i,null,s,q)}for(n in s)if(i=s[n],q=a[n],s.hasOwnProperty(n)&&(i!=null||q!=null))switch(n){case"value":re=i;break;case"defaultValue":N=i;break;case"multiple":r=i;default:i!==q&&dt(e,t,n,i,s,q)}t=N,a=r,s=fe,re!=null?ls(e,!!a,re,!1):!!s!=!!a&&(t!=null?ls(e,!!a,t,!0):ls(e,!!a,a?[]:"",!1));return;case"textarea":fe=re=null;for(N in a)if(n=a[N],a.hasOwnProperty(N)&&n!=null&&!s.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(e,t,N,null,s,n)}for(r in s)if(n=s[r],i=a[r],s.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":re=n;break;case"defaultValue":fe=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(f(91));break;default:n!==i&&dt(e,t,r,n,s,i)}Zc(e,re,fe);return;case"option":for(var Re in a)if(re=a[Re],a.hasOwnProperty(Re)&&re!=null&&!s.hasOwnProperty(Re))switch(Re){case"selected":e.selected=!1;break;default:dt(e,t,Re,null,s,re)}for(q in s)if(re=s[q],fe=a[q],s.hasOwnProperty(q)&&re!==fe&&(re!=null||fe!=null))switch(q){case"selected":e.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:dt(e,t,q,re,s,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in a)re=a[Le],a.hasOwnProperty(Le)&&re!=null&&!s.hasOwnProperty(Le)&&dt(e,t,Le,null,s,re);for(se in s)if(re=s[se],fe=a[se],s.hasOwnProperty(se)&&re!==fe&&(re!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(f(137,t));break;default:dt(e,t,se,re,s,fe)}return;default:if(gr(t)){for(var ft in a)re=a[ft],a.hasOwnProperty(ft)&&re!==void 0&&!s.hasOwnProperty(ft)&&tc(e,t,ft,void 0,s,re);for(xe in s)re=s[xe],fe=a[xe],!s.hasOwnProperty(xe)||re===fe||re===void 0&&fe===void 0||tc(e,t,xe,re,s,fe);return}}for(var F in a)re=a[F],a.hasOwnProperty(F)&&re!=null&&!s.hasOwnProperty(F)&&dt(e,t,F,null,s,re);for(ve in s)re=s[ve],fe=a[ve],!s.hasOwnProperty(ve)||re===fe||re==null&&fe==null||dt(e,t,ve,re,s,fe)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Og(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],i=n.transferSize,r=n.initiatorType,N=n.duration;if(i&&N&&Vf(r)){for(r=0,N=n.responseEnd,s+=1;s<a.length;s++){var q=a[s],se=q.startTime;if(se>N)break;var xe=q.transferSize,ve=q.initiatorType;xe&&Vf(ve)&&(q=q.responseEnd,r+=xe*(q<N?1:(N-se)/(q-se)))}if(--s,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ac=null,lc=null;function Xi(e){return e.nodeType===9?e:e.ownerDocument}function Kf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nc=null;function Mg(){var e=window.event;return e&&e.type==="popstate"?e===nc?!1:(nc=e,!0):(nc=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Rg=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(Tg)}:Ff;function Tg(e){setTimeout(function(){throw e})}function gl(e){return e==="head"}function Wf(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),Ts(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")kn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,kn(a);for(var i=a.firstChild;i;){var r=i.nextSibling,N=i.nodeName;i[Qs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&kn(e.ownerDocument.body);a=n}while(a);Ts(t)}function If(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function ic(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ic(a),ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Eg(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Qs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=ga(e.nextSibling),e===null)break}return null}function Bg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ga(e.nextSibling),e===null))return null;return e}function Pf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ga(e.nextSibling),e===null))return null;return e}function rc(e){return e.data==="$?"||e.data==="$~"}function oc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var cc=null;function e0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ga(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function t0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function a0(e,t,a){switch(t=Xi(a),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function kn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ur(e)}var ma=new Map,l0=new Set;function Qi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qa=Y.d;Y.d={f:Lg,r:qg,D:Zg,C:Yg,L:Gg,m:Xg,X:Vg,S:Qg,M:Kg};function Lg(){var e=Qa.f(),t=Ei();return e||t}function qg(e){var t=es(e);t!==null&&t.tag===5&&t.type==="form"?bd(t):Qa.r(e)}var Ms=typeof document>"u"?null:document;function s0(e,t,a){var s=Ms;if(s&&typeof t=="string"&&t){var n=ra(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),l0.has(n)||(l0.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Ht(t,"link",e),Ut(t),s.head.appendChild(t)))}}function Zg(e){Qa.D(e),s0("dns-prefetch",e,null)}function Yg(e,t){Qa.C(e,t),s0("preconnect",e,t)}function Gg(e,t,a){Qa.L(e,t,a);var s=Ms;if(s&&e&&t){var n='link[rel="preload"][as="'+ra(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+ra(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+ra(a.imageSizes)+'"]')):n+='[href="'+ra(e)+'"]';var i=n;switch(t){case"style":i=Us(e);break;case"script":i=Rs(e)}ma.has(i)||(e=m({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ma.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(An(i))||t==="script"&&s.querySelector(Dn(i))||(t=s.createElement("link"),Ht(t,"link",e),Ut(t),s.head.appendChild(t)))}}function Xg(e,t){Qa.m(e,t);var a=Ms;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ra(s)+'"][href="'+ra(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Rs(e)}if(!ma.has(i)&&(e=m({rel:"modulepreload",href:e},t),ma.set(i,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dn(i)))return}s=a.createElement("link"),Ht(s,"link",e),Ut(s),a.head.appendChild(s)}}}function Qg(e,t,a){Qa.S(e,t,a);var s=Ms;if(s&&e){var n=ts(s).hoistableStyles,i=Us(e);t=t||"default";var r=n.get(i);if(!r){var N={loading:0,preload:null};if(r=s.querySelector(An(i)))N.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ma.get(i))&&uc(e,a);var q=r=s.createElement("link");Ut(q),Ht(q,"link",e),q._p=new Promise(function(se,xe){q.onload=se,q.onerror=xe}),q.addEventListener("load",function(){N.loading|=1}),q.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Vi(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:N},n.set(i,r)}}}function Vg(e,t){Qa.X(e,t);var a=Ms;if(a&&e){var s=ts(a).hoistableScripts,n=Rs(e),i=s.get(n);i||(i=a.querySelector(Dn(n)),i||(e=m({src:e,async:!0},t),(t=ma.get(n))&&dc(e,t),i=a.createElement("script"),Ut(i),Ht(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Kg(e,t){Qa.M(e,t);var a=Ms;if(a&&e){var s=ts(a).hoistableScripts,n=Rs(e),i=s.get(n);i||(i=a.querySelector(Dn(n)),i||(e=m({src:e,async:!0,type:"module"},t),(t=ma.get(n))&&dc(e,t),i=a.createElement("script"),Ut(i),Ht(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function n0(e,t,a,s){var n=(n=Ne.current)?Qi(n):null;if(!n)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Us(a.href),a=ts(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Us(a.href);var i=ts(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(An(e)))&&!i._p&&(r.instance=i,r.state.loading=5),ma.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ma.set(e,a),i||Jg(n,e,a,r.state))),t&&s===null)throw Error(f(528,""));return r}if(t&&s!==null)throw Error(f(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rs(a),a=ts(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function Us(e){return'href="'+ra(e)+'"'}function An(e){return'link[rel="stylesheet"]['+e+"]"}function i0(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Jg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ht(t,"link",a),Ut(t),e.head.appendChild(t))}function Rs(e){return'[src="'+ra(e)+'"]'}function Dn(e){return"script[async]"+e}function r0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ra(a.href)+'"]');if(s)return t.instance=s,Ut(s),s;var n=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ut(s),Ht(s,"style",n),Vi(s,a.precedence,e),t.instance=s;case"stylesheet":n=Us(a.href);var i=e.querySelector(An(n));if(i)return t.state.loading|=4,t.instance=i,Ut(i),i;s=i0(a),(n=ma.get(n))&&uc(s,n),i=(e.ownerDocument||e).createElement("link"),Ut(i);var r=i;return r._p=new Promise(function(N,q){r.onload=N,r.onerror=q}),Ht(i,"link",s),t.state.loading|=4,Vi(i,a.precedence,e),t.instance=i;case"script":return i=Rs(a.src),(n=e.querySelector(Dn(i)))?(t.instance=n,Ut(n),n):(s=a,(n=ma.get(i))&&(s=m({},a),dc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ut(n),Ht(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Vi(s,a.precedence,e));return t.instance}function Vi(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,r=0;r<s.length;r++){var N=s[r];if(N.dataset.precedence===t)i=N;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ki=null;function o0(e,t,a){if(Ki===null){var s=new Map,n=Ki=new Map;n.set(a,s)}else n=Ki,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[Qs]||i[Ue]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var N=s.get(r);N?N.push(i):s.set(r,[i])}}return s}function c0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Fg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function u0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $g(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Us(s.href),i=t.querySelector(An(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ji.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ut(i);return}i=t.ownerDocument||t,s=i0(s),(n=ma.get(n))&&uc(s,n),i=i.createElement("link"),Ut(i);var r=i;r._p=new Promise(function(N,q){r.onload=N,r.onerror=q}),Ht(i,"link",s),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ji.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var fc=0;function Wg(e,t){return e.stylesheets&&e.count===0&&$i(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&$i(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&fc===0&&(fc=62500*Og());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$i(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>fc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Ji(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$i(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fi=null;function $i(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fi=new Map,t.forEach(Ig,e),Fi=null,Ji.call(e))}function Ig(e,t){if(!(t.state.loading&4)){var a=Fi.get(e);if(a)var s=a.get(null);else{a=new Map,Fi.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),s=r)}s&&a.set(null,s)}n=t.instance,r=n.getAttribute("data-precedence"),i=a.get(r)||s,i===s&&a.set(null,n),a.set(r,n),this.count++,s=Ji.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var On={$$typeof:O,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Pg(e,t,a,s,n,i,r,N,q){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function d0(e,t,a,s,n,i,r,N,q,se,xe,ve){return e=new Pg(e,t,a,r,q,se,xe,ve,N),t=1,i===!0&&(t|=24),i=ea(3,null,null,t),e.current=i,i.stateNode=e,t=Xr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:a,cache:t},Jr(i),e}function f0(e){return e?(e=ds,e):ds}function h0(e,t,a,s,n,i){n=f0(n),s.context===null?s.context=n:s.pendingContext=n,s=ll(t),s.payload={element:a},i=i===void 0?null:i,i!==null&&(s.callback=i),a=sl(e,s,t),a!==null&&(It(a,e,t),cn(a,e,t))}function g0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function hc(e,t){g0(e,t),(e=e.alternate)&&g0(e,t)}function m0(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&It(t,e,67108864),hc(e,67108864)}}function x0(e){if(e.tag===13||e.tag===31){var t=na();t=Gs(t);var a=Ol(e,t);a!==null&&It(a,e,t),hc(e,t)}}var Wi=!0;function em(e,t,a,s){var n=Z.T;Z.T=null;var i=Y.p;try{Y.p=2,gc(e,t,a,s)}finally{Y.p=i,Z.T=n}}function tm(e,t,a,s){var n=Z.T;Z.T=null;var i=Y.p;try{Y.p=8,gc(e,t,a,s)}finally{Y.p=i,Z.T=n}}function gc(e,t,a,s){if(Wi){var n=mc(s);if(n===null)ec(e,t,s,Ii,a),y0(e,s);else if(lm(n,e,t,a,s))s.stopPropagation();else if(y0(e,s),t&4&&-1<am.indexOf(e)){for(;n!==null;){var i=es(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=yt(i.pendingLanes);if(r!==0){var N=i;for(N.pendingLanes|=2,N.entangledLanes|=2;r;){var q=1<<31-ze(r);N.entanglements[1]|=q,r&=~q}za(i),(nt&6)===0&&(Ri=w()+500,zn(0))}}break;case 31:case 13:N=Ol(i,2),N!==null&&It(N,i,2),Ei(),hc(i,2)}if(i=mc(s),i===null&&ec(e,t,s,Ii,a),i===n)break;n=i}n!==null&&s.stopPropagation()}else ec(e,t,s,null,a)}}function mc(e){return e=xr(e),xc(e)}var Ii=null;function xc(e){if(Ii=null,e=Pl(e),e!==null){var t=v(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=z(t),e!==null)return e;e=null}else if(a===31){if(e=x(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ii=e,null}function p0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(b()){case G:return 2;case we:return 8;case Se:case Ze:return 32;case He:return 268435456;default:return 32}default:return 32}}var pc=!1,ml=null,xl=null,pl=null,Mn=new Map,Un=new Map,yl=[],am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(e,t){switch(e){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function Rn(e,t,a,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=es(t),t!==null&&m0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function lm(e,t,a,s,n){switch(t){case"focusin":return ml=Rn(ml,e,t,a,s,n),!0;case"dragenter":return xl=Rn(xl,e,t,a,s,n),!0;case"mouseover":return pl=Rn(pl,e,t,a,s,n),!0;case"pointerover":var i=n.pointerId;return Mn.set(i,Rn(Mn.get(i)||null,e,t,a,s,n)),!0;case"gotpointercapture":return i=n.pointerId,Un.set(i,Rn(Un.get(i)||null,e,t,a,s,n)),!0}return!1}function b0(e){var t=Pl(e.target);if(t!==null){var a=v(t);if(a!==null){if(t=a.tag,t===13){if(t=z(a),t!==null){e.blockedOn=t,te(e.priority,function(){x0(a)});return}}else if(t===31){if(t=x(a),t!==null){e.blockedOn=t,te(e.priority,function(){x0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=mc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);mr=s,a.target.dispatchEvent(s),mr=null}else return t=es(a),t!==null&&m0(t),e.blockedOn=a,!1;t.shift()}return!0}function v0(e,t,a){Pi(e)&&a.delete(t)}function sm(){pc=!1,ml!==null&&Pi(ml)&&(ml=null),xl!==null&&Pi(xl)&&(xl=null),pl!==null&&Pi(pl)&&(pl=null),Mn.forEach(v0),Un.forEach(v0)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,pc||(pc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,sm)))}var tr=null;function j0(e){tr!==e&&(tr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){tr===e&&(tr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(xc(s||a)===null)continue;break}var i=es(a);i!==null&&(e.splice(t,3),t-=3,mo(i,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Ts(e){function t(q){return er(q,e)}ml!==null&&er(ml,e),xl!==null&&er(xl,e),pl!==null&&er(pl,e),Mn.forEach(t),Un.forEach(t);for(var a=0;a<yl.length;a++){var s=yl[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<yl.length&&(a=yl[0],a.blockedOn===null);)b0(a),a.blockedOn===null&&yl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],i=a[s+1],r=n[ct]||null;if(typeof i=="function")r||j0(a);else if(r){var N=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[ct]||null)N=r.formAction;else if(xc(n)!==null)continue}else N=r.action;typeof N=="function"?a[s+1]=N:(a.splice(s,3),s-=3),j0(a)}}}function N0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function yc(e){this._internalRoot=e}ar.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var a=t.current,s=na();h0(a,s,e,t,null,null)},ar.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;h0(e.current,2,null,e,null,null),Ei(),t[ja]=null}};function ar(e){this._internalRoot=e}ar.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<yl.length&&t!==0&&t<yl[a].priority;a++);yl.splice(a,0,e),a===0&&b0(e)}};var w0=Ce.version;if(w0!=="19.2.4")throw Error(f(527,w0,"19.2.4"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=p(t),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var nm={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{Xe=lr.inject(nm),ee=lr}catch{}}return En.createRoot=function(e,t){if(!U(e))throw Error(f(299));var a=!1,s="",n=Ad,i=Dd,r=Od;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=d0(e,1,!1,null,null,a,s,null,n,i,r,N0),e[ja]=t.current,Po(e),new yc(t)},En.hydrateRoot=function(e,t,a){if(!U(e))throw Error(f(299));var s=!1,n="",i=Ad,r=Dd,N=Od,q=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(q=a.formState)),t=d0(e,1,!0,t,a??null,s,n,q,i,r,N,N0),t.context=f0(null),a=t.current,s=na(),s=Gs(s),n=ll(s),n.callback=null,sl(a,n,s),a=s,t.current.lanes=a,zl(t,a),za(t),e[ja]=t.current,Po(e),new ar(t)},En.version="19.2.4",En}var U0;function xm(){if(U0)return jc.exports;U0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(Ce){console.error(Ce)}}return o(),jc.exports=mm(),jc.exports}var pm=xm();const ym=Dc(pm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=(...o)=>o.filter((Ce,d,f)=>!!Ce&&Ce.trim()!==""&&f.indexOf(Ce)===d).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(Ce,d,f)=>f?f.toUpperCase():d.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=o=>{const Ce=vm(o);return Ce.charAt(0).toUpperCase()+Ce.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=o=>{for(const Ce in o)if(Ce.startsWith("aria-")||Ce==="role"||Ce==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=K.forwardRef(({color:o="currentColor",size:Ce=24,strokeWidth:d=2,absoluteStrokeWidth:f,className:U="",children:v,iconNode:z,...x},h)=>K.createElement("svg",{ref:h,...jm,width:Ce,height:Ce,stroke:o,strokeWidth:f?Number(d)*24/Number(Ce):d,className:Y0("lucide",U),...!v&&!Nm(x)&&{"aria-hidden":"true"},...x},[...z.map(([p,A])=>K.createElement(p,A)),...Array.isArray(v)?v:[v]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(o,Ce)=>{const d=K.forwardRef(({className:f,...U},v)=>K.createElement(wm,{ref:v,iconNode:Ce,className:Y0(`lucide-${bm(R0(o))}`,`lucide-${o}`,f),...U}));return d.displayName=R0(o),d};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],T0=Me("activity",_m);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],G0=Me("arrow-left",zm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],Cm=Me("beer",Sm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sc=Me("book-open",km);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Dm=Me("book-plus",Am);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Xl=Me("book",Om);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wl=Me("calendar",Mm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rr=Me("check",Um);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nl=Me("chevron-right",Rm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Em=Me("chevrons-up-down",Tm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qn=Me("circle-alert",Bm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jt=Me("circle-check-big",Hm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qm=Me("circle-check",Lm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],E0=Me("circle-plus",Zm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fl=Me("circle-play",Ym);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$l=Me("circle",Gm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],Es=Me("clapperboard",Xm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vm=Me("clock",Qm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Sa=Me("code",Km);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],vl=Me("command",Jm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$m=Me("copy",Fm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],X0=Me("database",Wm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qt=Me("download",Im);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],ir=Me("file-braces",Pm);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tx=Me("file-exclamation-point",ex);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vl=Me("file-text",ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Ql=Me("file-up",lx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nx=Me("funnel",sx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ca=Me("gamepad-2",ix);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zn=Me("globe",rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hs=Me("hash",ox);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],_l=Me("heart",cx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Qt=Me("history",ux);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],jl=Me("id-card",dx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Va=Me("image",fx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],gt=Me("images",hx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Q0=Me("layers",gx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xx=Me("layout-dashboard",mx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],yx=Me("library",px);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Bn=Me("link",bx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jx=Me("menu",vx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Wl=Me("message-circle",Nx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],B0=Me("monitor",wx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],H0=Me("moon",_x);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Mc=Me("music",zx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cx=Me("package",Sx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ka=Me("palette",kx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Kl=Me("panels-top-left",Ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yn=Me("pen-line",Dx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Gn=Me("pencil",Ox);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xt=Me("plus",Mx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],At=Me("save",Ux);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Tx=Me("scroll",Rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cc=Me("search",Ex);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Hn=Me("settings-2",Bx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V0=Me("settings",Hx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],K0=Me("share-2",Lx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Zx=Me("shirt",qx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],kc=Me("sliders-vertical",Yx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Ls=Me("smile",Gx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qx=Me("sparkles",Xx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ac=Me("square-check-big",Vx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],L0=Me("square",Kx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Bs=Me("sticky-note",Jx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],q0=Me("sun",Fx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Jl=Me("tag",$x);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],J0=Me("terminal",Wx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],et=Me("trash-2",Ix);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ep=Me("triangle-alert",Px);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],F0=Me("type",tp);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zt=Me("upload",ap);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vt=Me("user",lp);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ln=Me("users",sp);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ke=Me("x",np);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rp=Me("zap",ip),op=({activeContext:o,setActiveContext:Ce,activeView:d,setActiveView:f,isMobileOpen:U,setIsMobileOpen:v})=>{const[z,x]=K.useState(!1),h=K.useRef(null);K.useEffect(()=>{const D=g=>{h.current&&!h.current.contains(g.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const p=[{id:"tavern",name:"",icon:Cm,color:"bg-indigo-600",description:""},{id:"nishuihan",name:"",icon:Tx,color:"bg-emerald-600",description:""},{id:"mufy",name:"Mufy AI",icon:Qx,color:"bg-purple-600",description:""}],A={tavern:{label:"",items:[{id:"all",label:"",icon:yx},{id:"characters",label:"",icon:Ln},{id:"worldbooks",label:"",icon:Sc},{id:"theater",label:"",icon:Es},{id:"presets",label:"",icon:Hn},{id:"themes",label:"",icon:Ka},{id:"favorites",label:"",icon:_l}]},nishuihan:{label:"",items:[{id:"all",label:"",icon:X0},{id:"face",label:"",icon:Ls},{id:"fashion",label:"",icon:Zx}]},mufy:{label:"",items:[{id:"dashboard",label:"",icon:xx},{id:"tools",label:"",icon:rp}]},settings:{label:"",items:[]}},m=p.find(D=>D.id===o)||p[0],R=A[o]||{label:"",items:[]},j=D=>{Ce(D),D==="tavern"&&f("all"),D==="nishuihan"&&f("all"),D==="mufy"&&f("dashboard"),x(!1)};return l.jsxs(l.Fragment,{children:[U&&l.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 md:hidden",onClick:()=>v(!1)}),l.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-100 transition-transform duration-300 ease-in-out flex flex-col
        ${U?"translate-x-0 shadow-2xl":"-translate-x-full"}
        md:translate-x-0 md:static md:shadow-none
      `,children:[l.jsxs("div",{className:"p-3 pb-0",ref:h,children:[l.jsxs("button",{onClick:()=>x(!z),className:`w-full flex items-center gap-3 p-2 rounded-xl border transition-all duration-200 group
               ${z?"bg-gray-50 border-gray-200 shadow-sm":"bg-white border-transparent hover:bg-gray-50"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-lg ${m.color} flex items-center justify-center text-white shadow-sm`,children:l.jsx(m.icon,{size:16,strokeWidth:2.5})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"text-sm font-bold text-gray-800 leading-none",children:m.name}),l.jsx("div",{className:"text-[10px] text-gray-400 mt-1 font-medium",children:""})]}),l.jsx(Em,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]}),z&&l.jsxs("div",{className:"absolute left-3 right-3 top-[68px] bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:[l.jsx("div",{className:"p-1 bg-gray-50/50 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(Cc,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"...",className:"w-full pl-8 pr-3 py-1.5 text-xs bg-white border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/20 outline-none"})]})}),l.jsxs("div",{className:"p-1 max-h-64 overflow-y-auto no-scrollbar",children:[l.jsx("div",{className:"px-2 py-1 text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:""}),p.map(D=>l.jsxs("button",{onClick:()=>j(D.id),className:`w-full flex items-center gap-3 p-2 rounded-lg mb-0.5 transition-colors text-left
                       ${o===D.id?"bg-indigo-50":"hover:bg-gray-50"}
                     `,children:[l.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white shadow-sm shrink-0 ${D.color} opacity-90`,children:l.jsx(D.icon,{size:16})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`text-sm font-medium truncate ${o===D.id?"text-indigo-900":"text-gray-700"}`,children:D.name}),l.jsx("div",{className:"text-[10px] text-gray-400 truncate",children:D.description})]}),o===D.id&&l.jsx(rr,{size:14,className:"text-indigo-600"})]},D.id)),l.jsx("div",{className:"h-px bg-gray-100 my-1"}),l.jsxs("button",{className:"w-full flex items-center gap-3 p-2 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-gray-900 transition-colors text-left",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg border border-dashed border-gray-300 flex items-center justify-center text-gray-400 bg-white",children:l.jsx(E0,{size:16})}),l.jsx("span",{className:"text-sm font-medium",children:"..."})]})]})]})]}),l.jsxs("nav",{className:"flex-1 overflow-y-auto px-3 py-6 space-y-6 no-scrollbar",children:[l.jsxs("div",{children:[l.jsx("div",{className:"px-3 mb-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:R.label}),l.jsx("div",{className:"space-y-0.5",children:R.items.map(D=>l.jsxs("button",{onClick:()=>{f(D.id),v(!1)},className:`w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200
                    ${d===D.id?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[l.jsx(D.icon,{size:18,className:d===D.id?"text-gray-900":"text-gray-400",strokeWidth:d===D.id?2.5:2}),D.label]},D.id))})]}),(o==="tavern"||o==="nishuihan")&&l.jsxs("div",{children:[l.jsxs("div",{className:"px-3 mb-2 flex items-center justify-between group",children:[l.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:""}),l.jsx("button",{className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-gray-600 transition-opacity",children:l.jsx(E0,{size:12})})]}),l.jsx("div",{className:"space-y-0.5",children:[1,2,3].map(D=>l.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-1.5 text-sm font-medium text-gray-500 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),l.jsx("span",{children:o==="tavern"?` ${D}`:` ${D}`})]},D))})]})]}),l.jsxs("div",{className:"p-3 border-t border-gray-50 mt-auto",children:[l.jsxs("button",{onClick:()=>Ce("settings"),className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg transition-colors
               ${o==="settings"?"bg-gray-100 text-gray-900":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[l.jsx(V0,{size:18}),""]}),l.jsxs("div",{className:"mt-2 flex items-center gap-3 px-3 py-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 border border-indigo-200 flex items-center justify-center text-xs font-bold text-indigo-700",children:"U"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-xs font-semibold text-gray-700 truncate",children:"User Name"}),l.jsx("div",{className:"text-[10px] text-gray-400 truncate",children:"Pro Plan"})]})]})]})]})]})};function nr(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zc={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Z0;function cp(){return Z0||(Z0=1,(function(o,Ce){(function(d){o.exports=d()})(function(){return(function d(f,U,v){function z(p,A){if(!U[p]){if(!f[p]){var m=typeof nr=="function"&&nr;if(!A&&m)return m(p,!0);if(x)return x(p,!0);var R=new Error("Cannot find module '"+p+"'");throw R.code="MODULE_NOT_FOUND",R}var j=U[p]={exports:{}};f[p][0].call(j.exports,function(D){var g=f[p][1][D];return z(g||D)},j,j.exports,d,f,U,v)}return U[p].exports}for(var x=typeof nr=="function"&&nr,h=0;h<v.length;h++)z(v[h]);return z})({1:[function(d,f,U){var v=d("./utils"),z=d("./support"),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";U.encode=function(h){for(var p,A,m,R,j,D,g,C=[],S=0,M=h.length,O=M,L=v.getTypeOf(h)!=="string";S<h.length;)O=M-S,m=L?(p=h[S++],A=S<M?h[S++]:0,S<M?h[S++]:0):(p=h.charCodeAt(S++),A=S<M?h.charCodeAt(S++):0,S<M?h.charCodeAt(S++):0),R=p>>2,j=(3&p)<<4|A>>4,D=1<O?(15&A)<<2|m>>6:64,g=2<O?63&m:64,C.push(x.charAt(R)+x.charAt(j)+x.charAt(D)+x.charAt(g));return C.join("")},U.decode=function(h){var p,A,m,R,j,D,g=0,C=0,S="data:";if(h.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var M,O=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===x.charAt(64)&&O--,h.charAt(h.length-2)===x.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=z.uint8array?new Uint8Array(0|O):new Array(0|O);g<h.length;)p=x.indexOf(h.charAt(g++))<<2|(R=x.indexOf(h.charAt(g++)))>>4,A=(15&R)<<4|(j=x.indexOf(h.charAt(g++)))>>2,m=(3&j)<<6|(D=x.indexOf(h.charAt(g++))),M[C++]=p,j!==64&&(M[C++]=A),D!==64&&(M[C++]=m);return M}},{"./support":30,"./utils":32}],2:[function(d,f,U){var v=d("./external"),z=d("./stream/DataWorker"),x=d("./stream/Crc32Probe"),h=d("./stream/DataLengthProbe");function p(A,m,R,j,D){this.compressedSize=A,this.uncompressedSize=m,this.crc32=R,this.compression=j,this.compressedContent=D}p.prototype={getContentWorker:function(){var A=new z(v.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),m=this;return A.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new z(v.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(A,m,R){return A.pipe(new x).pipe(new h("uncompressedSize")).pipe(m.compressWorker(R)).pipe(new h("compressedSize")).withStreamInfo("compression",m)},f.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,f,U){var v=d("./stream/GenericWorker");U.STORE={magic:"\0\0",compressWorker:function(){return new v("STORE compression")},uncompressWorker:function(){return new v("STORE decompression")}},U.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,f,U){var v=d("./utils"),z=(function(){for(var x,h=[],p=0;p<256;p++){x=p;for(var A=0;A<8;A++)x=1&x?3988292384^x>>>1:x>>>1;h[p]=x}return h})();f.exports=function(x,h){return x!==void 0&&x.length?v.getTypeOf(x)!=="string"?(function(p,A,m,R){var j=z,D=R+m;p^=-1;for(var g=R;g<D;g++)p=p>>>8^j[255&(p^A[g])];return-1^p})(0|h,x,x.length,0):(function(p,A,m,R){var j=z,D=R+m;p^=-1;for(var g=R;g<D;g++)p=p>>>8^j[255&(p^A.charCodeAt(g))];return-1^p})(0|h,x,x.length,0):0}},{"./utils":32}],5:[function(d,f,U){U.base64=!1,U.binary=!1,U.dir=!1,U.createFolders=!0,U.date=null,U.compression=null,U.compressionOptions=null,U.comment=null,U.unixPermissions=null,U.dosPermissions=null},{}],6:[function(d,f,U){var v=null;v=typeof Promise<"u"?Promise:d("lie"),f.exports={Promise:v}},{lie:37}],7:[function(d,f,U){var v=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",z=d("pako"),x=d("./utils"),h=d("./stream/GenericWorker"),p=v?"uint8array":"array";function A(m,R){h.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=R,this.meta={}}U.magic="\b\0",x.inherits(A,h),A.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(x.transformTo(p,m.data),!1)},A.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new z[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(R){m.push({data:R,meta:m.meta})}},U.compressWorker=function(m){return new A("Deflate",m)},U.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,f,U){function v(j,D){var g,C="";for(g=0;g<D;g++)C+=String.fromCharCode(255&j),j>>>=8;return C}function z(j,D,g,C,S,M){var O,L,B=j.file,$=j.compression,Q=M!==p.utf8encode,oe=x.transformTo("string",M(B.name)),J=x.transformTo("string",p.utf8encode(B.name)),de=B.comment,je=x.transformTo("string",M(de)),k=x.transformTo("string",p.utf8encode(de)),W=J.length!==B.name.length,c=k.length!==de.length,I="",Z="",Y="",pe=B.dir,ie=B.date,he={crc32:0,compressedSize:0,uncompressedSize:0};D&&!g||(he.crc32=j.crc32,he.compressedSize=j.compressedSize,he.uncompressedSize=j.uncompressedSize);var y=0;D&&(y|=8),Q||!W&&!c||(y|=2048);var T=0,ne=0;pe&&(T|=16),S==="UNIX"?(ne=798,T|=(function(ue,Ne){var De=ue;return ue||(De=Ne?16893:33204),(65535&De)<<16})(B.unixPermissions,pe)):(ne=20,T|=(function(ue){return 63&(ue||0)})(B.dosPermissions)),O=ie.getUTCHours(),O<<=6,O|=ie.getUTCMinutes(),O<<=5,O|=ie.getUTCSeconds()/2,L=ie.getUTCFullYear()-1980,L<<=4,L|=ie.getUTCMonth()+1,L<<=5,L|=ie.getUTCDate(),W&&(Z=v(1,1)+v(A(oe),4)+J,I+="up"+v(Z.length,2)+Z),c&&(Y=v(1,1)+v(A(je),4)+k,I+="uc"+v(Y.length,2)+Y);var ce="";return ce+=`
\0`,ce+=v(y,2),ce+=$.magic,ce+=v(O,2),ce+=v(L,2),ce+=v(he.crc32,4),ce+=v(he.compressedSize,4),ce+=v(he.uncompressedSize,4),ce+=v(oe.length,2),ce+=v(I.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ce+oe+I,dirRecord:m.CENTRAL_FILE_HEADER+v(ne,2)+ce+v(je.length,2)+"\0\0\0\0"+v(T,4)+v(C,4)+oe+I+je}}var x=d("../utils"),h=d("../stream/GenericWorker"),p=d("../utf8"),A=d("../crc32"),m=d("../signature");function R(j,D,g,C){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=g,this.encodeFileName=C,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}x.inherits(R,h),R.prototype.push=function(j){var D=j.meta.percent||0,g=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,h.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:g?(D+100*(g-C-1))/g:100}}))},R.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var D=this.streamFiles&&!j.file.dir;if(D){var g=z(j,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},R.prototype.closedSource=function(j){this.accumulate=!1;var D=this.streamFiles&&!j.file.dir,g=z(j,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),D)this.push({data:(function(C){return m.DATA_DESCRIPTOR+v(C.crc32,4)+v(C.compressedSize,4)+v(C.uncompressedSize,4)})(j),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},R.prototype.flush=function(){for(var j=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var g=this.bytesWritten-j,C=(function(S,M,O,L,B){var $=x.transformTo("string",B(L));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(S,2)+v(S,2)+v(M,4)+v(O,4)+v($.length,2)+$})(this.dirRecords.length,g,j,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},R.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},R.prototype.registerPrevious=function(j){this._sources.push(j);var D=this;return j.on("data",function(g){D.processChunk(g)}),j.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),j.on("error",function(g){D.error(g)}),this},R.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},R.prototype.error=function(j){var D=this._sources;if(!h.prototype.error.call(this,j))return!1;for(var g=0;g<D.length;g++)try{D[g].error(j)}catch{}return!0},R.prototype.lock=function(){h.prototype.lock.call(this);for(var j=this._sources,D=0;D<j.length;D++)j[D].lock()},f.exports=R},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,f,U){var v=d("../compressions"),z=d("./ZipFileWorker");U.generateWorker=function(x,h,p){var A=new z(h.streamFiles,p,h.platform,h.encodeFileName),m=0;try{x.forEach(function(R,j){m++;var D=(function(M,O){var L=M||O,B=v[L];if(!B)throw new Error(L+" is not a valid compression method !");return B})(j.options.compression,h.compression),g=j.options.compressionOptions||h.compressionOptions||{},C=j.dir,S=j.date;j._compressWorker(D,g).withStreamInfo("file",{name:R,dir:C,date:S,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(A)}),A.entriesCount=m}catch(R){A.error(R)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,f,U){function v(){if(!(this instanceof v))return new v;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var z=new v;for(var x in this)typeof this[x]!="function"&&(z[x]=this[x]);return z}}(v.prototype=d("./object")).loadAsync=d("./load"),v.support=d("./support"),v.defaults=d("./defaults"),v.version="3.10.1",v.loadAsync=function(z,x){return new v().loadAsync(z,x)},v.external=d("./external"),f.exports=v},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,f,U){var v=d("./utils"),z=d("./external"),x=d("./utf8"),h=d("./zipEntries"),p=d("./stream/Crc32Probe"),A=d("./nodejsUtils");function m(R){return new z.Promise(function(j,D){var g=R.decompressed.getContentWorker().pipe(new p);g.on("error",function(C){D(C)}).on("end",function(){g.streamInfo.crc32!==R.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):j()}).resume()})}f.exports=function(R,j){var D=this;return j=v.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:x.utf8decode}),A.isNode&&A.isStream(R)?z.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):v.prepareContent("the loaded zip file",R,!0,j.optimizedBinaryString,j.base64).then(function(g){var C=new h(j);return C.load(g),C}).then(function(g){var C=[z.Promise.resolve(g)],S=g.files;if(j.checkCRC32)for(var M=0;M<S.length;M++)C.push(m(S[M]));return z.Promise.all(C)}).then(function(g){for(var C=g.shift(),S=C.files,M=0;M<S.length;M++){var O=S[M],L=O.fileNameStr,B=v.resolve(O.fileNameStr);D.file(B,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:j.createFolders}),O.dir||(D.file(B).unsafeOriginalName=L)}return C.zipComment.length&&(D.comment=C.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,f,U){var v=d("../utils"),z=d("../stream/GenericWorker");function x(h,p){z.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(p)}v.inherits(x,z),x.prototype._bindStream=function(h){var p=this;(this._stream=h).pause(),h.on("data",function(A){p.push({data:A,meta:{percent:0}})}).on("error",function(A){p.isPaused?this.generatedError=A:p.error(A)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},x.prototype.pause=function(){return!!z.prototype.pause.call(this)&&(this._stream.pause(),!0)},x.prototype.resume=function(){return!!z.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=x},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,f,U){var v=d("readable-stream").Readable;function z(x,h,p){v.call(this,h),this._helper=x;var A=this;x.on("data",function(m,R){A.push(m)||A._helper.pause(),p&&p(R)}).on("error",function(m){A.emit("error",m)}).on("end",function(){A.push(null)})}d("../utils").inherits(z,v),z.prototype._read=function(){this._helper.resume()},f.exports=z},{"../utils":32,"readable-stream":16}],14:[function(d,f,U){f.exports={isNode:typeof Buffer<"u",newBufferFrom:function(v,z){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(v,z);if(typeof v=="number")throw new Error('The "data" argument must not be a number');return new Buffer(v,z)},allocBuffer:function(v){if(Buffer.alloc)return Buffer.alloc(v);var z=new Buffer(v);return z.fill(0),z},isBuffer:function(v){return Buffer.isBuffer(v)},isStream:function(v){return v&&typeof v.on=="function"&&typeof v.pause=="function"&&typeof v.resume=="function"}}},{}],15:[function(d,f,U){function v(B,$,Q){var oe,J=x.getTypeOf($),de=x.extend(Q||{},A);de.date=de.date||new Date,de.compression!==null&&(de.compression=de.compression.toUpperCase()),typeof de.unixPermissions=="string"&&(de.unixPermissions=parseInt(de.unixPermissions,8)),de.unixPermissions&&16384&de.unixPermissions&&(de.dir=!0),de.dosPermissions&&16&de.dosPermissions&&(de.dir=!0),de.dir&&(B=S(B)),de.createFolders&&(oe=C(B))&&M.call(this,oe,!0);var je=J==="string"&&de.binary===!1&&de.base64===!1;Q&&Q.binary!==void 0||(de.binary=!je),($ instanceof m&&$.uncompressedSize===0||de.dir||!$||$.length===0)&&(de.base64=!1,de.binary=!0,$="",de.compression="STORE",J="string");var k=null;k=$ instanceof m||$ instanceof h?$:D.isNode&&D.isStream($)?new g(B,$):x.prepareContent(B,$,de.binary,de.optimizedBinaryString,de.base64);var W=new R(B,k,de);this.files[B]=W}var z=d("./utf8"),x=d("./utils"),h=d("./stream/GenericWorker"),p=d("./stream/StreamHelper"),A=d("./defaults"),m=d("./compressedObject"),R=d("./zipObject"),j=d("./generate"),D=d("./nodejsUtils"),g=d("./nodejs/NodejsStreamInputAdapter"),C=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var $=B.lastIndexOf("/");return 0<$?B.substring(0,$):""},S=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},M=function(B,$){return $=$!==void 0?$:A.createFolders,B=S(B),this.files[B]||v.call(this,B,null,{dir:!0,createFolders:$}),this.files[B]};function O(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var L={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var $,Q,oe;for($ in this.files)oe=this.files[$],(Q=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&B(Q,oe)},filter:function(B){var $=[];return this.forEach(function(Q,oe){B(Q,oe)&&$.push(oe)}),$},file:function(B,$,Q){if(arguments.length!==1)return B=this.root+B,v.call(this,B,$,Q),this;if(O(B)){var oe=B;return this.filter(function(de,je){return!je.dir&&oe.test(de)})}var J=this.files[this.root+B];return J&&!J.dir?J:null},folder:function(B){if(!B)return this;if(O(B))return this.filter(function(J,de){return de.dir&&B.test(J)});var $=this.root+B,Q=M.call(this,$),oe=this.clone();return oe.root=Q.name,oe},remove:function(B){B=this.root+B;var $=this.files[B];if($||(B.slice(-1)!=="/"&&(B+="/"),$=this.files[B]),$&&!$.dir)delete this.files[B];else for(var Q=this.filter(function(J,de){return de.name.slice(0,B.length)===B}),oe=0;oe<Q.length;oe++)delete this.files[Q[oe].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var $,Q={};try{if((Q=x.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:z.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");x.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var oe=Q.comment||this.comment||"";$=j.generateWorker(this,Q,oe)}catch(J){($=new h("error")).error(J)}return new p($,Q.type||"string",Q.mimeType)},generateAsync:function(B,$){return this.generateInternalStream(B).accumulate($)},generateNodeStream:function(B,$){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream($)}};f.exports=L},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,f,U){f.exports=d("stream")},{stream:void 0}],17:[function(d,f,U){var v=d("./DataReader");function z(x){v.call(this,x);for(var h=0;h<this.data.length;h++)x[h]=255&x[h]}d("../utils").inherits(z,v),z.prototype.byteAt=function(x){return this.data[this.zero+x]},z.prototype.lastIndexOfSignature=function(x){for(var h=x.charCodeAt(0),p=x.charCodeAt(1),A=x.charCodeAt(2),m=x.charCodeAt(3),R=this.length-4;0<=R;--R)if(this.data[R]===h&&this.data[R+1]===p&&this.data[R+2]===A&&this.data[R+3]===m)return R-this.zero;return-1},z.prototype.readAndCheckSignature=function(x){var h=x.charCodeAt(0),p=x.charCodeAt(1),A=x.charCodeAt(2),m=x.charCodeAt(3),R=this.readData(4);return h===R[0]&&p===R[1]&&A===R[2]&&m===R[3]},z.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,h},f.exports=z},{"../utils":32,"./DataReader":18}],18:[function(d,f,U){var v=d("../utils");function z(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}z.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var h,p=0;for(this.checkOffset(x),h=this.index+x-1;h>=this.index;h--)p=(p<<8)+this.byteAt(h);return this.index+=x,p},readString:function(x){return v.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC(1980+(x>>25&127),(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(31&x)<<1))}},f.exports=z},{"../utils":32}],19:[function(d,f,U){var v=d("./Uint8ArrayReader");function z(x){v.call(this,x)}d("../utils").inherits(z,v),z.prototype.readData=function(x){this.checkOffset(x);var h=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,h},f.exports=z},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,f,U){var v=d("./DataReader");function z(x){v.call(this,x)}d("../utils").inherits(z,v),z.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)},z.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero},z.prototype.readAndCheckSignature=function(x){return x===this.readData(4)},z.prototype.readData=function(x){this.checkOffset(x);var h=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,h},f.exports=z},{"../utils":32,"./DataReader":18}],21:[function(d,f,U){var v=d("./ArrayReader");function z(x){v.call(this,x)}d("../utils").inherits(z,v),z.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,h},f.exports=z},{"../utils":32,"./ArrayReader":17}],22:[function(d,f,U){var v=d("../utils"),z=d("../support"),x=d("./ArrayReader"),h=d("./StringReader"),p=d("./NodeBufferReader"),A=d("./Uint8ArrayReader");f.exports=function(m){var R=v.getTypeOf(m);return v.checkSupport(R),R!=="string"||z.uint8array?R==="nodebuffer"?new p(m):z.uint8array?new A(v.transformTo("uint8array",m)):new x(v.transformTo("array",m)):new h(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,f,U){U.LOCAL_FILE_HEADER="PK",U.CENTRAL_FILE_HEADER="PK",U.CENTRAL_DIRECTORY_END="PK",U.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",U.ZIP64_CENTRAL_DIRECTORY_END="PK",U.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,f,U){var v=d("./GenericWorker"),z=d("../utils");function x(h){v.call(this,"ConvertWorker to "+h),this.destType=h}z.inherits(x,v),x.prototype.processChunk=function(h){this.push({data:z.transformTo(this.destType,h.data),meta:h.meta})},f.exports=x},{"../utils":32,"./GenericWorker":28}],25:[function(d,f,U){var v=d("./GenericWorker"),z=d("../crc32");function x(){v.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(x,v),x.prototype.processChunk=function(h){this.streamInfo.crc32=z(h.data,this.streamInfo.crc32||0),this.push(h)},f.exports=x},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,f,U){var v=d("../utils"),z=d("./GenericWorker");function x(h){z.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}v.inherits(x,z),x.prototype.processChunk=function(h){if(h){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+h.data.length}z.prototype.processChunk.call(this,h)},f.exports=x},{"../utils":32,"./GenericWorker":28}],27:[function(d,f,U){var v=d("../utils"),z=d("./GenericWorker");function x(h){z.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(A){p.dataIsReady=!0,p.data=A,p.max=A&&A.length||0,p.type=v.getTypeOf(A),p.isPaused||p._tickAndRepeat()},function(A){p.error(A)})}v.inherits(x,z),x.prototype.cleanUp=function(){z.prototype.cleanUp.call(this),this.data=null},x.prototype.resume=function(){return!!z.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,v.delay(this._tickAndRepeat,[],this)),!0)},x.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(v.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},x.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,p);break;case"uint8array":h=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":h=this.data.slice(this.index,p)}return this.index=p,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=x},{"../utils":32,"./GenericWorker":28}],28:[function(d,f,U){function v(z){this.name=z||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}v.prototype={push:function(z){this.emit("data",z)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(z){this.emit("error",z)}return!0},error:function(z){return!this.isFinished&&(this.isPaused?this.generatedError=z:(this.isFinished=!0,this.emit("error",z),this.previous&&this.previous.error(z),this.cleanUp()),!0)},on:function(z,x){return this._listeners[z].push(x),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(z,x){if(this._listeners[z])for(var h=0;h<this._listeners[z].length;h++)this._listeners[z][h].call(this,x)},pipe:function(z){return z.registerPrevious(this)},registerPrevious:function(z){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=z.streamInfo,this.mergeStreamInfo(),this.previous=z;var x=this;return z.on("data",function(h){x.processChunk(h)}),z.on("end",function(){x.end()}),z.on("error",function(h){x.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var z=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),z=!0),this.previous&&this.previous.resume(),!z},flush:function(){},processChunk:function(z){this.push(z)},withStreamInfo:function(z,x){return this.extraStreamInfo[z]=x,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var z in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,z)&&(this.streamInfo[z]=this.extraStreamInfo[z])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var z="Worker "+this.name;return this.previous?this.previous+" -> "+z:z}},f.exports=v},{}],29:[function(d,f,U){var v=d("../utils"),z=d("./ConvertWorker"),x=d("./GenericWorker"),h=d("../base64"),p=d("../support"),A=d("../external"),m=null;if(p.nodestream)try{m=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function R(D,g){return new A.Promise(function(C,S){var M=[],O=D._internalType,L=D._outputType,B=D._mimeType;D.on("data",function($,Q){M.push($),g&&g(Q)}).on("error",function($){M=[],S($)}).on("end",function(){try{var $=(function(Q,oe,J){switch(Q){case"blob":return v.newBlob(v.transformTo("arraybuffer",oe),J);case"base64":return h.encode(oe);default:return v.transformTo(Q,oe)}})(L,(function(Q,oe){var J,de=0,je=null,k=0;for(J=0;J<oe.length;J++)k+=oe[J].length;switch(Q){case"string":return oe.join("");case"array":return Array.prototype.concat.apply([],oe);case"uint8array":for(je=new Uint8Array(k),J=0;J<oe.length;J++)je.set(oe[J],de),de+=oe[J].length;return je;case"nodebuffer":return Buffer.concat(oe);default:throw new Error("concat : unsupported type '"+Q+"'")}})(O,M),B);C($)}catch(Q){S(Q)}M=[]}).resume()})}function j(D,g,C){var S=g;switch(g){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=g,this._mimeType=C,v.checkSupport(S),this._worker=D.pipe(new z(S)),D.lock()}catch(M){this._worker=new x("error"),this._worker.error(M)}}j.prototype={accumulate:function(D){return R(this,D)},on:function(D,g){var C=this;return D==="data"?this._worker.on(D,function(S){g.call(C,S.data,S.meta)}):this._worker.on(D,function(){v.delay(g,arguments,C)}),this},resume:function(){return v.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(v.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},D)}},f.exports=j},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,f,U){if(U.base64=!0,U.array=!0,U.string=!0,U.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",U.nodebuffer=typeof Buffer<"u",U.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")U.blob=!1;else{var v=new ArrayBuffer(0);try{U.blob=new Blob([v],{type:"application/zip"}).size===0}catch{try{var z=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);z.append(v),U.blob=z.getBlob("application/zip").size===0}catch{U.blob=!1}}}try{U.nodestream=!!d("readable-stream").Readable}catch{U.nodestream=!1}},{"readable-stream":16}],31:[function(d,f,U){for(var v=d("./utils"),z=d("./support"),x=d("./nodejsUtils"),h=d("./stream/GenericWorker"),p=new Array(256),A=0;A<256;A++)p[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;p[254]=p[254]=1;function m(){h.call(this,"utf-8 decode"),this.leftOver=null}function R(){h.call(this,"utf-8 encode")}U.utf8encode=function(j){return z.nodebuffer?x.newBufferFrom(j,"utf-8"):(function(D){var g,C,S,M,O,L=D.length,B=0;for(M=0;M<L;M++)(64512&(C=D.charCodeAt(M)))==55296&&M+1<L&&(64512&(S=D.charCodeAt(M+1)))==56320&&(C=65536+(C-55296<<10)+(S-56320),M++),B+=C<128?1:C<2048?2:C<65536?3:4;for(g=z.uint8array?new Uint8Array(B):new Array(B),M=O=0;O<B;M++)(64512&(C=D.charCodeAt(M)))==55296&&M+1<L&&(64512&(S=D.charCodeAt(M+1)))==56320&&(C=65536+(C-55296<<10)+(S-56320),M++),C<128?g[O++]=C:(C<2048?g[O++]=192|C>>>6:(C<65536?g[O++]=224|C>>>12:(g[O++]=240|C>>>18,g[O++]=128|C>>>12&63),g[O++]=128|C>>>6&63),g[O++]=128|63&C);return g})(j)},U.utf8decode=function(j){return z.nodebuffer?v.transformTo("nodebuffer",j).toString("utf-8"):(function(D){var g,C,S,M,O=D.length,L=new Array(2*O);for(g=C=0;g<O;)if((S=D[g++])<128)L[C++]=S;else if(4<(M=p[S]))L[C++]=65533,g+=M-1;else{for(S&=M===2?31:M===3?15:7;1<M&&g<O;)S=S<<6|63&D[g++],M--;1<M?L[C++]=65533:S<65536?L[C++]=S:(S-=65536,L[C++]=55296|S>>10&1023,L[C++]=56320|1023&S)}return L.length!==C&&(L.subarray?L=L.subarray(0,C):L.length=C),v.applyFromCharCode(L)})(j=v.transformTo(z.uint8array?"uint8array":"array",j))},v.inherits(m,h),m.prototype.processChunk=function(j){var D=v.transformTo(z.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(z.uint8array){var g=D;(D=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),D.set(g,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var C=(function(M,O){var L;for((O=O||M.length)>M.length&&(O=M.length),L=O-1;0<=L&&(192&M[L])==128;)L--;return L<0||L===0?O:L+p[M[L]]>O?L:O})(D),S=D;C!==D.length&&(z.uint8array?(S=D.subarray(0,C),this.leftOver=D.subarray(C,D.length)):(S=D.slice(0,C),this.leftOver=D.slice(C,D.length))),this.push({data:U.utf8decode(S),meta:j.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:U.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},U.Utf8DecodeWorker=m,v.inherits(R,h),R.prototype.processChunk=function(j){this.push({data:U.utf8encode(j.data),meta:j.meta})},U.Utf8EncodeWorker=R},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,f,U){var v=d("./support"),z=d("./base64"),x=d("./nodejsUtils"),h=d("./external");function p(g){return g}function A(g,C){for(var S=0;S<g.length;++S)C[S]=255&g.charCodeAt(S);return C}d("setimmediate"),U.newBlob=function(g,C){U.checkSupport("blob");try{return new Blob([g],{type:C})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(g),S.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(g,C,S){var M=[],O=0,L=g.length;if(L<=S)return String.fromCharCode.apply(null,g);for(;O<L;)C==="array"||C==="nodebuffer"?M.push(String.fromCharCode.apply(null,g.slice(O,Math.min(O+S,L)))):M.push(String.fromCharCode.apply(null,g.subarray(O,Math.min(O+S,L)))),O+=S;return M.join("")},stringifyByChar:function(g){for(var C="",S=0;S<g.length;S++)C+=String.fromCharCode(g[S]);return C},applyCanBeUsed:{uint8array:(function(){try{return v.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return v.nodebuffer&&String.fromCharCode.apply(null,x.allocBuffer(1)).length===1}catch{return!1}})()}};function R(g){var C=65536,S=U.getTypeOf(g),M=!0;if(S==="uint8array"?M=m.applyCanBeUsed.uint8array:S==="nodebuffer"&&(M=m.applyCanBeUsed.nodebuffer),M)for(;1<C;)try{return m.stringifyByChunk(g,S,C)}catch{C=Math.floor(C/2)}return m.stringifyByChar(g)}function j(g,C){for(var S=0;S<g.length;S++)C[S]=g[S];return C}U.applyFromCharCode=R;var D={};D.string={string:p,array:function(g){return A(g,new Array(g.length))},arraybuffer:function(g){return D.string.uint8array(g).buffer},uint8array:function(g){return A(g,new Uint8Array(g.length))},nodebuffer:function(g){return A(g,x.allocBuffer(g.length))}},D.array={string:R,array:p,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return x.newBufferFrom(g)}},D.arraybuffer={string:function(g){return R(new Uint8Array(g))},array:function(g){return j(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:p,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return x.newBufferFrom(new Uint8Array(g))}},D.uint8array={string:R,array:function(g){return j(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:p,nodebuffer:function(g){return x.newBufferFrom(g)}},D.nodebuffer={string:R,array:function(g){return j(g,new Array(g.length))},arraybuffer:function(g){return D.nodebuffer.uint8array(g).buffer},uint8array:function(g){return j(g,new Uint8Array(g.length))},nodebuffer:p},U.transformTo=function(g,C){if(C=C||"",!g)return C;U.checkSupport(g);var S=U.getTypeOf(C);return D[S][g](C)},U.resolve=function(g){for(var C=g.split("/"),S=[],M=0;M<C.length;M++){var O=C[M];O==="."||O===""&&M!==0&&M!==C.length-1||(O===".."?S.pop():S.push(O))}return S.join("/")},U.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":v.nodebuffer&&x.isBuffer(g)?"nodebuffer":v.uint8array&&g instanceof Uint8Array?"uint8array":v.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},U.checkSupport=function(g){if(!v[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},U.MAX_VALUE_16BITS=65535,U.MAX_VALUE_32BITS=-1,U.pretty=function(g){var C,S,M="";for(S=0;S<(g||"").length;S++)M+="\\x"+((C=g.charCodeAt(S))<16?"0":"")+C.toString(16).toUpperCase();return M},U.delay=function(g,C,S){setImmediate(function(){g.apply(S||null,C||[])})},U.inherits=function(g,C){function S(){}S.prototype=C.prototype,g.prototype=new S},U.extend=function(){var g,C,S={};for(g=0;g<arguments.length;g++)for(C in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],C)&&S[C]===void 0&&(S[C]=arguments[g][C]);return S},U.prepareContent=function(g,C,S,M,O){return h.Promise.resolve(C).then(function(L){return v.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1)&&typeof FileReader<"u"?new h.Promise(function(B,$){var Q=new FileReader;Q.onload=function(oe){B(oe.target.result)},Q.onerror=function(oe){$(oe.target.error)},Q.readAsArrayBuffer(L)}):L}).then(function(L){var B=U.getTypeOf(L);return B?(B==="arraybuffer"?L=U.transformTo("uint8array",L):B==="string"&&(O?L=z.decode(L):S&&M!==!0&&(L=(function($){return A($,v.uint8array?new Uint8Array($.length):new Array($.length))})(L))),L):h.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,f,U){var v=d("./reader/readerFor"),z=d("./utils"),x=d("./signature"),h=d("./zipEntry"),p=d("./support");function A(m){this.files=[],this.loadOptions=m}A.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var R=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+z.pretty(R)+", expected "+z.pretty(m)+")")}},isSignature:function(m,R){var j=this.reader.index;this.reader.setIndex(m);var D=this.reader.readString(4)===R;return this.reader.setIndex(j),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),R=p.uint8array?"uint8array":"array",j=z.transformTo(R,m);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,R,j,D=this.zip64EndOfCentralSize-44;0<D;)m=this.reader.readInt(2),R=this.reader.readInt(4),j=this.reader.readData(R),this.zip64ExtensibleData[m]={id:m,length:R,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,R;for(m=0;m<this.files.length;m++)R=this.files[m],this.reader.setIndex(R.localHeaderOffset),this.checkSignature(x.LOCAL_FILE_HEADER),R.readLocalPart(this.reader),R.handleUTF8(),R.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(x.CENTRAL_FILE_HEADER);)(m=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(x.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,x.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var R=m;if(this.checkSignature(x.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===z.MAX_VALUE_16BITS||this.diskWithCentralDirStart===z.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===z.MAX_VALUE_16BITS||this.centralDirRecords===z.MAX_VALUE_16BITS||this.centralDirSize===z.MAX_VALUE_32BITS||this.centralDirOffset===z.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,x.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(x.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var D=R-j;if(0<D)this.isSignature(R,x.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(m){this.reader=v(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,f,U){var v=d("./reader/readerFor"),z=d("./utils"),x=d("./compressedObject"),h=d("./crc32"),p=d("./utf8"),A=d("./compressions"),m=d("./support");function R(j,D){this.options=j,this.loadOptions=D}R.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(j){var D,g;if(j.skip(22),this.fileNameLength=j.readInt(2),g=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=(function(C){for(var S in A)if(Object.prototype.hasOwnProperty.call(A,S)&&A[S].magic===C)return A[S];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+z.pretty(this.compressionMethod)+" unknown (inner file : "+z.transformTo("string",this.fileName)+")");this.decompressed=new x(this.compressedSize,this.uncompressedSize,this.crc32,D,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var D=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(D),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),j==0&&(this.dosPermissions=63&this.externalFileAttributes),j==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var j=v(this.extraFields[1].value);this.uncompressedSize===z.MAX_VALUE_32BITS&&(this.uncompressedSize=j.readInt(8)),this.compressedSize===z.MAX_VALUE_32BITS&&(this.compressedSize=j.readInt(8)),this.localHeaderOffset===z.MAX_VALUE_32BITS&&(this.localHeaderOffset=j.readInt(8)),this.diskNumberStart===z.MAX_VALUE_32BITS&&(this.diskNumberStart=j.readInt(4))}},readExtraFields:function(j){var D,g,C,S=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<S;)D=j.readInt(2),g=j.readInt(2),C=j.readData(g),this.extraFields[D]={id:D,length:g,value:C};j.setIndex(S)},handleUTF8:function(){var j=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var g=z.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var S=z.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var D=v(j.value);return D.readInt(1)!==1||h(this.fileName)!==D.readInt(4)?null:p.utf8decode(D.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var D=v(j.value);return D.readInt(1)!==1||h(this.fileComment)!==D.readInt(4)?null:p.utf8decode(D.readData(j.length-5))}return null}},f.exports=R},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,f,U){function v(D,g,C){this.name=D,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=g,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var z=d("./stream/StreamHelper"),x=d("./stream/DataWorker"),h=d("./utf8"),p=d("./compressedObject"),A=d("./stream/GenericWorker");v.prototype={internalStream:function(D){var g=null,C="string";try{if(!D)throw new Error("No output type specified.");var S=(C=D.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),g=this._decompressWorker();var M=!this._dataBinary;M&&!S&&(g=g.pipe(new h.Utf8EncodeWorker)),!M&&S&&(g=g.pipe(new h.Utf8DecodeWorker))}catch(O){(g=new A("error")).error(O)}return new z(g,C,"")},async:function(D,g){return this.internalStream(D).accumulate(g)},nodeStream:function(D,g){return this.internalStream(D||"nodebuffer").toNodejsStream(g)},_compressWorker:function(D,g){if(this._data instanceof p&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new h.Utf8EncodeWorker)),p.createWorkerFrom(C,D,g)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof A?this._data:new x(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],R=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<m.length;j++)v.prototype[m[j]]=R;f.exports=v},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,f,U){(function(v){var z,x,h=v.MutationObserver||v.WebKitMutationObserver;if(h){var p=0,A=new h(D),m=v.document.createTextNode("");A.observe(m,{characterData:!0}),z=function(){m.data=p=++p%2}}else if(v.setImmediate||v.MessageChannel===void 0)z="document"in v&&"onreadystatechange"in v.document.createElement("script")?function(){var g=v.document.createElement("script");g.onreadystatechange=function(){D(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},v.document.documentElement.appendChild(g)}:function(){setTimeout(D,0)};else{var R=new v.MessageChannel;R.port1.onmessage=D,z=function(){R.port2.postMessage(0)}}var j=[];function D(){var g,C;x=!0;for(var S=j.length;S;){for(C=j,j=[],g=-1;++g<S;)C[g]();S=j.length}x=!1}f.exports=function(g){j.push(g)!==1||x||z()}}).call(this,typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,f,U){var v=d("immediate");function z(){}var x={},h=["REJECTED"],p=["FULFILLED"],A=["PENDING"];function m(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,S!==z&&g(this,S)}function R(S,M,O){this.promise=S,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function j(S,M,O){v(function(){var L;try{L=M(O)}catch(B){return x.reject(S,B)}L===S?x.reject(S,new TypeError("Cannot resolve promise with itself")):x.resolve(S,L)})}function D(S){var M=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof M=="function")return function(){M.apply(S,arguments)}}function g(S,M){var O=!1;function L(Q){O||(O=!0,x.reject(S,Q))}function B(Q){O||(O=!0,x.resolve(S,Q))}var $=C(function(){M(B,L)});$.status==="error"&&L($.value)}function C(S,M){var O={};try{O.value=S(M),O.status="success"}catch(L){O.status="error",O.value=L}return O}(f.exports=m).prototype.finally=function(S){if(typeof S!="function")return this;var M=this.constructor;return this.then(function(O){return M.resolve(S()).then(function(){return O})},function(O){return M.resolve(S()).then(function(){throw O})})},m.prototype.catch=function(S){return this.then(null,S)},m.prototype.then=function(S,M){if(typeof S!="function"&&this.state===p||typeof M!="function"&&this.state===h)return this;var O=new this.constructor(z);return this.state!==A?j(O,this.state===p?S:M,this.outcome):this.queue.push(new R(O,S,M)),O},R.prototype.callFulfilled=function(S){x.resolve(this.promise,S)},R.prototype.otherCallFulfilled=function(S){j(this.promise,this.onFulfilled,S)},R.prototype.callRejected=function(S){x.reject(this.promise,S)},R.prototype.otherCallRejected=function(S){j(this.promise,this.onRejected,S)},x.resolve=function(S,M){var O=C(D,M);if(O.status==="error")return x.reject(S,O.value);var L=O.value;if(L)g(S,L);else{S.state=p,S.outcome=M;for(var B=-1,$=S.queue.length;++B<$;)S.queue[B].callFulfilled(M)}return S},x.reject=function(S,M){S.state=h,S.outcome=M;for(var O=-1,L=S.queue.length;++O<L;)S.queue[O].callRejected(M);return S},m.resolve=function(S){return S instanceof this?S:x.resolve(new this(z),S)},m.reject=function(S){var M=new this(z);return x.reject(M,S)},m.all=function(S){var M=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=S.length,L=!1;if(!O)return this.resolve([]);for(var B=new Array(O),$=0,Q=-1,oe=new this(z);++Q<O;)J(S[Q],Q);return oe;function J(de,je){M.resolve(de).then(function(k){B[je]=k,++$!==O||L||(L=!0,x.resolve(oe,B))},function(k){L||(L=!0,x.reject(oe,k))})}},m.race=function(S){var M=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=S.length,L=!1;if(!O)return this.resolve([]);for(var B=-1,$=new this(z);++B<O;)Q=S[B],M.resolve(Q).then(function(oe){L||(L=!0,x.resolve($,oe))},function(oe){L||(L=!0,x.reject($,oe))});var Q;return $}},{immediate:36}],38:[function(d,f,U){var v={};(0,d("./lib/utils/common").assign)(v,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),f.exports=v},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,f,U){var v=d("./zlib/deflate"),z=d("./utils/common"),x=d("./utils/strings"),h=d("./zlib/messages"),p=d("./zlib/zstream"),A=Object.prototype.toString,m=0,R=-1,j=0,D=8;function g(S){if(!(this instanceof g))return new g(S);this.options=z.assign({level:R,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:j,to:""},S||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var O=v.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(O!==m)throw new Error(h[O]);if(M.header&&v.deflateSetHeader(this.strm,M.header),M.dictionary){var L;if(L=typeof M.dictionary=="string"?x.string2buf(M.dictionary):A.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(O=v.deflateSetDictionary(this.strm,L))!==m)throw new Error(h[O]);this._dict_set=!0}}function C(S,M){var O=new g(M);if(O.push(S,!0),O.err)throw O.msg||h[O.err];return O.result}g.prototype.push=function(S,M){var O,L,B=this.strm,$=this.options.chunkSize;if(this.ended)return!1;L=M===~~M?M:M===!0?4:0,typeof S=="string"?B.input=x.string2buf(S):A.call(S)==="[object ArrayBuffer]"?B.input=new Uint8Array(S):B.input=S,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new z.Buf8($),B.next_out=0,B.avail_out=$),(O=v.deflate(B,L))!==1&&O!==m)return this.onEnd(O),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||L!==4&&L!==2)||(this.options.to==="string"?this.onData(x.buf2binstring(z.shrinkBuf(B.output,B.next_out))):this.onData(z.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&O!==1);return L===4?(O=v.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===m):L!==2||(this.onEnd(m),!(B.avail_out=0))},g.prototype.onData=function(S){this.chunks.push(S)},g.prototype.onEnd=function(S){S===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=z.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},U.Deflate=g,U.deflate=C,U.deflateRaw=function(S,M){return(M=M||{}).raw=!0,C(S,M)},U.gzip=function(S,M){return(M=M||{}).gzip=!0,C(S,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,f,U){var v=d("./zlib/inflate"),z=d("./utils/common"),x=d("./utils/strings"),h=d("./zlib/constants"),p=d("./zlib/messages"),A=d("./zlib/zstream"),m=d("./zlib/gzheader"),R=Object.prototype.toString;function j(g){if(!(this instanceof j))return new j(g);this.options=z.assign({chunkSize:16384,windowBits:0,to:""},g||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||g&&g.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var S=v.inflateInit2(this.strm,C.windowBits);if(S!==h.Z_OK)throw new Error(p[S]);this.header=new m,v.inflateGetHeader(this.strm,this.header)}function D(g,C){var S=new j(C);if(S.push(g,!0),S.err)throw S.msg||p[S.err];return S.result}j.prototype.push=function(g,C){var S,M,O,L,B,$,Q=this.strm,oe=this.options.chunkSize,J=this.options.dictionary,de=!1;if(this.ended)return!1;M=C===~~C?C:C===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof g=="string"?Q.input=x.binstring2buf(g):R.call(g)==="[object ArrayBuffer]"?Q.input=new Uint8Array(g):Q.input=g,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new z.Buf8(oe),Q.next_out=0,Q.avail_out=oe),(S=v.inflate(Q,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&J&&($=typeof J=="string"?x.string2buf(J):R.call(J)==="[object ArrayBuffer]"?new Uint8Array(J):J,S=v.inflateSetDictionary(this.strm,$)),S===h.Z_BUF_ERROR&&de===!0&&(S=h.Z_OK,de=!1),S!==h.Z_STREAM_END&&S!==h.Z_OK)return this.onEnd(S),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&S!==h.Z_STREAM_END&&(Q.avail_in!==0||M!==h.Z_FINISH&&M!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=x.utf8border(Q.output,Q.next_out),L=Q.next_out-O,B=x.buf2string(Q.output,O),Q.next_out=L,Q.avail_out=oe-L,L&&z.arraySet(Q.output,Q.output,O,L,0),this.onData(B)):this.onData(z.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&(de=!0)}while((0<Q.avail_in||Q.avail_out===0)&&S!==h.Z_STREAM_END);return S===h.Z_STREAM_END&&(M=h.Z_FINISH),M===h.Z_FINISH?(S=v.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===h.Z_OK):M!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(Q.avail_out=0))},j.prototype.onData=function(g){this.chunks.push(g)},j.prototype.onEnd=function(g){g===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=z.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},U.Inflate=j,U.inflate=D,U.inflateRaw=function(g,C){return(C=C||{}).raw=!0,D(g,C)},U.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,f,U){var v=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";U.assign=function(h){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var A=p.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var m in A)A.hasOwnProperty(m)&&(h[m]=A[m])}}return h},U.shrinkBuf=function(h,p){return h.length===p?h:h.subarray?h.subarray(0,p):(h.length=p,h)};var z={arraySet:function(h,p,A,m,R){if(p.subarray&&h.subarray)h.set(p.subarray(A,A+m),R);else for(var j=0;j<m;j++)h[R+j]=p[A+j]},flattenChunks:function(h){var p,A,m,R,j,D;for(p=m=0,A=h.length;p<A;p++)m+=h[p].length;for(D=new Uint8Array(m),p=R=0,A=h.length;p<A;p++)j=h[p],D.set(j,R),R+=j.length;return D}},x={arraySet:function(h,p,A,m,R){for(var j=0;j<m;j++)h[R+j]=p[A+j]},flattenChunks:function(h){return[].concat.apply([],h)}};U.setTyped=function(h){h?(U.Buf8=Uint8Array,U.Buf16=Uint16Array,U.Buf32=Int32Array,U.assign(U,z)):(U.Buf8=Array,U.Buf16=Array,U.Buf32=Array,U.assign(U,x))},U.setTyped(v)},{}],42:[function(d,f,U){var v=d("./common"),z=!0,x=!0;try{String.fromCharCode.apply(null,[0])}catch{z=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{x=!1}for(var h=new v.Buf8(256),p=0;p<256;p++)h[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function A(m,R){if(R<65537&&(m.subarray&&x||!m.subarray&&z))return String.fromCharCode.apply(null,v.shrinkBuf(m,R));for(var j="",D=0;D<R;D++)j+=String.fromCharCode(m[D]);return j}h[254]=h[254]=1,U.string2buf=function(m){var R,j,D,g,C,S=m.length,M=0;for(g=0;g<S;g++)(64512&(j=m.charCodeAt(g)))==55296&&g+1<S&&(64512&(D=m.charCodeAt(g+1)))==56320&&(j=65536+(j-55296<<10)+(D-56320),g++),M+=j<128?1:j<2048?2:j<65536?3:4;for(R=new v.Buf8(M),g=C=0;C<M;g++)(64512&(j=m.charCodeAt(g)))==55296&&g+1<S&&(64512&(D=m.charCodeAt(g+1)))==56320&&(j=65536+(j-55296<<10)+(D-56320),g++),j<128?R[C++]=j:(j<2048?R[C++]=192|j>>>6:(j<65536?R[C++]=224|j>>>12:(R[C++]=240|j>>>18,R[C++]=128|j>>>12&63),R[C++]=128|j>>>6&63),R[C++]=128|63&j);return R},U.buf2binstring=function(m){return A(m,m.length)},U.binstring2buf=function(m){for(var R=new v.Buf8(m.length),j=0,D=R.length;j<D;j++)R[j]=m.charCodeAt(j);return R},U.buf2string=function(m,R){var j,D,g,C,S=R||m.length,M=new Array(2*S);for(j=D=0;j<S;)if((g=m[j++])<128)M[D++]=g;else if(4<(C=h[g]))M[D++]=65533,j+=C-1;else{for(g&=C===2?31:C===3?15:7;1<C&&j<S;)g=g<<6|63&m[j++],C--;1<C?M[D++]=65533:g<65536?M[D++]=g:(g-=65536,M[D++]=55296|g>>10&1023,M[D++]=56320|1023&g)}return A(M,D)},U.utf8border=function(m,R){var j;for((R=R||m.length)>m.length&&(R=m.length),j=R-1;0<=j&&(192&m[j])==128;)j--;return j<0||j===0?R:j+h[m[j]]>R?j:R}},{"./common":41}],43:[function(d,f,U){f.exports=function(v,z,x,h){for(var p=65535&v|0,A=v>>>16&65535|0,m=0;x!==0;){for(x-=m=2e3<x?2e3:x;A=A+(p=p+z[h++]|0)|0,--m;);p%=65521,A%=65521}return p|A<<16|0}},{}],44:[function(d,f,U){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,f,U){var v=(function(){for(var z,x=[],h=0;h<256;h++){z=h;for(var p=0;p<8;p++)z=1&z?3988292384^z>>>1:z>>>1;x[h]=z}return x})();f.exports=function(z,x,h,p){var A=v,m=p+h;z^=-1;for(var R=p;R<m;R++)z=z>>>8^A[255&(z^x[R])];return-1^z}},{}],46:[function(d,f,U){var v,z=d("../utils/common"),x=d("./trees"),h=d("./adler32"),p=d("./crc32"),A=d("./messages"),m=0,R=4,j=0,D=-2,g=-1,C=4,S=2,M=8,O=9,L=286,B=30,$=19,Q=2*L+1,oe=15,J=3,de=258,je=de+J+1,k=42,W=113,c=1,I=2,Z=3,Y=4;function pe(u,ge){return u.msg=A[ge],ge}function ie(u){return(u<<1)-(4<u?9:0)}function he(u){for(var ge=u.length;0<=--ge;)u[ge]=0}function y(u){var ge=u.state,le=ge.pending;le>u.avail_out&&(le=u.avail_out),le!==0&&(z.arraySet(u.output,ge.pending_buf,ge.pending_out,le,u.next_out),u.next_out+=le,ge.pending_out+=le,u.total_out+=le,u.avail_out-=le,ge.pending-=le,ge.pending===0&&(ge.pending_out=0))}function T(u,ge){x._tr_flush_block(u,0<=u.block_start?u.block_start:-1,u.strstart-u.block_start,ge),u.block_start=u.strstart,y(u.strm)}function ne(u,ge){u.pending_buf[u.pending++]=ge}function ce(u,ge){u.pending_buf[u.pending++]=ge>>>8&255,u.pending_buf[u.pending++]=255&ge}function ue(u,ge){var le,H,E=u.max_chain_length,V=u.strstart,me=u.prev_length,be=u.nice_match,P=u.strstart>u.w_size-je?u.strstart-(u.w_size-je):0,_=u.window,w=u.w_mask,b=u.prev,G=u.strstart+de,we=_[V+me-1],Se=_[V+me];u.prev_length>=u.good_match&&(E>>=2),be>u.lookahead&&(be=u.lookahead);do if(_[(le=ge)+me]===Se&&_[le+me-1]===we&&_[le]===_[V]&&_[++le]===_[V+1]){V+=2,le++;do;while(_[++V]===_[++le]&&_[++V]===_[++le]&&_[++V]===_[++le]&&_[++V]===_[++le]&&_[++V]===_[++le]&&_[++V]===_[++le]&&_[++V]===_[++le]&&_[++V]===_[++le]&&V<G);if(H=de-(G-V),V=G-de,me<H){if(u.match_start=ge,be<=(me=H))break;we=_[V+me-1],Se=_[V+me]}}while((ge=b[ge&w])>P&&--E!=0);return me<=u.lookahead?me:u.lookahead}function Ne(u){var ge,le,H,E,V,me,be,P,_,w,b=u.w_size;do{if(E=u.window_size-u.lookahead-u.strstart,u.strstart>=b+(b-je)){for(z.arraySet(u.window,u.window,b,b,0),u.match_start-=b,u.strstart-=b,u.block_start-=b,ge=le=u.hash_size;H=u.head[--ge],u.head[ge]=b<=H?H-b:0,--le;);for(ge=le=b;H=u.prev[--ge],u.prev[ge]=b<=H?H-b:0,--le;);E+=b}if(u.strm.avail_in===0)break;if(me=u.strm,be=u.window,P=u.strstart+u.lookahead,_=E,w=void 0,w=me.avail_in,_<w&&(w=_),le=w===0?0:(me.avail_in-=w,z.arraySet(be,me.input,me.next_in,w,P),me.state.wrap===1?me.adler=h(me.adler,be,w,P):me.state.wrap===2&&(me.adler=p(me.adler,be,w,P)),me.next_in+=w,me.total_in+=w,w),u.lookahead+=le,u.lookahead+u.insert>=J)for(V=u.strstart-u.insert,u.ins_h=u.window[V],u.ins_h=(u.ins_h<<u.hash_shift^u.window[V+1])&u.hash_mask;u.insert&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[V+J-1])&u.hash_mask,u.prev[V&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=V,V++,u.insert--,!(u.lookahead+u.insert<J)););}while(u.lookahead<je&&u.strm.avail_in!==0)}function De(u,ge){for(var le,H;;){if(u.lookahead<je){if(Ne(u),u.lookahead<je&&ge===m)return c;if(u.lookahead===0)break}if(le=0,u.lookahead>=J&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+J-1])&u.hash_mask,le=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),le!==0&&u.strstart-le<=u.w_size-je&&(u.match_length=ue(u,le)),u.match_length>=J)if(H=x._tr_tally(u,u.strstart-u.match_start,u.match_length-J),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=J){for(u.match_length--;u.strstart++,u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+J-1])&u.hash_mask,le=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart,--u.match_length!=0;);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+1])&u.hash_mask;else H=x._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(H&&(T(u,!1),u.strm.avail_out===0))return c}return u.insert=u.strstart<J-1?u.strstart:J-1,ge===R?(T(u,!0),u.strm.avail_out===0?Z:Y):u.last_lit&&(T(u,!1),u.strm.avail_out===0)?c:I}function Oe(u,ge){for(var le,H,E;;){if(u.lookahead<je){if(Ne(u),u.lookahead<je&&ge===m)return c;if(u.lookahead===0)break}if(le=0,u.lookahead>=J&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+J-1])&u.hash_mask,le=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=J-1,le!==0&&u.prev_length<u.max_lazy_match&&u.strstart-le<=u.w_size-je&&(u.match_length=ue(u,le),u.match_length<=5&&(u.strategy===1||u.match_length===J&&4096<u.strstart-u.match_start)&&(u.match_length=J-1)),u.prev_length>=J&&u.match_length<=u.prev_length){for(E=u.strstart+u.lookahead-J,H=x._tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-J),u.lookahead-=u.prev_length-1,u.prev_length-=2;++u.strstart<=E&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+J-1])&u.hash_mask,le=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),--u.prev_length!=0;);if(u.match_available=0,u.match_length=J-1,u.strstart++,H&&(T(u,!1),u.strm.avail_out===0))return c}else if(u.match_available){if((H=x._tr_tally(u,0,u.window[u.strstart-1]))&&T(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return c}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(H=x._tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<J-1?u.strstart:J-1,ge===R?(T(u,!0),u.strm.avail_out===0?Z:Y):u.last_lit&&(T(u,!1),u.strm.avail_out===0)?c:I}function ke(u,ge,le,H,E){this.good_length=u,this.max_lazy=ge,this.nice_length=le,this.max_chain=H,this.func=E}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new z.Buf16(2*Q),this.dyn_dtree=new z.Buf16(2*(2*B+1)),this.bl_tree=new z.Buf16(2*(2*$+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new z.Buf16(oe+1),this.heap=new z.Buf16(2*L+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new z.Buf16(2*L+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ye(u){var ge;return u&&u.state?(u.total_in=u.total_out=0,u.data_type=S,(ge=u.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?k:W,u.adler=ge.wrap===2?0:1,ge.last_flush=m,x._tr_init(ge),j):pe(u,D)}function Je(u){var ge=Ye(u);return ge===j&&(function(le){le.window_size=2*le.w_size,he(le.head),le.max_lazy_match=v[le.level].max_lazy,le.good_match=v[le.level].good_length,le.nice_match=v[le.level].nice_length,le.max_chain_length=v[le.level].max_chain,le.strstart=0,le.block_start=0,le.lookahead=0,le.insert=0,le.match_length=le.prev_length=J-1,le.match_available=0,le.ins_h=0})(u.state),ge}function it(u,ge,le,H,E,V){if(!u)return D;var me=1;if(ge===g&&(ge=6),H<0?(me=0,H=-H):15<H&&(me=2,H-=16),E<1||O<E||le!==M||H<8||15<H||ge<0||9<ge||V<0||C<V)return pe(u,D);H===8&&(H=9);var be=new Te;return(u.state=be).strm=u,be.wrap=me,be.gzhead=null,be.w_bits=H,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=E+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+J-1)/J),be.window=new z.Buf8(2*be.w_size),be.head=new z.Buf16(be.hash_size),be.prev=new z.Buf16(be.w_size),be.lit_bufsize=1<<E+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new z.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=ge,be.strategy=V,be.method=le,Je(u)}v=[new ke(0,0,0,0,function(u,ge){var le=65535;for(le>u.pending_buf_size-5&&(le=u.pending_buf_size-5);;){if(u.lookahead<=1){if(Ne(u),u.lookahead===0&&ge===m)return c;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;var H=u.block_start+le;if((u.strstart===0||u.strstart>=H)&&(u.lookahead=u.strstart-H,u.strstart=H,T(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-je&&(T(u,!1),u.strm.avail_out===0))return c}return u.insert=0,ge===R?(T(u,!0),u.strm.avail_out===0?Z:Y):(u.strstart>u.block_start&&(T(u,!1),u.strm.avail_out),c)}),new ke(4,4,8,4,De),new ke(4,5,16,8,De),new ke(4,6,32,32,De),new ke(4,4,16,16,Oe),new ke(8,16,32,32,Oe),new ke(8,16,128,128,Oe),new ke(8,32,128,256,Oe),new ke(32,128,258,1024,Oe),new ke(32,258,258,4096,Oe)],U.deflateInit=function(u,ge){return it(u,ge,M,15,8,0)},U.deflateInit2=it,U.deflateReset=Je,U.deflateResetKeep=Ye,U.deflateSetHeader=function(u,ge){return u&&u.state?u.state.wrap!==2?D:(u.state.gzhead=ge,j):D},U.deflate=function(u,ge){var le,H,E,V;if(!u||!u.state||5<ge||ge<0)return u?pe(u,D):D;if(H=u.state,!u.output||!u.input&&u.avail_in!==0||H.status===666&&ge!==R)return pe(u,u.avail_out===0?-5:D);if(H.strm=u,le=H.last_flush,H.last_flush=ge,H.status===k)if(H.wrap===2)u.adler=0,ne(H,31),ne(H,139),ne(H,8),H.gzhead?(ne(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),ne(H,255&H.gzhead.time),ne(H,H.gzhead.time>>8&255),ne(H,H.gzhead.time>>16&255),ne(H,H.gzhead.time>>24&255),ne(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),ne(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(ne(H,255&H.gzhead.extra.length),ne(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(u.adler=p(u.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(ne(H,0),ne(H,0),ne(H,0),ne(H,0),ne(H,0),ne(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),ne(H,3),H.status=W);else{var me=M+(H.w_bits-8<<4)<<8;me|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(me|=32),me+=31-me%31,H.status=W,ce(H,me),H.strstart!==0&&(ce(H,u.adler>>>16),ce(H,65535&u.adler)),u.adler=1}if(H.status===69)if(H.gzhead.extra){for(E=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>E&&(u.adler=p(u.adler,H.pending_buf,H.pending-E,E)),y(u),E=H.pending,H.pending!==H.pending_buf_size));)ne(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>E&&(u.adler=p(u.adler,H.pending_buf,H.pending-E,E)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){E=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>E&&(u.adler=p(u.adler,H.pending_buf,H.pending-E,E)),y(u),E=H.pending,H.pending===H.pending_buf_size)){V=1;break}V=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,ne(H,V)}while(V!==0);H.gzhead.hcrc&&H.pending>E&&(u.adler=p(u.adler,H.pending_buf,H.pending-E,E)),V===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){E=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>E&&(u.adler=p(u.adler,H.pending_buf,H.pending-E,E)),y(u),E=H.pending,H.pending===H.pending_buf_size)){V=1;break}V=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,ne(H,V)}while(V!==0);H.gzhead.hcrc&&H.pending>E&&(u.adler=p(u.adler,H.pending_buf,H.pending-E,E)),V===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&y(u),H.pending+2<=H.pending_buf_size&&(ne(H,255&u.adler),ne(H,u.adler>>8&255),u.adler=0,H.status=W)):H.status=W),H.pending!==0){if(y(u),u.avail_out===0)return H.last_flush=-1,j}else if(u.avail_in===0&&ie(ge)<=ie(le)&&ge!==R)return pe(u,-5);if(H.status===666&&u.avail_in!==0)return pe(u,-5);if(u.avail_in!==0||H.lookahead!==0||ge!==m&&H.status!==666){var be=H.strategy===2?(function(P,_){for(var w;;){if(P.lookahead===0&&(Ne(P),P.lookahead===0)){if(_===m)return c;break}if(P.match_length=0,w=x._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,w&&(T(P,!1),P.strm.avail_out===0))return c}return P.insert=0,_===R?(T(P,!0),P.strm.avail_out===0?Z:Y):P.last_lit&&(T(P,!1),P.strm.avail_out===0)?c:I})(H,ge):H.strategy===3?(function(P,_){for(var w,b,G,we,Se=P.window;;){if(P.lookahead<=de){if(Ne(P),P.lookahead<=de&&_===m)return c;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=J&&0<P.strstart&&(b=Se[G=P.strstart-1])===Se[++G]&&b===Se[++G]&&b===Se[++G]){we=P.strstart+de;do;while(b===Se[++G]&&b===Se[++G]&&b===Se[++G]&&b===Se[++G]&&b===Se[++G]&&b===Se[++G]&&b===Se[++G]&&b===Se[++G]&&G<we);P.match_length=de-(we-G),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=J?(w=x._tr_tally(P,1,P.match_length-J),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(w=x._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),w&&(T(P,!1),P.strm.avail_out===0))return c}return P.insert=0,_===R?(T(P,!0),P.strm.avail_out===0?Z:Y):P.last_lit&&(T(P,!1),P.strm.avail_out===0)?c:I})(H,ge):v[H.level].func(H,ge);if(be!==Z&&be!==Y||(H.status=666),be===c||be===Z)return u.avail_out===0&&(H.last_flush=-1),j;if(be===I&&(ge===1?x._tr_align(H):ge!==5&&(x._tr_stored_block(H,0,0,!1),ge===3&&(he(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),y(u),u.avail_out===0))return H.last_flush=-1,j}return ge!==R?j:H.wrap<=0?1:(H.wrap===2?(ne(H,255&u.adler),ne(H,u.adler>>8&255),ne(H,u.adler>>16&255),ne(H,u.adler>>24&255),ne(H,255&u.total_in),ne(H,u.total_in>>8&255),ne(H,u.total_in>>16&255),ne(H,u.total_in>>24&255)):(ce(H,u.adler>>>16),ce(H,65535&u.adler)),y(u),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?j:1)},U.deflateEnd=function(u){var ge;return u&&u.state?(ge=u.state.status)!==k&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==W&&ge!==666?pe(u,D):(u.state=null,ge===W?pe(u,-3):j):D},U.deflateSetDictionary=function(u,ge){var le,H,E,V,me,be,P,_,w=ge.length;if(!u||!u.state||(V=(le=u.state).wrap)===2||V===1&&le.status!==k||le.lookahead)return D;for(V===1&&(u.adler=h(u.adler,ge,w,0)),le.wrap=0,w>=le.w_size&&(V===0&&(he(le.head),le.strstart=0,le.block_start=0,le.insert=0),_=new z.Buf8(le.w_size),z.arraySet(_,ge,w-le.w_size,le.w_size,0),ge=_,w=le.w_size),me=u.avail_in,be=u.next_in,P=u.input,u.avail_in=w,u.next_in=0,u.input=ge,Ne(le);le.lookahead>=J;){for(H=le.strstart,E=le.lookahead-(J-1);le.ins_h=(le.ins_h<<le.hash_shift^le.window[H+J-1])&le.hash_mask,le.prev[H&le.w_mask]=le.head[le.ins_h],le.head[le.ins_h]=H,H++,--E;);le.strstart=H,le.lookahead=J-1,Ne(le)}return le.strstart+=le.lookahead,le.block_start=le.strstart,le.insert=le.lookahead,le.lookahead=0,le.match_length=le.prev_length=J-1,le.match_available=0,u.next_in=be,u.input=P,u.avail_in=me,le.wrap=V,j},U.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,f,U){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,f,U){f.exports=function(v,z){var x,h,p,A,m,R,j,D,g,C,S,M,O,L,B,$,Q,oe,J,de,je,k,W,c,I;x=v.state,h=v.next_in,c=v.input,p=h+(v.avail_in-5),A=v.next_out,I=v.output,m=A-(z-v.avail_out),R=A+(v.avail_out-257),j=x.dmax,D=x.wsize,g=x.whave,C=x.wnext,S=x.window,M=x.hold,O=x.bits,L=x.lencode,B=x.distcode,$=(1<<x.lenbits)-1,Q=(1<<x.distbits)-1;e:do{O<15&&(M+=c[h++]<<O,O+=8,M+=c[h++]<<O,O+=8),oe=L[M&$];t:for(;;){if(M>>>=J=oe>>>24,O-=J,(J=oe>>>16&255)===0)I[A++]=65535&oe;else{if(!(16&J)){if((64&J)==0){oe=L[(65535&oe)+(M&(1<<J)-1)];continue t}if(32&J){x.mode=12;break e}v.msg="invalid literal/length code",x.mode=30;break e}de=65535&oe,(J&=15)&&(O<J&&(M+=c[h++]<<O,O+=8),de+=M&(1<<J)-1,M>>>=J,O-=J),O<15&&(M+=c[h++]<<O,O+=8,M+=c[h++]<<O,O+=8),oe=B[M&Q];a:for(;;){if(M>>>=J=oe>>>24,O-=J,!(16&(J=oe>>>16&255))){if((64&J)==0){oe=B[(65535&oe)+(M&(1<<J)-1)];continue a}v.msg="invalid distance code",x.mode=30;break e}if(je=65535&oe,O<(J&=15)&&(M+=c[h++]<<O,(O+=8)<J&&(M+=c[h++]<<O,O+=8)),j<(je+=M&(1<<J)-1)){v.msg="invalid distance too far back",x.mode=30;break e}if(M>>>=J,O-=J,(J=A-m)<je){if(g<(J=je-J)&&x.sane){v.msg="invalid distance too far back",x.mode=30;break e}if(W=S,(k=0)===C){if(k+=D-J,J<de){for(de-=J;I[A++]=S[k++],--J;);k=A-je,W=I}}else if(C<J){if(k+=D+C-J,(J-=C)<de){for(de-=J;I[A++]=S[k++],--J;);if(k=0,C<de){for(de-=J=C;I[A++]=S[k++],--J;);k=A-je,W=I}}}else if(k+=C-J,J<de){for(de-=J;I[A++]=S[k++],--J;);k=A-je,W=I}for(;2<de;)I[A++]=W[k++],I[A++]=W[k++],I[A++]=W[k++],de-=3;de&&(I[A++]=W[k++],1<de&&(I[A++]=W[k++]))}else{for(k=A-je;I[A++]=I[k++],I[A++]=I[k++],I[A++]=I[k++],2<(de-=3););de&&(I[A++]=I[k++],1<de&&(I[A++]=I[k++]))}break}}break}}while(h<p&&A<R);h-=de=O>>3,M&=(1<<(O-=de<<3))-1,v.next_in=h,v.next_out=A,v.avail_in=h<p?p-h+5:5-(h-p),v.avail_out=A<R?R-A+257:257-(A-R),x.hold=M,x.bits=O}},{}],49:[function(d,f,U){var v=d("../utils/common"),z=d("./adler32"),x=d("./crc32"),h=d("./inffast"),p=d("./inftrees"),A=1,m=2,R=0,j=-2,D=1,g=852,C=592;function S(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(k){var W;return k&&k.state?(W=k.state,k.total_in=k.total_out=W.total=0,k.msg="",W.wrap&&(k.adler=1&W.wrap),W.mode=D,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new v.Buf32(g),W.distcode=W.distdyn=new v.Buf32(C),W.sane=1,W.back=-1,R):j}function L(k){var W;return k&&k.state?((W=k.state).wsize=0,W.whave=0,W.wnext=0,O(k)):j}function B(k,W){var c,I;return k&&k.state?(I=k.state,W<0?(c=0,W=-W):(c=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?j:(I.window!==null&&I.wbits!==W&&(I.window=null),I.wrap=c,I.wbits=W,L(k))):j}function $(k,W){var c,I;return k?(I=new M,(k.state=I).window=null,(c=B(k,W))!==R&&(k.state=null),c):j}var Q,oe,J=!0;function de(k){if(J){var W;for(Q=new v.Buf32(512),oe=new v.Buf32(32),W=0;W<144;)k.lens[W++]=8;for(;W<256;)k.lens[W++]=9;for(;W<280;)k.lens[W++]=7;for(;W<288;)k.lens[W++]=8;for(p(A,k.lens,0,288,Q,0,k.work,{bits:9}),W=0;W<32;)k.lens[W++]=5;p(m,k.lens,0,32,oe,0,k.work,{bits:5}),J=!1}k.lencode=Q,k.lenbits=9,k.distcode=oe,k.distbits=5}function je(k,W,c,I){var Z,Y=k.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new v.Buf8(Y.wsize)),I>=Y.wsize?(v.arraySet(Y.window,W,c-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(I<(Z=Y.wsize-Y.wnext)&&(Z=I),v.arraySet(Y.window,W,c-I,Z,Y.wnext),(I-=Z)?(v.arraySet(Y.window,W,c-I,I,0),Y.wnext=I,Y.whave=Y.wsize):(Y.wnext+=Z,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=Z))),0}U.inflateReset=L,U.inflateReset2=B,U.inflateResetKeep=O,U.inflateInit=function(k){return $(k,15)},U.inflateInit2=$,U.inflate=function(k,W){var c,I,Z,Y,pe,ie,he,y,T,ne,ce,ue,Ne,De,Oe,ke,Te,Ye,Je,it,u,ge,le,H,E=0,V=new v.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return j;(c=k.state).mode===12&&(c.mode=13),pe=k.next_out,Z=k.output,he=k.avail_out,Y=k.next_in,I=k.input,ie=k.avail_in,y=c.hold,T=c.bits,ne=ie,ce=he,ge=R;e:for(;;)switch(c.mode){case D:if(c.wrap===0){c.mode=13;break}for(;T<16;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(2&c.wrap&&y===35615){V[c.check=0]=255&y,V[1]=y>>>8&255,c.check=x(c.check,V,2,0),T=y=0,c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&y)<<8)+(y>>8))%31){k.msg="incorrect header check",c.mode=30;break}if((15&y)!=8){k.msg="unknown compression method",c.mode=30;break}if(T-=4,u=8+(15&(y>>>=4)),c.wbits===0)c.wbits=u;else if(u>c.wbits){k.msg="invalid window size",c.mode=30;break}c.dmax=1<<u,k.adler=c.check=1,c.mode=512&y?10:12,T=y=0;break;case 2:for(;T<16;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(c.flags=y,(255&c.flags)!=8){k.msg="unknown compression method",c.mode=30;break}if(57344&c.flags){k.msg="unknown header flags set",c.mode=30;break}c.head&&(c.head.text=y>>8&1),512&c.flags&&(V[0]=255&y,V[1]=y>>>8&255,c.check=x(c.check,V,2,0)),T=y=0,c.mode=3;case 3:for(;T<32;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}c.head&&(c.head.time=y),512&c.flags&&(V[0]=255&y,V[1]=y>>>8&255,V[2]=y>>>16&255,V[3]=y>>>24&255,c.check=x(c.check,V,4,0)),T=y=0,c.mode=4;case 4:for(;T<16;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}c.head&&(c.head.xflags=255&y,c.head.os=y>>8),512&c.flags&&(V[0]=255&y,V[1]=y>>>8&255,c.check=x(c.check,V,2,0)),T=y=0,c.mode=5;case 5:if(1024&c.flags){for(;T<16;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}c.length=y,c.head&&(c.head.extra_len=y),512&c.flags&&(V[0]=255&y,V[1]=y>>>8&255,c.check=x(c.check,V,2,0)),T=y=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(ie<(ue=c.length)&&(ue=ie),ue&&(c.head&&(u=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),v.arraySet(c.head.extra,I,Y,ue,u)),512&c.flags&&(c.check=x(c.check,I,ue,Y)),ie-=ue,Y+=ue,c.length-=ue),c.length))break e;c.length=0,c.mode=7;case 7:if(2048&c.flags){if(ie===0)break e;for(ue=0;u=I[Y+ue++],c.head&&u&&c.length<65536&&(c.head.name+=String.fromCharCode(u)),u&&ue<ie;);if(512&c.flags&&(c.check=x(c.check,I,ue,Y)),ie-=ue,Y+=ue,u)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=8;case 8:if(4096&c.flags){if(ie===0)break e;for(ue=0;u=I[Y+ue++],c.head&&u&&c.length<65536&&(c.head.comment+=String.fromCharCode(u)),u&&ue<ie;);if(512&c.flags&&(c.check=x(c.check,I,ue,Y)),ie-=ue,Y+=ue,u)break e}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;T<16;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(y!==(65535&c.check)){k.msg="header crc mismatch",c.mode=30;break}T=y=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),k.adler=c.check=0,c.mode=12;break;case 10:for(;T<32;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}k.adler=c.check=S(y),T=y=0,c.mode=11;case 11:if(c.havedict===0)return k.next_out=pe,k.avail_out=he,k.next_in=Y,k.avail_in=ie,c.hold=y,c.bits=T,2;k.adler=c.check=1,c.mode=12;case 12:if(W===5||W===6)break e;case 13:if(c.last){y>>>=7&T,T-=7&T,c.mode=27;break}for(;T<3;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}switch(c.last=1&y,T-=1,3&(y>>>=1)){case 0:c.mode=14;break;case 1:if(de(c),c.mode=20,W!==6)break;y>>>=2,T-=2;break e;case 2:c.mode=17;break;case 3:k.msg="invalid block type",c.mode=30}y>>>=2,T-=2;break;case 14:for(y>>>=7&T,T-=7&T;T<32;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if((65535&y)!=(y>>>16^65535)){k.msg="invalid stored block lengths",c.mode=30;break}if(c.length=65535&y,T=y=0,c.mode=15,W===6)break e;case 15:c.mode=16;case 16:if(ue=c.length){if(ie<ue&&(ue=ie),he<ue&&(ue=he),ue===0)break e;v.arraySet(Z,I,Y,ue,pe),ie-=ue,Y+=ue,he-=ue,pe+=ue,c.length-=ue;break}c.mode=12;break;case 17:for(;T<14;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(c.nlen=257+(31&y),y>>>=5,T-=5,c.ndist=1+(31&y),y>>>=5,T-=5,c.ncode=4+(15&y),y>>>=4,T-=4,286<c.nlen||30<c.ndist){k.msg="too many length or distance symbols",c.mode=30;break}c.have=0,c.mode=18;case 18:for(;c.have<c.ncode;){for(;T<3;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}c.lens[me[c.have++]]=7&y,y>>>=3,T-=3}for(;c.have<19;)c.lens[me[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,le={bits:c.lenbits},ge=p(0,c.lens,0,19,c.lencode,0,c.work,le),c.lenbits=le.bits,ge){k.msg="invalid code lengths set",c.mode=30;break}c.have=0,c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;ke=(E=c.lencode[y&(1<<c.lenbits)-1])>>>16&255,Te=65535&E,!((Oe=E>>>24)<=T);){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(Te<16)y>>>=Oe,T-=Oe,c.lens[c.have++]=Te;else{if(Te===16){for(H=Oe+2;T<H;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(y>>>=Oe,T-=Oe,c.have===0){k.msg="invalid bit length repeat",c.mode=30;break}u=c.lens[c.have-1],ue=3+(3&y),y>>>=2,T-=2}else if(Te===17){for(H=Oe+3;T<H;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}T-=Oe,u=0,ue=3+(7&(y>>>=Oe)),y>>>=3,T-=3}else{for(H=Oe+7;T<H;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}T-=Oe,u=0,ue=11+(127&(y>>>=Oe)),y>>>=7,T-=7}if(c.have+ue>c.nlen+c.ndist){k.msg="invalid bit length repeat",c.mode=30;break}for(;ue--;)c.lens[c.have++]=u}}if(c.mode===30)break;if(c.lens[256]===0){k.msg="invalid code -- missing end-of-block",c.mode=30;break}if(c.lenbits=9,le={bits:c.lenbits},ge=p(A,c.lens,0,c.nlen,c.lencode,0,c.work,le),c.lenbits=le.bits,ge){k.msg="invalid literal/lengths set",c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,le={bits:c.distbits},ge=p(m,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,le),c.distbits=le.bits,ge){k.msg="invalid distances set",c.mode=30;break}if(c.mode=20,W===6)break e;case 20:c.mode=21;case 21:if(6<=ie&&258<=he){k.next_out=pe,k.avail_out=he,k.next_in=Y,k.avail_in=ie,c.hold=y,c.bits=T,h(k,ce),pe=k.next_out,Z=k.output,he=k.avail_out,Y=k.next_in,I=k.input,ie=k.avail_in,y=c.hold,T=c.bits,c.mode===12&&(c.back=-1);break}for(c.back=0;ke=(E=c.lencode[y&(1<<c.lenbits)-1])>>>16&255,Te=65535&E,!((Oe=E>>>24)<=T);){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(ke&&(240&ke)==0){for(Ye=Oe,Je=ke,it=Te;ke=(E=c.lencode[it+((y&(1<<Ye+Je)-1)>>Ye)])>>>16&255,Te=65535&E,!(Ye+(Oe=E>>>24)<=T);){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}y>>>=Ye,T-=Ye,c.back+=Ye}if(y>>>=Oe,T-=Oe,c.back+=Oe,c.length=Te,ke===0){c.mode=26;break}if(32&ke){c.back=-1,c.mode=12;break}if(64&ke){k.msg="invalid literal/length code",c.mode=30;break}c.extra=15&ke,c.mode=22;case 22:if(c.extra){for(H=c.extra;T<H;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}c.length+=y&(1<<c.extra)-1,y>>>=c.extra,T-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=23;case 23:for(;ke=(E=c.distcode[y&(1<<c.distbits)-1])>>>16&255,Te=65535&E,!((Oe=E>>>24)<=T);){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if((240&ke)==0){for(Ye=Oe,Je=ke,it=Te;ke=(E=c.distcode[it+((y&(1<<Ye+Je)-1)>>Ye)])>>>16&255,Te=65535&E,!(Ye+(Oe=E>>>24)<=T);){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}y>>>=Ye,T-=Ye,c.back+=Ye}if(y>>>=Oe,T-=Oe,c.back+=Oe,64&ke){k.msg="invalid distance code",c.mode=30;break}c.offset=Te,c.extra=15&ke,c.mode=24;case 24:if(c.extra){for(H=c.extra;T<H;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}c.offset+=y&(1<<c.extra)-1,y>>>=c.extra,T-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){k.msg="invalid distance too far back",c.mode=30;break}c.mode=25;case 25:if(he===0)break e;if(ue=ce-he,c.offset>ue){if((ue=c.offset-ue)>c.whave&&c.sane){k.msg="invalid distance too far back",c.mode=30;break}Ne=ue>c.wnext?(ue-=c.wnext,c.wsize-ue):c.wnext-ue,ue>c.length&&(ue=c.length),De=c.window}else De=Z,Ne=pe-c.offset,ue=c.length;for(he<ue&&(ue=he),he-=ue,c.length-=ue;Z[pe++]=De[Ne++],--ue;);c.length===0&&(c.mode=21);break;case 26:if(he===0)break e;Z[pe++]=c.length,he--,c.mode=21;break;case 27:if(c.wrap){for(;T<32;){if(ie===0)break e;ie--,y|=I[Y++]<<T,T+=8}if(ce-=he,k.total_out+=ce,c.total+=ce,ce&&(k.adler=c.check=c.flags?x(c.check,Z,ce,pe-ce):z(c.check,Z,ce,pe-ce)),ce=he,(c.flags?y:S(y))!==c.check){k.msg="incorrect data check",c.mode=30;break}T=y=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;T<32;){if(ie===0)break e;ie--,y+=I[Y++]<<T,T+=8}if(y!==(4294967295&c.total)){k.msg="incorrect length check",c.mode=30;break}T=y=0}c.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return j}return k.next_out=pe,k.avail_out=he,k.next_in=Y,k.avail_in=ie,c.hold=y,c.bits=T,(c.wsize||ce!==k.avail_out&&c.mode<30&&(c.mode<27||W!==4))&&je(k,k.output,k.next_out,ce-k.avail_out)?(c.mode=31,-4):(ne-=k.avail_in,ce-=k.avail_out,k.total_in+=ne,k.total_out+=ce,c.total+=ce,c.wrap&&ce&&(k.adler=c.check=c.flags?x(c.check,Z,ce,k.next_out-ce):z(c.check,Z,ce,k.next_out-ce)),k.data_type=c.bits+(c.last?64:0)+(c.mode===12?128:0)+(c.mode===20||c.mode===15?256:0),(ne==0&&ce===0||W===4)&&ge===R&&(ge=-5),ge)},U.inflateEnd=function(k){if(!k||!k.state)return j;var W=k.state;return W.window&&(W.window=null),k.state=null,R},U.inflateGetHeader=function(k,W){var c;return k&&k.state?(2&(c=k.state).wrap)==0?j:((c.head=W).done=!1,R):j},U.inflateSetDictionary=function(k,W){var c,I=W.length;return k&&k.state?(c=k.state).wrap!==0&&c.mode!==11?j:c.mode===11&&z(1,W,I,0)!==c.check?-3:je(k,W,I,I)?(c.mode=31,-4):(c.havedict=1,R):j},U.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,f,U){var v=d("../utils/common"),z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(A,m,R,j,D,g,C,S){var M,O,L,B,$,Q,oe,J,de,je=S.bits,k=0,W=0,c=0,I=0,Z=0,Y=0,pe=0,ie=0,he=0,y=0,T=null,ne=0,ce=new v.Buf16(16),ue=new v.Buf16(16),Ne=null,De=0;for(k=0;k<=15;k++)ce[k]=0;for(W=0;W<j;W++)ce[m[R+W]]++;for(Z=je,I=15;1<=I&&ce[I]===0;I--);if(I<Z&&(Z=I),I===0)return D[g++]=20971520,D[g++]=20971520,S.bits=1,0;for(c=1;c<I&&ce[c]===0;c++);for(Z<c&&(Z=c),k=ie=1;k<=15;k++)if(ie<<=1,(ie-=ce[k])<0)return-1;if(0<ie&&(A===0||I!==1))return-1;for(ue[1]=0,k=1;k<15;k++)ue[k+1]=ue[k]+ce[k];for(W=0;W<j;W++)m[R+W]!==0&&(C[ue[m[R+W]]++]=W);if(Q=A===0?(T=Ne=C,19):A===1?(T=z,ne-=257,Ne=x,De-=257,256):(T=h,Ne=p,-1),k=c,$=g,pe=W=y=0,L=-1,B=(he=1<<(Y=Z))-1,A===1&&852<he||A===2&&592<he)return 1;for(;;){for(oe=k-pe,de=C[W]<Q?(J=0,C[W]):C[W]>Q?(J=Ne[De+C[W]],T[ne+C[W]]):(J=96,0),M=1<<k-pe,c=O=1<<Y;D[$+(y>>pe)+(O-=M)]=oe<<24|J<<16|de|0,O!==0;);for(M=1<<k-1;y&M;)M>>=1;if(M!==0?(y&=M-1,y+=M):y=0,W++,--ce[k]==0){if(k===I)break;k=m[R+C[W]]}if(Z<k&&(y&B)!==L){for(pe===0&&(pe=Z),$+=c,ie=1<<(Y=k-pe);Y+pe<I&&!((ie-=ce[Y+pe])<=0);)Y++,ie<<=1;if(he+=1<<Y,A===1&&852<he||A===2&&592<he)return 1;D[L=y&B]=Z<<24|Y<<16|$-g|0}}return y!==0&&(D[$+y]=k-pe<<24|64<<16|0),S.bits=Z,0}},{"../utils/common":41}],51:[function(d,f,U){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,f,U){var v=d("../utils/common"),z=0,x=1;function h(E){for(var V=E.length;0<=--V;)E[V]=0}var p=0,A=29,m=256,R=m+1+A,j=30,D=19,g=2*R+1,C=15,S=16,M=7,O=256,L=16,B=17,$=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],oe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],je=new Array(2*(R+2));h(je);var k=new Array(2*j);h(k);var W=new Array(512);h(W);var c=new Array(256);h(c);var I=new Array(A);h(I);var Z,Y,pe,ie=new Array(j);function he(E,V,me,be,P){this.static_tree=E,this.extra_bits=V,this.extra_base=me,this.elems=be,this.max_length=P,this.has_stree=E&&E.length}function y(E,V){this.dyn_tree=E,this.max_code=0,this.stat_desc=V}function T(E){return E<256?W[E]:W[256+(E>>>7)]}function ne(E,V){E.pending_buf[E.pending++]=255&V,E.pending_buf[E.pending++]=V>>>8&255}function ce(E,V,me){E.bi_valid>S-me?(E.bi_buf|=V<<E.bi_valid&65535,ne(E,E.bi_buf),E.bi_buf=V>>S-E.bi_valid,E.bi_valid+=me-S):(E.bi_buf|=V<<E.bi_valid&65535,E.bi_valid+=me)}function ue(E,V,me){ce(E,me[2*V],me[2*V+1])}function Ne(E,V){for(var me=0;me|=1&E,E>>>=1,me<<=1,0<--V;);return me>>>1}function De(E,V,me){var be,P,_=new Array(C+1),w=0;for(be=1;be<=C;be++)_[be]=w=w+me[be-1]<<1;for(P=0;P<=V;P++){var b=E[2*P+1];b!==0&&(E[2*P]=Ne(_[b]++,b))}}function Oe(E){var V;for(V=0;V<R;V++)E.dyn_ltree[2*V]=0;for(V=0;V<j;V++)E.dyn_dtree[2*V]=0;for(V=0;V<D;V++)E.bl_tree[2*V]=0;E.dyn_ltree[2*O]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function ke(E){8<E.bi_valid?ne(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function Te(E,V,me,be){var P=2*V,_=2*me;return E[P]<E[_]||E[P]===E[_]&&be[V]<=be[me]}function Ye(E,V,me){for(var be=E.heap[me],P=me<<1;P<=E.heap_len&&(P<E.heap_len&&Te(V,E.heap[P+1],E.heap[P],E.depth)&&P++,!Te(V,be,E.heap[P],E.depth));)E.heap[me]=E.heap[P],me=P,P<<=1;E.heap[me]=be}function Je(E,V,me){var be,P,_,w,b=0;if(E.last_lit!==0)for(;be=E.pending_buf[E.d_buf+2*b]<<8|E.pending_buf[E.d_buf+2*b+1],P=E.pending_buf[E.l_buf+b],b++,be===0?ue(E,P,V):(ue(E,(_=c[P])+m+1,V),(w=Q[_])!==0&&ce(E,P-=I[_],w),ue(E,_=T(--be),me),(w=oe[_])!==0&&ce(E,be-=ie[_],w)),b<E.last_lit;);ue(E,O,V)}function it(E,V){var me,be,P,_=V.dyn_tree,w=V.stat_desc.static_tree,b=V.stat_desc.has_stree,G=V.stat_desc.elems,we=-1;for(E.heap_len=0,E.heap_max=g,me=0;me<G;me++)_[2*me]!==0?(E.heap[++E.heap_len]=we=me,E.depth[me]=0):_[2*me+1]=0;for(;E.heap_len<2;)_[2*(P=E.heap[++E.heap_len]=we<2?++we:0)]=1,E.depth[P]=0,E.opt_len--,b&&(E.static_len-=w[2*P+1]);for(V.max_code=we,me=E.heap_len>>1;1<=me;me--)Ye(E,_,me);for(P=G;me=E.heap[1],E.heap[1]=E.heap[E.heap_len--],Ye(E,_,1),be=E.heap[1],E.heap[--E.heap_max]=me,E.heap[--E.heap_max]=be,_[2*P]=_[2*me]+_[2*be],E.depth[P]=(E.depth[me]>=E.depth[be]?E.depth[me]:E.depth[be])+1,_[2*me+1]=_[2*be+1]=P,E.heap[1]=P++,Ye(E,_,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],(function(Se,Ze){var He,qe,tt,Xe,ee,_e,ze=Ze.dyn_tree,st=Ze.max_code,xa=Ze.stat_desc.static_tree,Yt=Ze.stat_desc.has_stree,Mt=Ze.stat_desc.extra_bits,Dt=Ze.stat_desc.extra_base,_t=Ze.stat_desc.max_length,yt=0;for(Xe=0;Xe<=C;Xe++)Se.bl_count[Xe]=0;for(ze[2*Se.heap[Se.heap_max]+1]=0,He=Se.heap_max+1;He<g;He++)_t<(Xe=ze[2*ze[2*(qe=Se.heap[He])+1]+1]+1)&&(Xe=_t,yt++),ze[2*qe+1]=Xe,st<qe||(Se.bl_count[Xe]++,ee=0,Dt<=qe&&(ee=Mt[qe-Dt]),_e=ze[2*qe],Se.opt_len+=_e*(Xe+ee),Yt&&(Se.static_len+=_e*(xa[2*qe+1]+ee)));if(yt!==0){do{for(Xe=_t-1;Se.bl_count[Xe]===0;)Xe--;Se.bl_count[Xe]--,Se.bl_count[Xe+1]+=2,Se.bl_count[_t]--,yt-=2}while(0<yt);for(Xe=_t;Xe!==0;Xe--)for(qe=Se.bl_count[Xe];qe!==0;)st<(tt=Se.heap[--He])||(ze[2*tt+1]!==Xe&&(Se.opt_len+=(Xe-ze[2*tt+1])*ze[2*tt],ze[2*tt+1]=Xe),qe--)}})(E,V),De(_,we,E.bl_count)}function u(E,V,me){var be,P,_=-1,w=V[1],b=0,G=7,we=4;for(w===0&&(G=138,we=3),V[2*(me+1)+1]=65535,be=0;be<=me;be++)P=w,w=V[2*(be+1)+1],++b<G&&P===w||(b<we?E.bl_tree[2*P]+=b:P!==0?(P!==_&&E.bl_tree[2*P]++,E.bl_tree[2*L]++):b<=10?E.bl_tree[2*B]++:E.bl_tree[2*$]++,_=P,we=(b=0)===w?(G=138,3):P===w?(G=6,3):(G=7,4))}function ge(E,V,me){var be,P,_=-1,w=V[1],b=0,G=7,we=4;for(w===0&&(G=138,we=3),be=0;be<=me;be++)if(P=w,w=V[2*(be+1)+1],!(++b<G&&P===w)){if(b<we)for(;ue(E,P,E.bl_tree),--b!=0;);else P!==0?(P!==_&&(ue(E,P,E.bl_tree),b--),ue(E,L,E.bl_tree),ce(E,b-3,2)):b<=10?(ue(E,B,E.bl_tree),ce(E,b-3,3)):(ue(E,$,E.bl_tree),ce(E,b-11,7));_=P,we=(b=0)===w?(G=138,3):P===w?(G=6,3):(G=7,4)}}h(ie);var le=!1;function H(E,V,me,be){ce(E,(p<<1)+(be?1:0),3),(function(P,_,w,b){ke(P),ne(P,w),ne(P,~w),v.arraySet(P.pending_buf,P.window,_,w,P.pending),P.pending+=w})(E,V,me)}U._tr_init=function(E){le||((function(){var V,me,be,P,_,w=new Array(C+1);for(P=be=0;P<A-1;P++)for(I[P]=be,V=0;V<1<<Q[P];V++)c[be++]=P;for(c[be-1]=P,P=_=0;P<16;P++)for(ie[P]=_,V=0;V<1<<oe[P];V++)W[_++]=P;for(_>>=7;P<j;P++)for(ie[P]=_<<7,V=0;V<1<<oe[P]-7;V++)W[256+_++]=P;for(me=0;me<=C;me++)w[me]=0;for(V=0;V<=143;)je[2*V+1]=8,V++,w[8]++;for(;V<=255;)je[2*V+1]=9,V++,w[9]++;for(;V<=279;)je[2*V+1]=7,V++,w[7]++;for(;V<=287;)je[2*V+1]=8,V++,w[8]++;for(De(je,R+1,w),V=0;V<j;V++)k[2*V+1]=5,k[2*V]=Ne(V,5);Z=new he(je,Q,m+1,R,C),Y=new he(k,oe,0,j,C),pe=new he(new Array(0),J,0,D,M)})(),le=!0),E.l_desc=new y(E.dyn_ltree,Z),E.d_desc=new y(E.dyn_dtree,Y),E.bl_desc=new y(E.bl_tree,pe),E.bi_buf=0,E.bi_valid=0,Oe(E)},U._tr_stored_block=H,U._tr_flush_block=function(E,V,me,be){var P,_,w=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=(function(b){var G,we=4093624447;for(G=0;G<=31;G++,we>>>=1)if(1&we&&b.dyn_ltree[2*G]!==0)return z;if(b.dyn_ltree[18]!==0||b.dyn_ltree[20]!==0||b.dyn_ltree[26]!==0)return x;for(G=32;G<m;G++)if(b.dyn_ltree[2*G]!==0)return x;return z})(E)),it(E,E.l_desc),it(E,E.d_desc),w=(function(b){var G;for(u(b,b.dyn_ltree,b.l_desc.max_code),u(b,b.dyn_dtree,b.d_desc.max_code),it(b,b.bl_desc),G=D-1;3<=G&&b.bl_tree[2*de[G]+1]===0;G--);return b.opt_len+=3*(G+1)+5+5+4,G})(E),P=E.opt_len+3+7>>>3,(_=E.static_len+3+7>>>3)<=P&&(P=_)):P=_=me+5,me+4<=P&&V!==-1?H(E,V,me,be):E.strategy===4||_===P?(ce(E,2+(be?1:0),3),Je(E,je,k)):(ce(E,4+(be?1:0),3),(function(b,G,we,Se){var Ze;for(ce(b,G-257,5),ce(b,we-1,5),ce(b,Se-4,4),Ze=0;Ze<Se;Ze++)ce(b,b.bl_tree[2*de[Ze]+1],3);ge(b,b.dyn_ltree,G-1),ge(b,b.dyn_dtree,we-1)})(E,E.l_desc.max_code+1,E.d_desc.max_code+1,w+1),Je(E,E.dyn_ltree,E.dyn_dtree)),Oe(E),be&&ke(E)},U._tr_tally=function(E,V,me){return E.pending_buf[E.d_buf+2*E.last_lit]=V>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&V,E.pending_buf[E.l_buf+E.last_lit]=255&me,E.last_lit++,V===0?E.dyn_ltree[2*me]++:(E.matches++,V--,E.dyn_ltree[2*(c[me]+m+1)]++,E.dyn_dtree[2*T(V)]++),E.last_lit===E.lit_bufsize-1},U._tr_align=function(E){ce(E,2,3),ue(E,O,je),(function(V){V.bi_valid===16?(ne(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):8<=V.bi_valid&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)})(E)}},{"../utils/common":41}],53:[function(d,f,U){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,f,U){(function(v){(function(z,x){if(!z.setImmediate){var h,p,A,m,R=1,j={},D=!1,g=z.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(z);C=C&&C.setTimeout?C:z,h={}.toString.call(z.process)==="[object process]"?function(L){process.nextTick(function(){M(L)})}:(function(){if(z.postMessage&&!z.importScripts){var L=!0,B=z.onmessage;return z.onmessage=function(){L=!1},z.postMessage("","*"),z.onmessage=B,L}})()?(m="setImmediate$"+Math.random()+"$",z.addEventListener?z.addEventListener("message",O,!1):z.attachEvent("onmessage",O),function(L){z.postMessage(m+L,"*")}):z.MessageChannel?((A=new MessageChannel).port1.onmessage=function(L){M(L.data)},function(L){A.port2.postMessage(L)}):g&&"onreadystatechange"in g.createElement("script")?(p=g.documentElement,function(L){var B=g.createElement("script");B.onreadystatechange=function(){M(L),B.onreadystatechange=null,p.removeChild(B),B=null},p.appendChild(B)}):function(L){setTimeout(M,0,L)},C.setImmediate=function(L){typeof L!="function"&&(L=new Function(""+L));for(var B=new Array(arguments.length-1),$=0;$<B.length;$++)B[$]=arguments[$+1];var Q={callback:L,args:B};return j[R]=Q,h(R),R++},C.clearImmediate=S}function S(L){delete j[L]}function M(L){if(D)setTimeout(M,0,L);else{var B=j[L];if(B){D=!0;try{(function($){var Q=$.callback,oe=$.args;switch(oe.length){case 0:Q();break;case 1:Q(oe[0]);break;case 2:Q(oe[0],oe[1]);break;case 3:Q(oe[0],oe[1],oe[2]);break;default:Q.apply(x,oe)}})(B)}finally{S(L),D=!1}}}}function O(L){L.source===z&&typeof L.data=="string"&&L.data.indexOf(m)===0&&M(+L.data.slice(m.length))}})(typeof self>"u"?v===void 0?this:v:self)}).call(this,typeof sr<"u"?sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(zc)),zc.exports}var up=cp();const $0=Dc(up),dp=({onExport:o,onRestore:Ce,onClear:d,onBack:f,dataStats:U})=>{const[v,z]=K.useState("light"),[x,h]=K.useState("zh-CN"),p=K.useRef(null),[A,m]=K.useState(!1),[R,j]=K.useState(!1),[D,g]=K.useState({characters:!0,worldBooks:!0,theaters:!0,themes:!0,presets:!0}),[C,S]=K.useState(!1),[M,O]=K.useState({}),[L,B]=K.useState({}),[$,Q]=K.useState({characters:!0,worldBooks:!0,theaters:!0,themes:!0,presets:!0}),oe=()=>{var c;(c=p.current)==null||c.click()},J=async c=>{if(c.target.files&&c.target.files[0]){const I=c.target.files[0];c.target.value="";try{let Z={},Y={};if(I.name.endsWith(".zip")){const ie=await new $0().loadAsync(I),he=async Ne=>{const De=ie.file(Ne);if(De)try{const Oe=await De.async("text");return JSON.parse(Oe)}catch{return null}return null},y=await he("characters.json");y&&Array.isArray(y)&&(Z.characters=y,Y.characters=y.length);const T=await he("worldbooks.json");T&&Array.isArray(T)&&(Z.worldBooks=T,Y.worldBooks=T.length);const ne=await he("theaters.json");ne&&Array.isArray(ne)&&(Z.theaters=ne,Y.theaters=ne.length);const ce=await he("themes.json");ce&&Array.isArray(ce)&&(Z.themes=ce,Y.themes=ce.length);const ue=await he("presets.json");ue&&Array.isArray(ue)&&(Z.presets=ue,Y.presets=ue.length)}else if(I.type==="application/json"||I.name.endsWith(".json")){const pe=await I.text(),ie=JSON.parse(pe),he=ie.data||ie;he.characters&&Array.isArray(he.characters)&&(Z.characters=he.characters,Y.characters=he.characters.length),he.worldBooks&&Array.isArray(he.worldBooks)&&(Z.worldBooks=he.worldBooks,Y.worldBooks=he.worldBooks.length),he.theaters&&Array.isArray(he.theaters)&&(Z.theaters=he.theaters,Y.theaters=he.theaters.length),he.themes&&Array.isArray(he.themes)&&(Z.themes=he.themes,Y.themes=he.themes.length),he.presets&&Array.isArray(he.presets)&&(Z.presets=he.presets,Y.presets=he.presets.length)}if(Object.keys(Z).length===0){alert(" (characters.json, etc.)");return}O(Z),B(Y),Q({characters:!!Y.characters,worldBooks:!!Y.worldBooks,theaters:!!Y.theaters,themes:!!Y.themes,presets:!!Y.presets}),S(!0)}catch(Z){console.error(Z),alert("")}}},de=c=>{g(I=>({...I,[c]:!I[c]}))},je=c=>{L[c]&&Q(I=>({...I,[c]:!I[c]}))},k=()=>{o(D),j(!1)},W=()=>{const c={};$.characters&&M.characters&&(c.characters=M.characters),$.worldBooks&&M.worldBooks&&(c.worldBooks=M.worldBooks),$.theaters&&M.theaters&&(c.theaters=M.theaters),$.themes&&M.themes&&(c.themes=M.themes),$.presets&&M.presets&&(c.presets=M.presets),Ce(c),S(!1),O({})};return l.jsxs("div",{className:"flex flex-col h-full bg-gray-50 overflow-y-auto",children:[l.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10 flex items-center gap-4",children:[l.jsx("button",{onClick:f,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors group",title:"",children:l.jsx(G0,{size:24,className:"group-hover:-translate-x-1 transition-transform"})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(V0,{className:"text-indigo-600",size:24})," "]}),l.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:""})]})]}),l.jsxs("div",{className:"flex-1 p-6 max-w-4xl mx-auto w-full space-y-8 pb-20",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider px-1",children:""}),l.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[l.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center",children:v==="light"?l.jsx(q0,{size:20}):v==="dark"?l.jsx(H0,{size:20}):l.jsx(B0,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:""}),l.jsx("div",{className:"text-xs text-gray-500",children:""})]})]}),l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>z("light"),className:`p-2 rounded-md transition-all ${v==="light"?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,title:"",children:l.jsx(q0,{size:16})}),l.jsx("button",{onClick:()=>z("dark"),className:`p-2 rounded-md transition-all ${v==="dark"?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,title:"",children:l.jsx(H0,{size:16})}),l.jsx("button",{onClick:()=>z("system"),className:`p-2 rounded-md transition-all ${v==="system"?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,title:"",children:l.jsx(B0,{size:16})})]})]}),l.jsxs("div",{className:"p-5 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:l.jsx(Zn,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:""}),l.jsx("div",{className:"text-xs text-gray-500",children:""})]})]}),l.jsxs("select",{value:x,onChange:c=>h(c.target.value),className:"bg-gray-50 border border-gray-200 text-gray-700 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block p-2.5 outline-none",children:[l.jsx("option",{value:"zh-CN",children:""}),l.jsx("option",{value:"zh-TW",children:""}),l.jsx("option",{value:"en-US",children:"English"})]})]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider px-1",children:""}),l.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[l.jsxs("div",{className:"p-5 bg-gray-50/50 border-b border-gray-100 grid grid-cols-2 sm:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:U.chars}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-medium",children:""})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:U.books}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-medium",children:""})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:U.theaters}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-medium",children:""})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:U.themes}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-medium",children:""})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-gray-900",children:U.presets}),l.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-medium",children:""})]})]}),l.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>j(!0),children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-50 text-emerald-600 flex items-center justify-center",children:l.jsx(qt,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:""}),l.jsx("div",{className:"text-xs text-gray-500",children:" ZIP "})]})]}),l.jsx(Nl,{size:20,className:"text-gray-300"})]}),l.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:oe,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center",children:l.jsx(Zt,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:""}),l.jsx("div",{className:"text-xs text-gray-500",children:" ZIP  JSON "})]})]}),l.jsx(Nl,{size:20,className:"text-gray-300"}),l.jsx("input",{type:"file",ref:p,accept:".json,.zip",className:"hidden",onChange:J})]}),l.jsxs("div",{className:"p-5 flex items-center justify-between hover:bg-red-50/30 transition-colors cursor-pointer group",onClick:()=>m(!0),children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 text-red-500 flex items-center justify-center group-hover:bg-red-100 group-hover:text-red-600 transition-colors",children:l.jsx(et,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-red-600 group-hover:text-red-700",children:""}),l.jsx("div",{className:"text-xs text-gray-500 group-hover:text-red-400",children:""})]})]}),l.jsx(Nl,{size:20,className:"text-gray-300 group-hover:text-red-300"})]})]})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h2",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider px-1",children:""}),l.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl mx-auto mb-4 flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:l.jsx(X0,{size:32})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:""}),l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Version 1.3.0 (Build 20231226)"}),l.jsxs("div",{className:"mt-6 flex justify-center gap-4 text-sm",children:[l.jsx("a",{href:"#",className:"text-indigo-600 hover:underline",children:""}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("a",{href:"#",className:"text-indigo-600 hover:underline",children:"GitHub"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("a",{href:"#",className:"text-indigo-600 hover:underline",children:""})]}),l.jsxs("p",{className:"text-xs text-gray-400 mt-6",children:["Designed for AI Roleplay Enthusiasts. ",l.jsx("br",{}),"All data is stored locally in your browser."]})]})]})]}),R&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:l.jsx(Cx,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:""}),l.jsx("p",{className:"text-xs text-gray-500",children:""})]})]}),l.jsx("div",{className:"space-y-2 mb-6",children:[{id:"characters",label:"",count:U.chars,icon:Ln},{id:"worldBooks",label:"",count:U.books,icon:Sc},{id:"theaters",label:"",count:U.theaters,icon:Es},{id:"themes",label:"",count:U.themes,icon:Ka},{id:"presets",label:"",count:U.presets,icon:Hn}].map(c=>l.jsxs("div",{onClick:()=>de(c.id),className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all ${D[c.id]?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-white border-gray-100 hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${D[c.id]?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"}`,children:l.jsx(c.icon,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:`text-sm font-medium ${D[c.id]?"text-gray-900":"text-gray-500"}`,children:c.label}),l.jsxs("div",{className:"text-[10px] text-gray-400",children:[c.count," "]})]})]}),l.jsx("div",{className:D[c.id]?"text-emerald-600":"text-gray-300",children:D[c.id]?l.jsx(Ac,{size:20}):l.jsx(L0,{size:20})})]},c.id))}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors text-sm",children:""}),l.jsxs("button",{onClick:k,disabled:!Object.values(D).some(Boolean),className:"flex-1 px-4 py-2.5 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-bold transition-colors shadow-lg shadow-emerald-200 text-sm flex items-center justify-center gap-2",children:[l.jsx(qt,{size:16}),"  ZIP"]})]})]})}),C&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center",children:l.jsx(Zt,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:""}),l.jsx("p",{className:"text-xs text-gray-500",children:""})]})]}),l.jsx("div",{className:"space-y-2 mb-6",children:[{id:"characters",label:"",icon:Ln},{id:"worldBooks",label:"",icon:Sc},{id:"theaters",label:"",icon:Es},{id:"themes",label:"",icon:Ka},{id:"presets",label:"",icon:Hn}].map(c=>{const I=L[c.id]||0,Z=I>0,Y=$[c.id];return l.jsxs("div",{onClick:()=>je(c.id),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${Z?"cursor-pointer hover:bg-gray-50":"opacity-50 cursor-not-allowed bg-gray-50"} ${Y&&Z?"bg-orange-50 border-orange-200 shadow-sm":"border-gray-100"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${Y&&Z?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-500"}`,children:l.jsx(c.icon,{size:16})}),l.jsxs("div",{children:[l.jsx("div",{className:`text-sm font-medium ${Y&&Z?"text-gray-900":"text-gray-500"}`,children:c.label}),l.jsx("div",{className:"text-[10px] text-gray-400",children:Z?` ${I} `:""})]})]}),l.jsx("div",{className:Y&&Z?"text-orange-600":"text-gray-300",children:Y&&Z?l.jsx(Ac,{size:20}):l.jsx(L0,{size:20})})]},c.id)})}),l.jsxs("div",{className:"flex items-start gap-2 bg-red-50 text-red-600 text-xs p-3 rounded-lg mb-4",children:[l.jsx(tx,{size:16,className:"shrink-0 mt-0.5"}),l.jsxs("p",{children:["",l.jsx("span",{className:"font-bold",children:""}),""]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{S(!1),O({})},className:"flex-1 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-medium transition-colors text-sm",children:""}),l.jsxs("button",{onClick:W,disabled:!Object.keys($).some(c=>$[c]&&L[c]>0),className:"flex-1 px-4 py-2.5 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-bold transition-colors shadow-lg shadow-orange-200 text-sm flex items-center justify-center gap-2",children:[l.jsx(Zt,{size:16})," "]})]})]})}),A&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200 border-2 border-red-100",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(ep,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("p",{className:"text-sm text-gray-500 text-center mb-6 leading-relaxed",children:["",l.jsx("br",{}),l.jsx("span",{className:"font-bold text-red-600",children:""}),""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:""}),l.jsx("button",{onClick:()=>{d(),m(!1)},className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold transition-colors shadow-lg shadow-red-200",children:""})]})]})})]})},fp=({character:o,onClick:Ce,onUpdate:d,isSelectionMode:f,isSelected:U})=>{const[v,z]=K.useState(null),[x,h]=K.useState(""),p=K.useRef(null);K.useEffect(()=>{v!==null&&p.current&&p.current.focus()},[v]);const m=(C=>{switch(C){case"in_progress":return{icon:Fl,text:"",bg:"bg-emerald-500",border:"border-emerald-200",textCol:"text-emerald-600"};case"finished":return{icon:jt,text:"",bg:"bg-gray-500",border:"border-gray-200",textCol:"text-gray-500"};case"not_started":default:return{icon:$l,text:"",bg:"bg-blue-500",border:"border-blue-200",textCol:"text-blue-500"}}})(o.status),R=m.icon,j=(C,S)=>{if(C.stopPropagation(),f||!d||!confirm(""))return;const M=o.tags.filter((O,L)=>L!==S);d({...o,tags:M})},D=(C,S,M)=>{C.stopPropagation(),!(f||!d)&&(z(S),h(M))},g=()=>{if(!d||v===null)return;const C=[...o.tags];if(x.trim())C[v]=x.trim();else{if(!confirm("")){z(null);return}C.splice(v,1)}d({...o,tags:C}),z(null)};return l.jsxs("div",{className:`
        group bg-white rounded-xl border transition-all duration-300 cursor-pointer flex flex-col h-full overflow-hidden relative
        ${f?U?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-gray-200 opacity-80 hover:opacity-100":"border-gray-200 hover:border-indigo-300 hover:shadow-md"}
      `,onClick:()=>Ce(o),children:[f&&l.jsx("div",{className:"absolute top-3 right-3 z-20",children:l.jsx("div",{className:`
                  w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors shadow-sm
                  ${U?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}
              `,children:U&&l.jsx(jt,{size:14,className:"text-white"})})}),l.jsxs("div",{className:"aspect-[3/4] w-full relative bg-gray-100 overflow-hidden",children:[l.jsx("img",{src:o.avatar,alt:o.name,className:`w-full h-full object-cover transition-transform duration-500 ${!f&&"group-hover:scale-105"}`,loading:"lazy"}),l.jsx("div",{className:"absolute top-2 left-2 flex gap-1",children:l.jsxs("div",{className:`
                backdrop-blur-md bg-white/90 px-1.5 py-0.5 rounded-md shadow-sm border border-white/20
                flex items-center gap-1 text-[9px] font-bold uppercase tracking-wider ${m.textCol}
            `,children:[l.jsx(R,{size:8,className:m.textCol.replace("text-","fill-")}),m.text]})}),!f&&o.categories&&o.categories.length>0&&l.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1 items-end",children:[o.categories.slice(0,3).map((C,S)=>l.jsxs("div",{className:"bg-black/60 backdrop-blur-sm text-white text-[9px] px-1.5 py-0.5 rounded-md border border-white/10 font-medium shadow-sm flex items-center gap-1",children:[l.jsx(Q0,{size:8})," ",C]},S)),o.categories.length>3&&l.jsxs("div",{className:"bg-black/60 backdrop-blur-sm text-white text-[9px] px-1 py-0.5 rounded-md border border-white/10 font-medium",children:["+",o.categories.length-3]})]}),!f&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-3",children:l.jsxs("div",{className:"text-white flex items-center gap-3 text-xs font-medium",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Wl,{size:12})," ",o.chatCount]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Vt,{size:12})," ",o.creator]})]})})]}),l.jsxs("div",{className:"p-2.5 flex-1 flex flex-col",children:[l.jsx("div",{className:"flex justify-between items-start mb-0.5",children:l.jsx("h3",{className:`text-sm font-bold text-gray-900 line-clamp-1 transition-colors ${!f&&"group-hover:text-indigo-600"}`,title:o.name,children:o.name})}),l.jsx("p",{className:"text-[10px] text-gray-500 line-clamp-2 mb-2 flex-1 min-h-[2.5em] leading-relaxed",children:o.description||"..."}),l.jsxs("div",{className:"flex flex-wrap gap-1 mt-auto pt-2 border-t border-gray-50",children:[o.tags.slice(0,3).map((C,S)=>l.jsx("div",{className:`
                  group/tag relative text-[9px] text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded-md transition-colors border border-transparent max-w-[70px] truncate cursor-default
                  ${f?"":"hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-100"}
               `,onClick:M=>D(M,S,C),title:C,children:v===S?l.jsx("input",{ref:p,type:"text",value:x,onChange:M=>h(M.target.value),onBlur:g,onKeyDown:M=>M.key==="Enter"&&g(),onClick:M=>M.stopPropagation(),className:"w-12 bg-white outline-none text-indigo-700 px-0.5 rounded -ml-0.5 h-3.5"}):l.jsxs(l.Fragment,{children:[C,!f&&l.jsx("button",{onClick:M=>j(M,S),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover/tag:opacity-100 transition-opacity hover:bg-red-600 scale-75",children:l.jsx(Ke,{size:6,strokeWidth:3})})]})},S)),o.tags.length>3&&l.jsxs("span",{className:"text-[9px] text-gray-400 px-0.5",children:["+",o.tags.length-3]}),o.tags.length===0&&l.jsx("span",{className:"text-[9px] text-gray-300 italic",children:""})]})]})]})},hp=({character:o,onClose:Ce,onEdit:d,onUpdate:f})=>{const[U,v]=K.useState(null),[z,x]=K.useState("info"),[h,p]=K.useState(""),[A,m]=K.useState(!1),[R,j]=K.useState(""),[D,g]=K.useState(!1),[C,S]=K.useState(""),[M,O]=K.useState(""),[L,B]=K.useState(""),[$,Q]=K.useState(""),[oe,J]=K.useState(!1),[de,je]=K.useState(""),[k,W]=K.useState(""),[c,I]=K.useState([]),[Z,Y]=K.useState([]),[pe,ie]=K.useState(null),[he,y]=K.useState(null),[T,ne]=K.useState(null);if(K.useEffect(()=>{if(o&&z==="gameplay"){const ee=o.playthroughs||[];if(ee.length>0)if(!h||!ee.find(_e=>_e.id===h)){const _e=ee[0];p(_e.id),O(_e.note||""),B(_e.playerPersona||""),Q(_e.memoir||"")}else{const _e=ee.find(ze=>ze.id===h);_e&&(O(_e.note||""),B(_e.playerPersona||""),Q(_e.memoir||""))}else p("default"),O(""),B(""),Q("")}},[o,z,h]),!o)return null;const ue=o.playthroughs&&o.playthroughs.length>0?o.playthroughs:[{id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:"",memoir:""}],Ne=ue.find(ee=>ee.id===h)||ue[0],De=Ne.status||o.status||"not_started",Oe=Ne.chatCount!==void 0?Ne.chatCount:o.chatCount,ke=()=>{if(o.data)if(o.data.startsWith("data:image/")){const ee=document.createElement("a");ee.href=o.data,ee.download=`${o.name}.png`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)}else try{const ee=new Blob([o.data],{type:"application/json"}),_e=URL.createObjectURL(ee),ze=document.createElement("a");ze.href=_e,ze.download=`${o.name}.json`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(_e)}catch(ee){console.error("Failed to export data",ee),alert("")}else alert("")},Te=ee=>{let _e=[...o.playthroughs||[]];if(_e.length===0)_e=[{id:"default",title:"",note:M,gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:L,memoir:$,...ee}];else{const ze=_e.findIndex(st=>st.id===h);ze>=0&&(_e[ze]={..._e[ze],...ee})}f({...o,status:ee.status||o.status,chatCount:ee.chatCount!==void 0?ee.chatCount:o.chatCount,playthroughs:_e})},Ye=()=>{if(!R.trim())return;const ee=Date.now().toString(),_e={id:ee,title:R,note:"",gallery:[],status:"not_started",chatCount:0,playerPersona:"",memoir:""};let ze=[...o.playthroughs||[]];ze.length===0&&ze.push({id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:"",memoir:""}),ze.push(_e),f({...o,playthroughs:ze}),j(""),m(!1),p(ee)},Je=()=>{S(Ne.title),g(!0)},it=()=>{if(!C.trim()){g(!1);return}Te({title:C}),g(!1)},u=ee=>{ne(ee)},ge=()=>{if(!T)return;let ee=(o.playthroughs||[]).filter(_e=>_e.id!==T);f({...o,playthroughs:ee}),ee.length>0?p(ee[0].id):p("default"),ne(null)},le=()=>{Te({note:M})},H=()=>{Te({playerPersona:L})},E=ee=>{if(ee.target.files&&ee.target.files.length>0){const _e=[],ze=Array.from(ee.target.files);let st=0;ze.forEach(xa=>{const Yt=new FileReader;Yt.onload=Mt=>{var Dt;if((Dt=Mt.target)!=null&&Dt.result&&_e.push(Mt.target.result),st++,st===ze.length){const _t=[...Ne.gallery||[],..._e];Te({gallery:_t}),(h==="default"||o.playthroughs&&o.playthroughs.length===0)&&f({...o,gallery:_t,playthroughs:[{id:"default",title:"",note:M,gallery:_t,status:De,chatCount:Oe,playerPersona:L,memoir:$}]})}},Yt.readAsDataURL(xa)})}},V=ee=>{if(ee.target.files&&ee.target.files.length>0){const _e=[],ze=Array.from(ee.target.files);let st=0;ze.forEach(xa=>{const Yt=new FileReader;Yt.onload=Mt=>{var Dt;if((Dt=Mt.target)!=null&&Dt.result&&_e.push(Mt.target.result),st++,st===ze.length){const _t=[...o.extraImages||[],..._e];f({...o,extraImages:_t})}},Yt.readAsDataURL(xa)})}},me=(ee,_e)=>{ee.stopPropagation(),y(_e)},be=()=>{if(he!==null){const ee=(o.extraImages||[]).filter((_e,ze)=>ze!==he);f({...o,extraImages:ee}),y(null)}},P=(ee,_e)=>{if(ee.target.files&&ee.target.files[0]){const ze=ee.target.files[0],st=new FileReader,xa=ze.type.startsWith("image/");st.onload=Yt=>{var Dt;const Mt=(Dt=Yt.target)==null?void 0:Dt.result;if(Mt){const _t={id:Date.now().toString(),name:ze.name,type:_e,content:Mt};I(yt=>[...yt,_t])}},xa?st.readAsDataURL(ze):st.readAsText(ze)}ee.target.value=""},_=ee=>{confirm("")&&I(_e=>_e.filter(ze=>ze.id!==ee))},w=ee=>{Y(_e=>_e.includes(ee)?_e.filter(ze=>ze!==ee):[..._e,ee])},b=()=>{if(!de.trim()){alert("");return}const ee={id:Date.now().toString(),version:de,date:new Date().toISOString().split("T")[0],note:k,assets:c},_e=[ee,...o.updates||[]];f({...o,updates:_e,version:de}),Y(ze=>[ee.id,...ze]),je(""),W(""),I([]),J(!1)},G=ee=>{ie(ee)},we=()=>{if(pe){const ee=(o.updates||[]).filter(_e=>_e.id!==pe);f({...o,updates:ee}),ie(null)}},Se=ee=>{if(ee.content.startsWith("data:")){const _e=document.createElement("a");_e.href=ee.content,_e.download=ee.name,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)}else{const _e=new Blob([ee.content],{type:"text/plain"}),ze=URL.createObjectURL(_e),st=document.createElement("a");st.href=ze,st.download=ee.name,document.body.appendChild(st),st.click(),document.body.removeChild(st),URL.revokeObjectURL(ze)}},He=(ee=>{switch(ee){case"in_progress":return{icon:Fl,label:"",color:"text-emerald-600 bg-emerald-50 border-emerald-100",dot:"bg-emerald-500"};case"finished":return{icon:jt,label:"",color:"text-gray-500 bg-gray-100 border-gray-200",dot:"bg-gray-500"};case"not_started":default:return{icon:$l,label:"",color:"text-blue-500 bg-blue-50 border-blue-100",dot:"bg-blue-500"}}})(De),qe=He.icon,tt=(ee,_e)=>ee.some(ze=>ze.type===_e),Xe=(ee,_e)=>ee.filter(ze=>ze.type===_e);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col animate-in fade-in slide-in-from-bottom-4 duration-300",children:[l.jsxs("div",{className:"flex-shrink-0 h-16 px-4 md:px-6 border-b border-gray-100 flex items-center justify-between bg-white z-20 relative",children:[l.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors font-medium group",children:[l.jsx(G0,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsxs("div",{className:"text-sm font-mono text-gray-400",children:["v",o.version]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto md:overflow-hidden flex flex-col md:flex-row relative z-0",children:[l.jsxs("div",{className:"w-full md:w-[400px] lg:w-[500px] h-64 md:h-full bg-gray-100 relative flex-shrink-0 group",children:[l.jsx("img",{src:o.avatar,alt:o.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent md:hidden"}),l.jsxs("div",{className:"absolute bottom-6 left-6 text-white md:hidden",children:[l.jsx("h2",{className:"text-3xl font-bold mb-1",children:o.name}),l.jsx("p",{className:"text-sm opacity-90 font-medium",children:o.creator})]})]}),l.jsx("div",{className:"w-full bg-white relative md:flex-1 md:flex md:flex-col md:min-h-0 md:min-w-0",children:l.jsx("div",{className:"w-full md:flex-1 md:overflow-y-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto p-6 md:p-10 pb-10",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:o.name}),l.jsxs("div",{className:"hidden md:flex items-center gap-2 mt-2 bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100 text-sm text-gray-500 w-fit",children:[l.jsx(Vt,{size:16,className:"text-indigo-500"}),l.jsx("span",{className:"font-medium text-gray-700",children:o.creator})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>f({...o,isFavorite:!o.isFavorite}),className:`p-2.5 rounded-lg border transition-all ${o.isFavorite?"bg-red-50 border-red-200 text-red-500 hover:bg-red-100":"bg-white border-gray-200 text-gray-400 hover:text-red-500 hover:border-red-200 hover:bg-red-50"}`,title:o.isFavorite?"":"",children:l.jsx(_l,{size:20,fill:o.isFavorite?"currentColor":"none"})}),l.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors text-sm font-medium shadow-sm",children:[l.jsx(Yn,{size:16}),""]}),l.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors text-sm font-medium shadow-sm shadow-indigo-200",children:[l.jsx(qt,{size:16}),""]})]})]}),l.jsxs("div",{className:"flex border-b border-gray-100 overflow-x-auto no-scrollbar",children:[l.jsxs("button",{onClick:()=>x("info"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${z==="info"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(Kl,{size:16}),""]}),l.jsxs("button",{onClick:()=>x("gameplay"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${z==="gameplay"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(Ca,{size:16}),""]}),l.jsxs("button",{onClick:()=>x("assets"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${z==="assets"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(gt,{size:16}),""]}),l.jsxs("button",{onClick:()=>x("updates"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${z==="updates"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(Qt,{size:16}),""]})]})]}),z==="info"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Vl,{size:14})," "]}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed whitespace-pre-line",children:o.description||""})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Hs,{size:14})," "]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((ee,_e)=>l.jsx("span",{className:"px-4 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium rounded-full transition-colors cursor-default",children:ee},_e))})]}),(o.source||o.sourceUrl)&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Zn,{size:14})," "]}),l.jsx("div",{className:"flex items-center gap-2 text-sm",children:o.sourceUrl?l.jsxs("a",{href:o.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline hover:text-indigo-800 flex items-center gap-1 bg-indigo-50 px-3 py-2 rounded-lg",children:[o.source||"",l.jsx(Bn,{size:12})]}):l.jsx("span",{className:"text-gray-600 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100",children:o.source})})]})]}),z==="gameplay"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ca,{size:14})," "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("button",{onClick:Je,disabled:D,className:"text-gray-400 hover:text-indigo-600 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 disabled:opacity-50",title:"",children:[l.jsx(Gn,{size:12})," "]}),h!=="default"&&h!==""&&l.jsxs("button",{onClick:()=>u(h),className:"text-gray-400 hover:text-red-500 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100",title:"",children:[l.jsx(et,{size:12})," "]})]})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[ue.map(ee=>D&&h===ee.id?l.jsxs("div",{className:"flex items-center gap-2 bg-white border border-indigo-200 shadow-sm rounded-full px-2 py-1 animate-in fade-in",children:[l.jsx("input",{autoFocus:!0,type:"text",value:C,onChange:_e=>S(_e.target.value),onKeyDown:_e=>_e.key==="Enter"&&it(),onBlur:()=>{C.trim()?it():g(!1)},className:"bg-transparent border-none outline-none text-sm text-indigo-700 w-32 px-1 font-medium"}),l.jsx("button",{onClick:it,className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded-full",children:l.jsx(jt,{size:14})}),l.jsx("button",{onClick:()=>g(!1),className:"p-1 text-gray-400 hover:bg-gray-200 rounded-full",children:l.jsx(Ke,{size:14})})]},ee.id):l.jsx("button",{onClick:()=>{p(ee.id),O(ee.note),B(ee.playerPersona||""),Q(ee.memoir||""),g(!1)},className:`
                                                    flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap border-2
                                                    ${h===ee.id?"bg-gray-900 text-white border-gray-900 shadow-md":"bg-white text-gray-600 border-gray-100 hover:border-gray-300"}
                                                `,children:ee.title},ee.id)),A?l.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 border border-indigo-200 rounded-full px-2 py-1 animate-in fade-in slide-in-from-left-2",children:[l.jsx("input",{autoFocus:!0,type:"text",value:R,onChange:ee=>j(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&Ye(),placeholder:"...",className:"bg-transparent border-none outline-none text-sm text-indigo-700 w-24 px-1"}),l.jsx("button",{onClick:Ye,className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded-full",children:l.jsx(jt,{size:14})}),l.jsx("button",{onClick:()=>m(!1),className:"p-1 text-gray-400 hover:bg-gray-200 rounded-full",children:l.jsx(Ke,{size:14})})]}):l.jsxs("button",{onClick:()=>{m(!0),g(!1)},className:"flex-shrink-0 px-3 py-2 rounded-full border border-dashed border-gray-300 text-gray-500 hover:border-indigo-400 hover:text-indigo-600 transition-all text-sm flex items-center gap-1",children:[l.jsx(Xt,{size:14})," "]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:`p-4 rounded-xl border ${He.color.replace("text-","bg-opacity-10 ")} flex flex-col items-center justify-center text-center gap-2 relative group`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qe,{size:24,className:He.color.split(" ")[0]}),l.jsxs("select",{value:De,onChange:ee=>Te({status:ee.target.value}),className:"appearance-none bg-transparent font-medium focus:outline-none cursor-pointer text-center hover:underline",children:[l.jsx("option",{value:"not_started",children:""}),l.jsx("option",{value:"in_progress",children:""}),l.jsx("option",{value:"finished",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold uppercase opacity-60",children:" ()"})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 flex flex-col items-center justify-center text-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[l.jsx(Wl,{size:24,className:"text-gray-400"}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("input",{type:"number",min:"0",value:Oe,onChange:ee=>Te({chatCount:parseInt(ee.target.value)||0}),className:"w-16 bg-transparent text-center font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 rounded p-0.5 outline-none transition-all"}),l.jsx("span",{className:"font-medium",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase",children:""})]})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ls,{size:14})," "]}),L!==(Ne.playerPersona||"")&&l.jsxs("button",{onClick:H,className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-indigo-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("div",{className:"relative",children:l.jsx("textarea",{value:L,onChange:ee=>B(ee.target.value),onBlur:H,className:"w-full bg-gray-50 border border-gray-200 px-4 py-3 rounded-xl text-gray-700 text-sm shadow-sm focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none resize-none min-h-[80px]",placeholder:"/..."})})]}),l.jsx("div",{className:"border-t border-gray-100 my-2"}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Bs,{size:14})," "]}),M!==Ne.note&&l.jsxs("button",{onClick:le,className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-indigo-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:M,onChange:ee=>O(ee.target.value),onBlur:le,className:"w-full bg-yellow-50/50 border border-yellow-100 p-4 rounded-xl text-gray-700 text-sm leading-relaxed whitespace-pre-line shadow-sm focus:bg-white focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all outline-none resize-none min-h-[120px]",placeholder:"..."}),l.jsx("div",{className:"absolute top-4 right-4 text-yellow-300 opacity-20 pointer-events-none",children:l.jsx(Bs,{size:40})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Va,{size:14})," "]}),l.jsxs("label",{className:"cursor-pointer text-xs text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(Zt,{size:12})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:E})]})]}),Ne.gallery&&Ne.gallery.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ne.gallery.map((ee,_e)=>l.jsx("div",{className:"aspect-[16/9] rounded-lg overflow-hidden cursor-zoom-in border border-gray-100 bg-gray-50 shadow-sm hover:shadow-md transition-all group relative",onClick:()=>v(ee),children:l.jsx("img",{src:ee,alt:`Gallery ${_e}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"})},_e))}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400 text-sm flex flex-col items-center gap-2",children:[l.jsx(Va,{size:24,className:"opacity-20"}),""]})]})]}),z==="assets"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-xl border border-indigo-100 text-sm text-gray-600 flex items-start gap-3",children:[l.jsx(Va,{size:20,className:"text-indigo-500 shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 mb-1",children:""}),l.jsx("p",{className:"leading-relaxed opacity-90",children:"Expressions"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," "]}),l.jsxs("label",{className:"cursor-pointer bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-all shadow-sm flex items-center gap-2 text-sm font-medium active:scale-95",children:[l.jsx(Zt,{size:16})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:V})]})]}),o.extraImages&&o.extraImages.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.extraImages.map((ee,_e)=>l.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-zoom-in border border-gray-200 bg-gray-50 shadow-sm hover:shadow-lg transition-all",onClick:()=>v(ee),children:[l.jsx("img",{src:ee,alt:`Asset ${_e}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:l.jsx("button",{className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-red-500/80 transition-colors",onClick:ze=>me(ze,_e),title:"",children:l.jsx(et,{size:18})})})]},_e))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 text-gray-400",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:l.jsx(gt,{size:32,className:"opacity-20"})}),l.jsx("p",{className:"font-medium text-gray-500",children:""}),l.jsx("p",{className:"text-xs mt-2 opacity-60",children:""})]})]})]}),z==="updates"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Qt,{size:14})," "]}),!oe&&l.jsxs("button",{onClick:()=>J(!0),className:"text-xs bg-indigo-600 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:bg-indigo-700 transition-colors shadow-sm",children:[l.jsx(Xt,{size:14})," "]})]}),oe&&l.jsxs("div",{className:"bg-white border border-indigo-100 rounded-xl p-5 shadow-sm space-y-4 animate-in fade-in slide-in-from-top-2",children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-3",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:""}),l.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ke,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:de,onChange:ee=>je(ee.target.value),placeholder:"v1.0.0",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:k,onChange:ee=>W(ee.target.value),placeholder:"...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2",children:" ()"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(jl,{size:14,className:"text-indigo-500"})," + ",l.jsx("input",{type:"file",accept:".json,.png,.webp",className:"hidden",onChange:ee=>P(ee,"character")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Xl,{size:14,className:"text-blue-500"})," + ",l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:ee=>P(ee,"worldbook")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(vl,{size:14,className:"text-purple-500"})," + ",l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:ee=>P(ee,"shortcut")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Sa,{size:14,className:"text-orange-500"})," + ",l.jsx("input",{type:"file",accept:".json,.txt",className:"hidden",onChange:ee=>P(ee,"regex")})]})]}),c.length>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:c.map(ee=>l.jsxs("div",{className:"bg-white text-gray-700 px-2 py-1 rounded text-xs flex items-center gap-2 border border-gray-200 shadow-sm",children:[ee.type==="character"&&l.jsx(jl,{size:12,className:"text-indigo-500"}),ee.type==="worldbook"&&l.jsx(Xl,{size:12,className:"text-blue-500"}),ee.type==="shortcut"&&l.jsx(vl,{size:12,className:"text-purple-500"}),ee.type==="regex"&&l.jsx(Sa,{size:12,className:"text-orange-500"}),l.jsx("span",{className:"truncate max-w-[150px] font-mono",children:ee.name}),l.jsx("button",{onClick:()=>_(ee.id),className:"hover:text-red-500 ml-1 text-gray-400",children:l.jsx(Ke,{size:12})})]},ee.id))})]}),l.jsx("div",{className:"flex justify-end pt-2",children:l.jsxs("button",{onClick:b,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:[l.jsx(At,{size:16})," "]})})]}),l.jsx("div",{className:"space-y-4",children:o.updates&&o.updates.length>0?o.updates.map(ee=>{const _e=Z.includes(ee.id);return l.jsxs("div",{className:"border border-gray-100 rounded-xl bg-gray-50/30 hover:bg-white hover:border-gray-200 transition-all group overflow-hidden",children:[l.jsxs("div",{onClick:()=>w(ee.id),className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50/80 transition-colors select-none",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-200 ${_e?"rotate-90":""}`}),l.jsx("span",{className:"bg-gray-800 text-white px-2 py-0.5 rounded text-xs font-bold tracking-wide shrink-0",children:ee.version}),l.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 shrink-0",children:[l.jsx(wl,{size:12})," ",ee.date]}),!_e&&ee.note&&l.jsx("span",{className:"text-xs text-gray-400 truncate ml-2 opacity-80",children:ee.note})]}),l.jsx("button",{onClick:ze=>{ze.stopPropagation(),G(ee.id)},className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"",children:l.jsx(et,{size:14})})]}),_e&&l.jsxs("div",{className:"px-5 pb-5 pt-0 animate-in slide-in-from-top-1 fade-in duration-200",children:[l.jsx("div",{className:"h-px bg-gray-100 mb-4 w-full"}),ee.note&&l.jsx("p",{className:"text-sm text-gray-700 mb-4 ml-1 leading-relaxed",children:ee.note}),l.jsxs("div",{className:"space-y-4",children:[tt(ee.assets,"character")&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[l.jsx(jl,{size:12})," "]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:Xe(ee.assets,"character").map(ze=>l.jsxs("button",{onClick:()=>Se(ze),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-indigo-300 hover:text-indigo-600 transition-colors shadow-sm text-left",children:[l.jsx(jl,{size:14,className:"text-indigo-500 shrink-0"}),l.jsx("span",{className:"font-medium truncate flex-1",children:ze.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},ze.id))})]}),tt(ee.assets,"worldbook")&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[l.jsx(Xl,{size:12})," "]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:Xe(ee.assets,"worldbook").map(ze=>l.jsxs("button",{onClick:()=>Se(ze),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-blue-300 hover:text-blue-600 transition-colors shadow-sm text-left",children:[l.jsx(Xl,{size:14,className:"text-blue-500 shrink-0"}),l.jsx("span",{className:"font-medium truncate flex-1",children:ze.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},ze.id))})]}),tt(ee.assets,"shortcut")&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[l.jsx(vl,{size:12})," "]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Xe(ee.assets,"shortcut").map(ze=>l.jsxs("button",{onClick:()=>Se(ze),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-purple-300 hover:text-purple-600 transition-colors shadow-sm",children:[l.jsx(vl,{size:14,className:"text-purple-500 shrink-0"}),l.jsx("span",{className:"font-medium",children:ze.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},ze.id))})]}),tt(ee.assets,"regex")&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[l.jsx(Sa,{size:12})," "]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Xe(ee.assets,"regex").map(ze=>l.jsxs("button",{onClick:()=>Se(ze),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-orange-300 hover:text-orange-600 transition-colors shadow-sm",children:[l.jsx(Sa,{size:14,className:"text-orange-500 shrink-0"}),l.jsx("span",{className:"font-medium",children:ze.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},ze.id))})]})]})]})]},ee.id)}):!oe&&l.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[l.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-20"}),""]})})]})]})})})]})]}),U&&l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>v(null),children:l.jsxs("div",{className:"relative max-w-full max-h-full",children:[l.jsx("img",{src:U,alt:"Preview",className:"max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain",onClick:ee=>ee.stopPropagation()}),l.jsx("button",{className:"absolute -top-12 right-0 text-white/70 hover:text-white p-2 hover:bg-white/10 rounded-full transition-colors",onClick:()=>v(null),children:l.jsx(Ke,{size:32})})]})}),pe&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("p",{className:"text-sm text-gray-500 text-center mb-6",children:["",l.jsx("span",{className:"font-bold text-red-500",children:""}),""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>ie(null),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:""}),l.jsx("button",{onClick:we,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-lg shadow-red-200",children:""})]})]})}),he!==null&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("p",{className:"text-sm text-gray-500 text-center mb-6",children:["",l.jsx("span",{className:"font-bold text-red-500",children:""}),""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>y(null),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:""}),l.jsx("button",{onClick:be,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-lg shadow-red-200",children:""})]})]})}),T&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("p",{className:"text-sm text-gray-500 text-center mb-6",children:["",l.jsx("span",{className:"font-bold text-red-500",children:""}),""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>ne(null),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:""}),l.jsx("button",{onClick:ge,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-lg shadow-red-200",children:""})]})]})})]})},gp=({book:o,onClick:Ce,isSelectionMode:d,isSelected:f})=>l.jsxs("div",{className:`
        group bg-white rounded-xl border p-5 transition-all duration-300 cursor-pointer flex flex-col h-full relative
        ${d?f?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-gray-200 opacity-80 hover:opacity-100":"border-gray-200 hover:border-indigo-300 hover:shadow-md"}
      `,onClick:()=>Ce(o),children:[d&&l.jsx("div",{className:"absolute top-3 right-3 z-20",children:l.jsx("div",{className:`
                  w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors shadow-sm
                  ${f?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}
              `,children:f&&l.jsx(jt,{size:14,className:"text-white"})})}),l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex items-start gap-3 overflow-hidden",children:[l.jsx("div",{className:`
                w-10 h-10 rounded-lg bg-indigo-50 flex-shrink-0 flex items-center justify-center text-indigo-600 transition-colors
                ${!d&&"group-hover:bg-indigo-600 group-hover:text-white"}
            `,children:l.jsx(Xl,{size:20})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:`text-base font-bold text-gray-900 truncate transition-colors ${!d&&"group-hover:text-indigo-600"}`,title:o.title,children:o.title}),l.jsxs("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5",children:["v",o.version]})]})]})}),l.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 mb-4 flex-1 leading-relaxed",children:o.description||"..."}),l.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-auto bg-gray-50 p-2.5 rounded-lg border border-gray-100",children:l.jsxs("div",{className:"flex items-center gap-1.5",title:"",children:[l.jsx(ir,{size:14,className:"text-gray-400"}),l.jsx("span",{children:"JSON "})]})})]}),mp=({book:o,onClose:Ce,onUpdate:d,onEdit:f})=>{const[U,v]=K.useState("info"),[z,x]=K.useState(null),[h,p]=K.useState(""),[A,m]=K.useState(!1),[R,j]=K.useState(""),[D,g]=K.useState(!1),[C,S]=K.useState(""),[M,O]=K.useState(""),[L,B]=K.useState(""),[$,Q]=K.useState(""),[oe,J]=K.useState(null),[de,je]=K.useState(null),[k,W]=K.useState(!1),[c,I]=K.useState(""),[Z,Y]=K.useState(""),[pe,ie]=K.useState([]),[he,y]=K.useState([]),[T,ne]=K.useState(null);if(K.useEffect(()=>{if(o&&U==="gameplay"){const _=o.playthroughs||[];if(_.length>0)if(!h||!_.find(w=>w.id===h)){const w=_[0];p(w.id),O(w.note||""),B(w.playerPersona||""),Q(w.memoir||"")}else{const w=_.find(b=>b.id===h);w&&(O(w.note||""),B(w.playerPersona||""),Q(w.memoir||""))}else p("default"),O(""),B(""),Q("")}},[o,U,h]),!o)return null;const ue=o.playthroughs&&o.playthroughs.length>0?o.playthroughs:[{id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status||"not_started",chatCount:o.chatCount||0,playerPersona:"",memoir:""}],Ne=ue.find(_=>_.id===h)||ue[0],De=Ne.status||o.status||"not_started",Oe=Ne.chatCount!==void 0?Ne.chatCount:o.chatCount||0,ke=()=>{if(o.data)try{const _=new Blob([o.data],{type:"application/json"}),w=URL.createObjectURL(_),b=document.createElement("a");b.href=w,b.download=`${o.title}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(w)}catch(_){console.error("Failed to download",_)}else alert("")},Te=_=>{if(!d)return;let w=[...o.playthroughs||[]];if(w.length===0)w=[{id:"default",title:"",note:M,gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:L,memoir:$,..._}];else{const b=w.findIndex(G=>G.id===h);b>=0&&(w[b]={...w[b],..._})}d({...o,status:_.status||o.status,chatCount:_.chatCount!==void 0?_.chatCount:o.chatCount,playthroughs:w})},Ye=()=>{if(!R.trim()||!d)return;const _=Date.now().toString(),w={id:_,title:R,note:"",gallery:[],status:"not_started",chatCount:0,playerPersona:"",memoir:""};let b=[...o.playthroughs||[]];b.length===0&&b.push({id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:"",memoir:""}),b.push(w),d({...o,playthroughs:b}),j(""),m(!1),p(_)},Je=()=>{if(!oe||!d)return;let _=(o.playthroughs||[]).filter(w=>w.id!==oe);d({...o,playthroughs:_}),_.length>0?p(_[0].id):p("default"),J(null)},it=_=>{if(_.target.files&&_.target.files.length>0&&d){const w=[],b=Array.from(_.target.files);let G=0;b.forEach(we=>{const Se=new FileReader;Se.onload=Ze=>{var He;if((He=Ze.target)!=null&&He.result&&w.push(Ze.target.result),G++,G===b.length){const qe=[...Ne.gallery||[],...w];Te({gallery:qe}),(h==="default"||o.playthroughs&&o.playthroughs.length===0)&&d({...o,gallery:qe,playthroughs:[{id:"default",title:"",note:M,gallery:qe,status:De,chatCount:Oe,playerPersona:L,memoir:$}]})}},Se.readAsDataURL(we)})}},u=_=>{if(_.target.files&&_.target.files.length>0&&d){const w=[],b=Array.from(_.target.files);let G=0;b.forEach(we=>{const Se=new FileReader;Se.onload=Ze=>{var He;if((He=Ze.target)!=null&&He.result&&w.push(Ze.target.result),G++,G===b.length){const qe=[...o.extraImages||[],...w];d({...o,extraImages:qe})}},Se.readAsDataURL(we)})}},ge=()=>{if(de!==null&&d){const _=(o.extraImages||[]).filter((w,b)=>b!==de);d({...o,extraImages:_}),je(null)}},le=(_,w)=>{if(_.target.files&&_.target.files[0]){const b=_.target.files[0],G=new FileReader,we=b.type.startsWith("image/");G.onload=Se=>{var He;const Ze=(He=Se.target)==null?void 0:He.result;Ze&&ie(qe=>[...qe,{id:Date.now().toString(),name:b.name,type:w,content:Ze}])},we?G.readAsDataURL(b):G.readAsText(b)}_.target.value=""},H=()=>{if(!c.trim()||!d)return;const _={id:Date.now().toString(),version:c,date:new Date().toISOString().split("T")[0],note:Z,assets:pe},w=[_,...o.updates||[]];d({...o,updates:w,version:c}),y(b=>[_.id,...b]),I(""),Y(""),ie([]),W(!1)},E=()=>{if(T&&d){const _=(o.updates||[]).filter(w=>w.id!==T);d({...o,updates:_}),ne(null)}},me=(_=>{switch(_){case"in_progress":return{icon:Fl,label:"",color:"text-emerald-600 bg-emerald-50 border-emerald-100"};case"finished":return{icon:jt,label:"",color:"text-gray-500 bg-gray-100 border-gray-200"};case"not_started":default:return{icon:$l,label:"",color:"text-blue-500 bg-blue-50 border-blue-100"}}})(De),be=me.icon,P=_=>{if(_.content.startsWith("data:")){const w=document.createElement("a");w.href=_.content,w.download=_.name,document.body.appendChild(w),w.click(),document.body.removeChild(w)}else{const w=new Blob([_.content],{type:"text/plain"}),b=URL.createObjectURL(w),G=document.createElement("a");G.href=b,G.download=_.name,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(b)}};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:Ce}),l.jsxs("div",{className:"relative bg-white w-full max-w-5xl h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-white border-b border-gray-100 p-6 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("span",{className:"bg-indigo-100 text-indigo-700 text-xs font-bold px-2 py-0.5 rounded border border-indigo-200 flex items-center gap-1",children:[l.jsx(ir,{size:12})," JSON WORLD"]}),l.jsxs("span",{className:"text-gray-400 text-xs font-mono",children:["v",o.version]})]}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 font-serif tracking-wide mb-1",children:o.title}),l.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Vt,{size:14,className:"text-indigo-500"})," ",o.creator]})})]}),l.jsxs("div",{className:"flex gap-2",children:[d&&l.jsx("button",{onClick:()=>d({...o,isFavorite:!o.isFavorite}),className:`p-2 rounded-full transition-colors ${o.isFavorite?"bg-red-50 text-red-500 hover:bg-red-100":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:l.jsx(_l,{size:24,fill:o.isFavorite?"currentColor":"none"})}),l.jsx("button",{onClick:Ce,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:l.jsx(Ke,{size:24})})]})]}),l.jsx("div",{className:"flex gap-1 border-b border-gray-100 -mb-6",children:[{id:"info",label:"",icon:Kl},{id:"gameplay",label:"",icon:Ca},{id:"assets",label:"",icon:gt},{id:"updates",label:"",icon:Qt}].map(_=>l.jsxs("button",{onClick:()=>v(_.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-all
                            ${U===_.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(_.icon,{size:16})," ",_.label]},_.id))})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 bg-white no-scrollbar",children:[U==="info"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((_,w)=>l.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 border border-gray-200 text-xs font-medium rounded-full flex items-center gap-1",children:[l.jsx(Hs,{size:10})," ",_]},w))}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Zn,{size:14})," "]}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-line bg-gray-50/50 p-5 rounded-xl border border-gray-100 font-serif",children:o.description||""})]}),(o.source||o.sourceUrl)&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Bn,{size:14})," "]}),l.jsx("div",{className:"flex items-center gap-2 text-sm",children:o.sourceUrl?l.jsxs("a",{href:o.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline hover:text-indigo-800 flex items-center gap-1 bg-indigo-50 px-3 py-2 rounded-lg",children:[o.source||""," ",l.jsx(Bn,{size:12})]}):l.jsx("span",{className:"text-gray-600 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100",children:o.source})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-500 flex items-center justify-center",children:l.jsx(ir,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-400 uppercase font-medium",children:""}),l.jsx("div",{className:"text-sm font-bold text-gray-900",children:o.data?"":""})]})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 text-purple-500 flex items-center justify-center",children:l.jsx(Vm,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-400 uppercase font-medium",children:""}),l.jsx("div",{className:"text-sm font-bold text-gray-900",children:"2023-12-01"})]})]})]})]}),U==="gameplay"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ca,{size:14})," "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("button",{onClick:()=>{S(Ne.title),g(!0)},disabled:D,className:"text-gray-400 hover:text-indigo-600 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 disabled:opacity-50",children:[l.jsx(Gn,{size:12})," "]}),h!=="default"&&h!==""&&l.jsxs("button",{onClick:()=>J(h),className:"text-gray-400 hover:text-red-500 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100",children:[l.jsx(et,{size:12})," "]})]})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[ue.map(_=>D&&h===_.id?l.jsxs("div",{className:"flex items-center gap-2 bg-white border border-indigo-200 shadow-sm rounded-full px-2 py-1 animate-in fade-in",children:[l.jsx("input",{autoFocus:!0,type:"text",value:C,onChange:w=>S(w.target.value),onKeyDown:w=>w.key==="Enter"&&(Te({title:C}),g(!1)),onBlur:()=>g(!1),className:"bg-transparent border-none outline-none text-sm text-indigo-700 w-32 px-1 font-medium"}),l.jsx("button",{onClick:()=>{Te({title:C}),g(!1)},className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded-full",children:l.jsx(jt,{size:14})})]},_.id):l.jsx("button",{onClick:()=>{p(_.id),O(_.note),B(_.playerPersona||"")},className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap border-2 ${h===_.id?"bg-gray-900 text-white border-gray-900 shadow-md":"bg-white text-gray-600 border-gray-100 hover:border-gray-300"}`,children:_.title},_.id)),A?l.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 border border-indigo-200 rounded-full px-2 py-1 animate-in fade-in slide-in-from-left-2",children:[l.jsx("input",{autoFocus:!0,type:"text",value:R,onChange:_=>j(_.target.value),onKeyDown:_=>_.key==="Enter"&&Ye(),placeholder:"...",className:"bg-transparent border-none outline-none text-sm text-indigo-700 w-24 px-1"}),l.jsx("button",{onClick:Ye,className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded-full",children:l.jsx(jt,{size:14})}),l.jsx("button",{onClick:()=>m(!1),className:"p-1 text-gray-400 hover:bg-gray-200 rounded-full",children:l.jsx(Ke,{size:14})})]}):l.jsxs("button",{onClick:()=>{m(!0),g(!1)},className:"flex-shrink-0 px-3 py-2 rounded-full border border-dashed border-gray-300 text-gray-500 hover:border-indigo-400 hover:text-indigo-600 transition-all text-sm flex items-center gap-1",children:[l.jsx(Xt,{size:14})," "]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:`p-4 rounded-xl border ${me.color.replace("text-","bg-opacity-10 ")} flex flex-col items-center justify-center text-center gap-2 relative group`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(be,{size:24,className:me.color.split(" ")[0]}),l.jsxs("select",{value:De,onChange:_=>Te({status:_.target.value}),className:"appearance-none bg-transparent font-medium focus:outline-none cursor-pointer text-center hover:underline",children:[l.jsx("option",{value:"not_started",children:""}),l.jsx("option",{value:"in_progress",children:""}),l.jsx("option",{value:"finished",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold uppercase opacity-60",children:""})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 flex flex-col items-center justify-center text-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[l.jsx(Wl,{size:24,className:"text-gray-400"}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("input",{type:"number",min:"0",value:Oe,onChange:_=>Te({chatCount:parseInt(_.target.value)||0}),className:"w-16 bg-transparent text-center font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 rounded p-0.5 outline-none transition-all"}),l.jsx("span",{className:"font-medium",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase",children:""})]})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ls,{size:14})," /"]}),L!==(Ne.playerPersona||"")&&l.jsxs("button",{onClick:()=>Te({playerPersona:L}),className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-indigo-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("textarea",{value:L,onChange:_=>B(_.target.value),onBlur:()=>Te({playerPersona:L}),className:"w-full bg-gray-50 border border-gray-200 px-4 py-3 rounded-xl text-gray-700 text-sm shadow-sm focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none resize-none min-h-[80px]",placeholder:"..."})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Bs,{size:14})," "]}),M!==Ne.note&&l.jsxs("button",{onClick:()=>Te({note:M}),className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-indigo-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("div",{className:"relative",children:l.jsx("textarea",{value:M,onChange:_=>O(_.target.value),onBlur:()=>Te({note:M}),className:"w-full bg-yellow-50/50 border border-yellow-100 p-4 rounded-xl text-gray-700 text-sm leading-relaxed whitespace-pre-line shadow-sm focus:bg-white focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all outline-none resize-none min-h-[120px]",placeholder:"..."})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," /"]}),l.jsxs("label",{className:"cursor-pointer text-xs text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(Zt,{size:12})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:it})]})]}),Ne.gallery&&Ne.gallery.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ne.gallery.map((_,w)=>l.jsx("div",{className:"aspect-[16/9] rounded-lg overflow-hidden cursor-zoom-in border border-gray-100 bg-gray-50 shadow-sm hover:shadow-md transition-all group relative",onClick:()=>x(_),children:l.jsx("img",{src:_,alt:"Gallery",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"})},w))}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400 text-sm flex flex-col items-center gap-2",children:[l.jsx(gt,{size:24,className:"opacity-20"})," "]})]})]}),U==="assets"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-xl border border-indigo-100 text-sm text-gray-600 flex items-start gap-3",children:[l.jsx(gt,{size:20,className:"text-indigo-500 shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 mb-1",children:""}),l.jsx("p",{className:"leading-relaxed opacity-90",children:""})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," "]}),l.jsxs("label",{className:"cursor-pointer bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-all shadow-sm flex items-center gap-2 text-sm font-medium active:scale-95",children:[l.jsx(Zt,{size:16})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:u})]})]}),o.extraImages&&o.extraImages.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.extraImages.map((_,w)=>l.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-zoom-in border border-gray-200 bg-gray-50 shadow-sm hover:shadow-lg transition-all",onClick:()=>x(_),children:[l.jsx("img",{src:_,alt:"Asset",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:l.jsx("button",{className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-red-500/80 transition-colors",onClick:b=>{b.stopPropagation(),je(w)},title:"",children:l.jsx(et,{size:18})})})]},w))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 text-gray-400",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:l.jsx(gt,{size:32,className:"opacity-20"})}),l.jsx("p",{className:"font-medium text-gray-500",children:""})]})]})]}),U==="updates"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Qt,{size:14})," "]}),!k&&l.jsxs("button",{onClick:()=>W(!0),className:"text-xs bg-indigo-600 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:bg-indigo-700 transition-colors shadow-sm",children:[l.jsx(Xt,{size:14})," "]})]}),k&&l.jsxs("div",{className:"bg-white border border-indigo-100 rounded-xl p-5 shadow-sm space-y-4 animate-in fade-in slide-in-from-top-2",children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-3",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:""}),l.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ke,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:c,onChange:_=>I(_.target.value),placeholder:"v1.0.0",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:Z,onChange:_=>Y(_.target.value),placeholder:"...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2",children:" ()"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Xl,{size:14,className:"text-blue-500"})," +  JSON ",l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:_=>le(_,"worldbook")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(jl,{size:14,className:"text-indigo-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.png,.webp",className:"hidden",onChange:_=>le(_,"character")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(vl,{size:14,className:"text-purple-500"})," +  ",l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:_=>le(_,"shortcut")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Sa,{size:14,className:"text-orange-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.txt",className:"hidden",onChange:_=>le(_,"regex")})]})]}),pe.length>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:pe.map(_=>l.jsxs("div",{className:"bg-white text-gray-700 px-2 py-1 rounded text-xs flex items-center gap-2 border border-gray-200 shadow-sm",children:[l.jsx("span",{className:"truncate max-w-[150px] font-mono",children:_.name}),l.jsx("button",{onClick:()=>ie(w=>w.filter(b=>b.id!==_.id)),className:"hover:text-red-500 ml-1 text-gray-400",children:l.jsx(Ke,{size:12})})]},_.id))})]}),l.jsx("div",{className:"flex justify-end pt-2",children:l.jsxs("button",{onClick:H,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:[l.jsx(At,{size:16})," "]})})]}),l.jsx("div",{className:"space-y-4",children:o.updates&&o.updates.length>0?o.updates.map(_=>l.jsxs("div",{className:"border border-gray-100 rounded-xl bg-gray-50/30 hover:bg-white hover:border-gray-200 transition-all group overflow-hidden",children:[l.jsxs("div",{onClick:()=>y(w=>w.includes(_.id)?w.filter(b=>b!==_.id):[...w,_.id]),className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50/80 transition-colors select-none",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-200 ${he.includes(_.id)?"rotate-90":""}`}),l.jsx("span",{className:"bg-gray-800 text-white px-2 py-0.5 rounded text-xs font-bold tracking-wide shrink-0",children:_.version}),l.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 shrink-0",children:[l.jsx(wl,{size:12})," ",_.date]}),!he.includes(_.id)&&_.note&&l.jsx("span",{className:"text-xs text-gray-400 truncate ml-2 opacity-80",children:_.note})]}),l.jsx("button",{onClick:w=>{w.stopPropagation(),ne(_.id)},className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"",children:l.jsx(et,{size:14})})]}),he.includes(_.id)&&l.jsxs("div",{className:"px-5 pb-5 pt-0 animate-in slide-in-from-top-1 fade-in duration-200",children:[l.jsx("div",{className:"h-px bg-gray-100 mb-4 w-full"}),_.note&&l.jsx("p",{className:"text-sm text-gray-700 mb-4 ml-1 leading-relaxed",children:_.note}),_.assets.length>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_.assets.map(w=>l.jsxs("button",{onClick:()=>P(w),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-indigo-300 hover:text-indigo-600 transition-colors shadow-sm text-left",children:[l.jsx("span",{className:"font-medium truncate flex-1",children:w.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},w.id))})]})]},_.id)):!k&&l.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[l.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-20"})," "]})})]})]}),l.jsxs("div",{className:"p-4 sm:p-6 border-t border-gray-100 bg-white flex flex-col sm:flex-row gap-3 flex-shrink-0",children:[l.jsxs("button",{onClick:ke,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all shadow-lg shadow-indigo-200",children:[l.jsx(qt,{size:18}),""]}),d&&l.jsxs("button",{onClick:()=>d({...o,isFavorite:!o.isFavorite}),className:`flex-1 sm:flex-none px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors border ${o.isFavorite?"bg-red-50 border-red-200 text-red-500":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(_l,{size:18,fill:o.isFavorite?"currentColor":"none"}),o.isFavorite?"":""]}),l.jsxs("button",{onClick:f,className:"flex-1 sm:flex-none bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Yn,{size:18}),""]})]})]}),z&&l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>x(null),children:l.jsxs("div",{className:"relative max-w-full max-h-full",children:[l.jsx("img",{src:z,alt:"Preview",className:"max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain",onClick:_=>_.stopPropagation()}),l.jsx("button",{className:"absolute -top-12 right-0 text-white/70 hover:text-white p-2 hover:bg-white/10 rounded-full transition-colors",onClick:()=>x(null),children:l.jsx(Ke,{size:32})})]})}),oe&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>J(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:Je,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),de!==null&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>je(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:ge,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),T&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>ne(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:E,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})})]})},xp=({theater:o,onClick:Ce,isSelectionMode:d,isSelected:f})=>l.jsxs("div",{className:`
        group bg-white rounded-xl border p-5 transition-all duration-300 cursor-pointer flex flex-col h-full relative
        ${d?f?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-gray-200 opacity-80 hover:opacity-100":"border-gray-200 hover:border-purple-300 hover:shadow-md"}
      `,onClick:()=>Ce(o),children:[d&&l.jsx("div",{className:"absolute top-3 right-3 z-20",children:l.jsx("div",{className:`
                  w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors shadow-sm
                  ${f?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}
              `,children:f&&l.jsx(jt,{size:14,className:"text-white"})})}),l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex items-start gap-3 overflow-hidden",children:[l.jsx("div",{className:`
                w-10 h-10 rounded-lg bg-purple-50 flex-shrink-0 flex items-center justify-center text-purple-600 transition-colors
                ${!d&&"group-hover:bg-purple-600 group-hover:text-white"}
            `,children:l.jsx(Es,{size:20})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:`text-base font-bold text-gray-900 truncate transition-colors ${!d&&"group-hover:text-purple-600"}`,title:o.title,children:o.title}),l.jsx("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5",children:o.date})]})]})}),l.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 mb-4 flex-1 leading-relaxed",children:o.description||"..."}),l.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-gray-50",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-400",children:[l.jsx(Vt,{size:12}),l.jsx("span",{className:"truncate max-w-[80px]",children:o.creator})]}),l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-medium text-purple-600 bg-purple-50 px-2 py-0.5 rounded-full",children:[l.jsx(J0,{size:10}),"PROMPT"]})]})]}),pp=({theater:o,onClose:Ce,onUpdate:d,onEdit:f})=>{const[U,v]=K.useState("info"),[z,x]=K.useState(!1),[h,p]=K.useState(null),[A,m]=K.useState(""),[R,j]=K.useState(!1),[D,g]=K.useState(""),[C,S]=K.useState(!1),[M,O]=K.useState(""),[L,B]=K.useState(""),[$,Q]=K.useState(""),[oe,J]=K.useState(""),[de,je]=K.useState(null),[k,W]=K.useState(null),[c,I]=K.useState(!1),[Z,Y]=K.useState(""),[pe,ie]=K.useState(""),[he,y]=K.useState([]),[T,ne]=K.useState([]),[ce,ue]=K.useState(null);if(K.useEffect(()=>{if(o&&U==="gameplay"){const b=o.playthroughs||[];if(b.length>0)if(!A||!b.find(G=>G.id===A)){const G=b[0];m(G.id),B(G.note||""),Q(G.playerPersona||""),J(G.memoir||"")}else{const G=b.find(we=>we.id===A);G&&(B(G.note||""),Q(G.playerPersona||""),J(G.memoir||""))}else m("default"),B(""),Q(""),J("")}},[o,U,A]),!o)return null;const Ne=()=>{navigator.clipboard.writeText(o.content),x(!0),setTimeout(()=>x(!1),2e3)},Oe=o.playthroughs&&o.playthroughs.length>0?o.playthroughs:[{id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status||"not_started",chatCount:o.chatCount||0,playerPersona:"",memoir:""}],ke=Oe.find(b=>b.id===A)||Oe[0],Te=ke.status||o.status||"not_started",Ye=ke.chatCount!==void 0?ke.chatCount:o.chatCount||0,Je=b=>{if(!d)return;let G=[...o.playthroughs||[]];if(G.length===0)G=[{id:"default",title:"",note:L,gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:$,memoir:oe,...b}];else{const we=G.findIndex(Se=>Se.id===A);we>=0&&(G[we]={...G[we],...b})}d({...o,status:b.status||o.status,chatCount:b.chatCount!==void 0?b.chatCount:o.chatCount,playthroughs:G})},it=()=>{if(!D.trim()||!d)return;const b=Date.now().toString(),G={id:b,title:D,note:"",gallery:[],status:"not_started",chatCount:0,playerPersona:"",memoir:""};let we=[...o.playthroughs||[]];we.length===0&&we.push({id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:"",memoir:""}),we.push(G),d({...o,playthroughs:we}),g(""),j(!1),m(b)},u=()=>{if(!de||!d)return;let b=(o.playthroughs||[]).filter(G=>G.id!==de);d({...o,playthroughs:b}),b.length>0?m(b[0].id):m("default"),je(null)},ge=b=>{if(b.target.files&&b.target.files.length>0&&d){const G=[],we=Array.from(b.target.files);let Se=0;we.forEach(Ze=>{const He=new FileReader;He.onload=qe=>{var tt;if((tt=qe.target)!=null&&tt.result&&G.push(qe.target.result),Se++,Se===we.length){const Xe=[...ke.gallery||[],...G];Je({gallery:Xe}),(A==="default"||o.playthroughs&&o.playthroughs.length===0)&&d({...o,gallery:Xe,playthroughs:[{id:"default",title:"",note:L,gallery:Xe,status:Te,chatCount:Ye,playerPersona:$,memoir:oe}]})}},He.readAsDataURL(Ze)})}},le=b=>{if(b.target.files&&b.target.files.length>0&&d){const G=[],we=Array.from(b.target.files);let Se=0;we.forEach(Ze=>{const He=new FileReader;He.onload=qe=>{var tt;if((tt=qe.target)!=null&&tt.result&&G.push(qe.target.result),Se++,Se===we.length){const Xe=[...o.extraImages||[],...G];d({...o,extraImages:Xe})}},He.readAsDataURL(Ze)})}},H=()=>{if(k!==null&&d){const b=(o.extraImages||[]).filter((G,we)=>we!==k);d({...o,extraImages:b}),W(null)}},E=(b,G)=>{if(b.target.files&&b.target.files[0]){const we=b.target.files[0],Se=new FileReader,Ze=we.type.startsWith("image/");Se.onload=He=>{var tt;const qe=(tt=He.target)==null?void 0:tt.result;qe&&y(Xe=>[...Xe,{id:Date.now().toString(),name:we.name,type:G,content:qe}])},Ze?Se.readAsDataURL(we):Se.readAsText(we)}b.target.value=""},V=()=>{if(!Z.trim()||!d)return;const b={id:Date.now().toString(),version:Z,date:new Date().toISOString().split("T")[0],note:pe,assets:he},G=[b,...o.updates||[]];d({...o,updates:G,version:Z}),ne(we=>[b.id,...we]),Y(""),ie(""),y([]),I(!1)},me=()=>{if(ce&&d){const b=(o.updates||[]).filter(G=>G.id!==ce);d({...o,updates:b}),ue(null)}},be=b=>{if(b.content.startsWith("data:")){const G=document.createElement("a");G.href=b.content,G.download=b.name,document.body.appendChild(G),G.click(),document.body.removeChild(G)}else{const G=new Blob([b.content],{type:"text/plain"}),we=URL.createObjectURL(G),Se=document.createElement("a");Se.href=we,Se.download=b.name,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),URL.revokeObjectURL(we)}},_=(b=>{switch(b){case"in_progress":return{icon:Fl,label:"",color:"text-emerald-600 bg-emerald-50 border-emerald-100"};case"finished":return{icon:jt,label:"",color:"text-gray-500 bg-gray-100 border-gray-200"};case"not_started":default:return{icon:$l,label:"",color:"text-blue-500 bg-blue-50 border-blue-100"}}})(Te),w=_.icon;return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:Ce}),l.jsxs("div",{className:"relative bg-[#faf9f6] w-full max-w-4xl h-[90vh] rounded-xl shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200 border border-gray-200",children:[l.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-b border-gray-200 bg-white",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"bg-purple-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-sm flex items-center gap-1",children:[l.jsx(J0,{size:10})," PROMPT"]}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o.title}),o.version&&l.jsxs("span",{className:"text-xs text-gray-400 font-mono self-end mb-0.5",children:["v",o.version]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Vt,{size:12})," ",o.creator]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(wl,{size:12})," ",o.date]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[d&&l.jsx("button",{onClick:()=>d({...o,isFavorite:!o.isFavorite}),className:`p-2 rounded-full transition-colors ${o.isFavorite?"bg-red-50 text-red-500 hover:bg-red-100":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:o.isFavorite?"":"",children:l.jsx(_l,{size:20,fill:o.isFavorite?"currentColor":"none"})}),l.jsx("button",{onClick:Ce,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:l.jsx(Ke,{size:20})})]})]}),l.jsx("div",{className:"flex gap-1 -mb-4 overflow-x-auto no-scrollbar",children:[{id:"info",label:"",icon:Kl},{id:"gameplay",label:"",icon:Ca},{id:"assets",label:"",icon:gt},{id:"updates",label:"",icon:Qt}].map(b=>l.jsxs("button",{onClick:()=>v(b.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-all whitespace-nowrap
                            ${U===b.id?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(b.icon,{size:16})," ",b.label]},b.id))})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-0 sm:p-8 bg-[#faf9f6]",children:[U==="info"&&l.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-sm border border-gray-100 min-h-[500px] p-6 sm:p-10 relative flex flex-col animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"mb-6 pb-6 border-b border-dashed border-gray-200",children:[l.jsx("div",{className:"text-sm text-gray-500 italic mb-4 bg-gray-50 p-3 rounded-lg border border-gray-100 leading-relaxed",children:o.description||""}),o.characters.length>0&&l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 text-gray-400 font-bold uppercase tracking-wider mr-2",children:[l.jsx(Ln,{size:12}),""]}),o.characters.map((b,G)=>l.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded font-medium",children:b},G))]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:o.tags.map((b,G)=>l.jsxs("span",{className:"text-[10px] text-gray-500 border border-gray-200 px-2 py-1 rounded-full flex items-center gap-1 whitespace-nowrap",children:[l.jsx(Hs,{size:10})," ",b]},G))})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1",children:" / Prompt Content"}),l.jsxs("button",{onClick:Ne,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${z?"bg-green-100 text-green-700 border border-green-200":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200 hover:border-gray-300 shadow-sm"}`,children:[z?l.jsx(rr,{size:12}):l.jsx($m,{size:12}),z?"":""]})]}),l.jsx("div",{className:"bg-gray-900 text-gray-200 p-5 rounded-xl font-mono text-sm leading-relaxed whitespace-pre-wrap shadow-inner overflow-x-auto border border-gray-800 selection:bg-purple-500 selection:text-white",children:o.content})]})]}),U==="gameplay"&&l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-6 sm:p-0 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ca,{size:14})," "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("button",{onClick:()=>{O(ke.title),S(!0)},disabled:C,className:"text-gray-400 hover:text-purple-600 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 disabled:opacity-50",children:[l.jsx(Gn,{size:12})," "]}),A!=="default"&&A!==""&&l.jsxs("button",{onClick:()=>je(A),className:"text-gray-400 hover:text-red-500 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100",children:[l.jsx(et,{size:12})," "]})]})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[Oe.map(b=>C&&A===b.id?l.jsxs("div",{className:"flex items-center gap-2 bg-white border border-purple-200 shadow-sm rounded-full px-2 py-1 animate-in fade-in",children:[l.jsx("input",{autoFocus:!0,type:"text",value:M,onChange:G=>O(G.target.value),onKeyDown:G=>G.key==="Enter"&&(Je({title:M}),S(!1)),onBlur:()=>S(!1),className:"bg-transparent border-none outline-none text-sm text-purple-700 w-32 px-1 font-medium"}),l.jsx("button",{onClick:()=>{Je({title:M}),S(!1)},className:"p-1 text-purple-600 hover:bg-purple-100 rounded-full",children:l.jsx(jt,{size:14})})]},b.id):l.jsx("button",{onClick:()=>{m(b.id),B(b.note),Q(b.playerPersona||"")},className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap border-2 ${A===b.id?"bg-gray-900 text-white border-gray-900 shadow-md":"bg-white text-gray-600 border-gray-100 hover:border-gray-300"}`,children:b.title},b.id)),R?l.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 border border-purple-200 rounded-full px-2 py-1 animate-in fade-in slide-in-from-left-2",children:[l.jsx("input",{autoFocus:!0,type:"text",value:D,onChange:b=>g(b.target.value),onKeyDown:b=>b.key==="Enter"&&it(),placeholder:"...",className:"bg-transparent border-none outline-none text-sm text-purple-700 w-24 px-1"}),l.jsx("button",{onClick:it,className:"p-1 text-purple-600 hover:bg-purple-100 rounded-full",children:l.jsx(jt,{size:14})}),l.jsx("button",{onClick:()=>j(!1),className:"p-1 text-gray-400 hover:bg-gray-200 rounded-full",children:l.jsx(Ke,{size:14})})]}):l.jsxs("button",{onClick:()=>{j(!0),S(!1)},className:"flex-shrink-0 px-3 py-2 rounded-full border border-dashed border-gray-300 text-gray-500 hover:border-purple-400 hover:text-purple-600 transition-all text-sm flex items-center gap-1",children:[l.jsx(Xt,{size:14})," "]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:`p-4 rounded-xl border bg-white ${_.color.replace("text-","bg-opacity-10 ")} flex flex-col items-center justify-center text-center gap-2 relative group`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(w,{size:24,className:_.color.split(" ")[0]}),l.jsxs("select",{value:Te,onChange:b=>Je({status:b.target.value}),className:"appearance-none bg-transparent font-medium focus:outline-none cursor-pointer text-center hover:underline",children:[l.jsx("option",{value:"not_started",children:""}),l.jsx("option",{value:"in_progress",children:""}),l.jsx("option",{value:"finished",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold uppercase opacity-60",children:""})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white flex flex-col items-center justify-center text-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[l.jsx(Wl,{size:24,className:"text-gray-400"}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("input",{type:"number",min:"0",value:Ye,onChange:b=>Je({chatCount:parseInt(b.target.value)||0}),className:"w-16 bg-transparent text-center font-medium focus:bg-gray-50 focus:ring-2 focus:ring-purple-100 rounded p-0.5 outline-none transition-all"}),l.jsx("span",{className:"font-medium",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase",children:""})]})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ls,{size:14})," /"]}),$!==(ke.playerPersona||"")&&l.jsxs("button",{onClick:()=>Je({playerPersona:$}),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-purple-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("textarea",{value:$,onChange:b=>Q(b.target.value),onBlur:()=>Je({playerPersona:$}),className:"w-full bg-white border border-gray-200 px-4 py-3 rounded-xl text-gray-700 text-sm shadow-sm focus:bg-white focus:border-purple-500 focus:ring-4 focus:ring-purple-500/10 transition-all outline-none resize-none min-h-[80px]",placeholder:"..."})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Bs,{size:14})," "]}),L!==ke.note&&l.jsxs("button",{onClick:()=>Je({note:L}),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-purple-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("div",{className:"relative",children:l.jsx("textarea",{value:L,onChange:b=>B(b.target.value),onBlur:()=>Je({note:L}),className:"w-full bg-yellow-50/50 border border-yellow-100 p-4 rounded-xl text-gray-700 text-sm leading-relaxed whitespace-pre-line shadow-sm focus:bg-white focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all outline-none resize-none min-h-[120px]",placeholder:"..."})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," /"]}),l.jsxs("label",{className:"cursor-pointer text-xs text-purple-600 hover:text-purple-800 bg-purple-50 hover:bg-purple-100 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(Zt,{size:12})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:ge})]})]}),ke.gallery&&ke.gallery.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ke.gallery.map((b,G)=>l.jsx("div",{className:"aspect-[16/9] rounded-lg overflow-hidden cursor-zoom-in border border-gray-100 bg-gray-50 shadow-sm hover:shadow-md transition-all group relative",onClick:()=>p(b),children:l.jsx("img",{src:b,alt:"Gallery",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"})},G))}):l.jsxs("div",{className:"text-center py-8 bg-white rounded-xl border border-dashed border-gray-200 text-gray-400 text-sm flex flex-col items-center gap-2",children:[l.jsx(gt,{size:24,className:"opacity-20"})," "]})]})]}),U==="assets"&&l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-6 sm:p-0 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"bg-purple-50/50 p-4 rounded-xl border border-purple-100 text-sm text-gray-600 flex items-start gap-3",children:[l.jsx(gt,{size:20,className:"text-purple-500 shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 mb-1",children:""}),l.jsx("p",{className:"leading-relaxed opacity-90",children:""})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," "]}),l.jsxs("label",{className:"cursor-pointer bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-all shadow-sm flex items-center gap-2 text-sm font-medium active:scale-95",children:[l.jsx(Zt,{size:16})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:le})]})]}),o.extraImages&&o.extraImages.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.extraImages.map((b,G)=>l.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-zoom-in border border-gray-200 bg-white shadow-sm hover:shadow-lg transition-all",onClick:()=>p(b),children:[l.jsx("img",{src:b,alt:"Asset",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:l.jsx("button",{className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-red-500/80 transition-colors",onClick:we=>{we.stopPropagation(),W(G)},title:"",children:l.jsx(et,{size:18})})})]},G))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-xl border-2 border-dashed border-gray-200 text-gray-400",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-4",children:l.jsx(gt,{size:32,className:"opacity-20"})}),l.jsx("p",{className:"font-medium text-gray-500",children:""})]})]})]}),U==="updates"&&l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 p-6 sm:p-0 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Qt,{size:14})," "]}),!c&&l.jsxs("button",{onClick:()=>I(!0),className:"text-xs bg-purple-600 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:bg-purple-700 transition-colors shadow-sm",children:[l.jsx(Xt,{size:14})," "]})]}),c&&l.jsxs("div",{className:"bg-white border border-purple-100 rounded-xl p-5 shadow-sm space-y-4 animate-in fade-in slide-in-from-top-2",children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-3",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:""}),l.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ke,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:Z,onChange:b=>Y(b.target.value),placeholder:"v1.0.0",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:pe,onChange:b=>ie(b.target.value),placeholder:"...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2",children:" ()"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Es,{size:14,className:"text-purple-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.txt",className:"hidden",onChange:b=>E(b,"worldbook")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(jl,{size:14,className:"text-indigo-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.png,.webp",className:"hidden",onChange:b=>E(b,"character")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(vl,{size:14,className:"text-purple-500"})," +  ",l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:b=>E(b,"shortcut")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Sa,{size:14,className:"text-orange-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.txt",className:"hidden",onChange:b=>E(b,"regex")})]})]}),he.length>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:he.map(b=>l.jsxs("div",{className:"bg-white text-gray-700 px-2 py-1 rounded text-xs flex items-center gap-2 border border-gray-200 shadow-sm",children:[l.jsx("span",{className:"truncate max-w-[150px] font-mono",children:b.name}),l.jsx("button",{onClick:()=>y(G=>G.filter(we=>we.id!==b.id)),className:"hover:text-red-500 ml-1 text-gray-400",children:l.jsx(Ke,{size:12})})]},b.id))})]}),l.jsx("div",{className:"flex justify-end pt-2",children:l.jsxs("button",{onClick:V,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:[l.jsx(At,{size:16})," "]})})]}),l.jsx("div",{className:"space-y-4",children:o.updates&&o.updates.length>0?o.updates.map(b=>l.jsxs("div",{className:"border border-gray-100 rounded-xl bg-white hover:border-gray-200 transition-all group overflow-hidden",children:[l.jsxs("div",{onClick:()=>ne(G=>G.includes(b.id)?G.filter(we=>we!==b.id):[...G,b.id]),className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50/80 transition-colors select-none",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-200 ${T.includes(b.id)?"rotate-90":""}`}),l.jsx("span",{className:"bg-gray-800 text-white px-2 py-0.5 rounded text-xs font-bold tracking-wide shrink-0",children:b.version}),l.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 shrink-0",children:[l.jsx(wl,{size:12})," ",b.date]}),!T.includes(b.id)&&b.note&&l.jsx("span",{className:"text-xs text-gray-400 truncate ml-2 opacity-80",children:b.note})]}),l.jsx("button",{onClick:G=>{G.stopPropagation(),ue(b.id)},className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"",children:l.jsx(et,{size:14})})]}),T.includes(b.id)&&l.jsxs("div",{className:"px-5 pb-5 pt-0 animate-in slide-in-from-top-1 fade-in duration-200",children:[l.jsx("div",{className:"h-px bg-gray-100 mb-4 w-full"}),b.note&&l.jsx("p",{className:"text-sm text-gray-700 mb-4 ml-1 leading-relaxed",children:b.note}),b.assets.length>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:b.assets.map(G=>l.jsxs("button",{onClick:()=>be(G),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-purple-300 hover:text-purple-600 transition-colors shadow-sm text-left",children:[l.jsx("span",{className:"font-medium truncate flex-1",children:G.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},G.id))})]})]},b.id)):!c&&l.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm bg-white rounded-xl border border-dashed border-gray-200",children:[l.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-20"})," "]})})]})]}),l.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-t border-gray-200 bg-white flex justify-between items-center",children:l.jsxs("div",{className:"flex gap-2",children:[f&&l.jsxs("button",{onClick:f,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx(Yn,{size:14})," "]}),l.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx(K0,{size:14})," "]})]})})]}),h&&l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>p(null),children:l.jsxs("div",{className:"relative max-w-full max-h-full",children:[l.jsx("img",{src:h,alt:"Preview",className:"max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain",onClick:b=>b.stopPropagation()}),l.jsx("button",{className:"absolute -top-12 right-0 text-white/70 hover:text-white p-2 hover:bg-white/10 rounded-full transition-colors",onClick:()=>p(null),children:l.jsx(Ke,{size:32})})]})}),de&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>je(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:u,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),k!==null&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>W(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:H,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),ce&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>ue(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:me,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})})]})},yp=({theme:o,onClick:Ce,isSelectionMode:d,isSelected:f})=>{const U=()=>{switch(o.type){case"background":return Va;case"sound":return Mc;case"font":return F0;default:return Ka}},v=()=>{switch(o.type){case"background":return"";case"sound":return"";case"font":return"";default:return""}},z=U();return l.jsxs("div",{className:`
        group relative bg-white rounded-xl border shadow-sm transition-all duration-300 cursor-pointer overflow-hidden flex flex-col h-full
        ${d?f?"border-indigo-500 ring-2 ring-indigo-500/20":"border-gray-100 opacity-80 hover:opacity-100":"border-gray-100 hover:shadow-lg"}
      `,onClick:()=>Ce(o),children:[d&&l.jsx("div",{className:"absolute top-3 right-3 z-30",children:l.jsx("div",{className:`
                  w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors shadow-sm
                  ${f?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}
              `,children:f&&l.jsx(jt,{size:14,className:"text-white"})})}),l.jsxs("div",{className:"aspect-[16/10] w-full relative bg-gray-100 overflow-hidden",children:[l.jsx("img",{src:o.preview,alt:o.title,className:`w-full h-full object-cover transition-transform duration-500 ${d?"":"group-hover:scale-105"}`,loading:"lazy"}),!d&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center p-4",children:l.jsxs("span",{className:"text-white text-xs font-medium bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/10 flex items-center gap-2",children:[l.jsx(qt,{size:12})," "]})}),l.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur text-gray-800 text-[10px] px-2 py-0.5 rounded-md font-bold shadow-sm flex items-center gap-1",children:[l.jsx(z,{size:10}),v()]})]}),l.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[l.jsx("h3",{className:`text-sm font-bold text-gray-900 mb-1 line-clamp-1 transition-colors ${!d&&"group-hover:text-indigo-600"}`,children:o.title}),l.jsx("p",{className:"text-[10px] text-gray-500 line-clamp-2 mb-3 flex-1",children:o.description}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-50 mt-auto",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-400",children:[l.jsx(Vt,{size:10}),l.jsx("span",{className:"truncate max-w-[80px]",children:o.author})]}),l.jsxs("div",{className:"text-[10px] text-gray-300",children:["v",o.version]})]})]})]})},bp=({theme:o,onClose:Ce,onUpdate:d,onEdit:f})=>{const[U,v]=K.useState("info"),[z,x]=K.useState(null),[h,p]=K.useState(""),[A,m]=K.useState(!1),[R,j]=K.useState(""),[D,g]=K.useState(!1),[C,S]=K.useState(""),[M,O]=K.useState(""),[L,B]=K.useState(""),[$,Q]=K.useState(""),[oe,J]=K.useState(null),[de,je]=K.useState(null),[k,W]=K.useState(!1),[c,I]=K.useState(""),[Z,Y]=K.useState(""),[pe,ie]=K.useState([]),[he,y]=K.useState([]),[T,ne]=K.useState(null);if(K.useEffect(()=>{if(o&&U==="gameplay"){const w=o.playthroughs||[];if(w.length>0)if(!h||!w.find(b=>b.id===h)){const b=w[0];p(b.id),O(b.note||""),B(b.playerPersona||""),Q(b.memoir||"")}else{const b=w.find(G=>G.id===h);b&&(O(b.note||""),B(b.playerPersona||""),Q(b.memoir||""))}else p("default"),O(""),B(""),Q("")}},[o,U,h]),!o)return null;const ue=o.playthroughs&&o.playthroughs.length>0?o.playthroughs:[{id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status||"not_started",chatCount:o.chatCount||0,playerPersona:"",memoir:""}],Ne=ue.find(w=>w.id===h)||ue[0],De=Ne.status||o.status||"not_started",Oe=Ne.chatCount!==void 0?Ne.chatCount:o.chatCount||0,ke=w=>{if(!d)return;let b=[...o.playthroughs||[]];if(b.length===0)b=[{id:"default",title:"",note:M,gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:L,memoir:$,...w}];else{const G=b.findIndex(we=>we.id===h);G>=0&&(b[G]={...b[G],...w})}d({...o,status:w.status||o.status,chatCount:w.chatCount!==void 0?w.chatCount:o.chatCount,playthroughs:b})},Te=()=>{if(!R.trim()||!d)return;const w=Date.now().toString(),b={id:w,title:R,note:"",gallery:[],status:"not_started",chatCount:0,playerPersona:"",memoir:""};let G=[...o.playthroughs||[]];G.length===0&&G.push({id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:"",memoir:""}),G.push(b),d({...o,playthroughs:G}),j(""),m(!1),p(w)},Ye=()=>{if(!oe||!d)return;let w=(o.playthroughs||[]).filter(b=>b.id!==oe);d({...o,playthroughs:w}),w.length>0?p(w[0].id):p("default"),J(null)},Je=w=>{if(w.target.files&&w.target.files.length>0&&d){const b=[],G=Array.from(w.target.files);let we=0;G.forEach(Se=>{const Ze=new FileReader;Ze.onload=He=>{var qe;if((qe=He.target)!=null&&qe.result&&b.push(He.target.result),we++,we===G.length){const tt=[...Ne.gallery||[],...b];ke({gallery:tt}),(h==="default"||o.playthroughs&&o.playthroughs.length===0)&&d({...o,gallery:tt,playthroughs:[{id:"default",title:"",note:M,gallery:tt,status:De,chatCount:Oe,playerPersona:L,memoir:$}]})}},Ze.readAsDataURL(Se)})}},it=w=>{if(w.target.files&&w.target.files.length>0&&d){const b=[],G=Array.from(w.target.files);let we=0;G.forEach(Se=>{const Ze=new FileReader;Ze.onload=He=>{var qe;if((qe=He.target)!=null&&qe.result&&b.push(He.target.result),we++,we===G.length){const tt=[...o.extraImages||[],...b];d({...o,extraImages:tt})}},Ze.readAsDataURL(Se)})}},u=()=>{if(de!==null&&d){const w=(o.extraImages||[]).filter((b,G)=>G!==de);d({...o,extraImages:w}),je(null)}},ge=(w,b)=>{if(w.target.files&&w.target.files[0]){const G=w.target.files[0],we=new FileReader,Se=G.type.startsWith("image/");we.onload=Ze=>{var qe;const He=(qe=Ze.target)==null?void 0:qe.result;He&&ie(tt=>[...tt,{id:Date.now().toString(),name:G.name,type:b,content:He}])},Se?we.readAsDataURL(G):we.readAsText(G)}w.target.value=""},le=()=>{if(!c.trim()||!d)return;const w={id:Date.now().toString(),version:c,date:new Date().toISOString().split("T")[0],note:Z,assets:pe},b=[w,...o.updates||[]];d({...o,updates:b,version:c}),y(G=>[w.id,...G]),I(""),Y(""),ie([]),W(!1)},H=()=>{if(T&&d){const w=(o.updates||[]).filter(b=>b.id!==T);d({...o,updates:w}),ne(null)}},E=w=>{if(w.content.startsWith("data:")){const b=document.createElement("a");b.href=w.content,b.download=w.name,document.body.appendChild(b),b.click(),document.body.removeChild(b)}else{const b=new Blob([w.content],{type:"text/plain"}),G=URL.createObjectURL(b),we=document.createElement("a");we.href=G,we.download=w.name,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(G)}},me=(w=>{switch(w){case"in_progress":return{icon:Fl,label:"",color:"text-emerald-600 bg-emerald-50 border-emerald-100"};case"finished":return{icon:jt,label:"",color:"text-gray-500 bg-gray-100 border-gray-200"};case"not_started":default:return{icon:$l,label:"",color:"text-blue-500 bg-blue-50 border-blue-100"}}})(De),be=me.icon,_=(()=>{switch(o.type){case"background":return Va;case"sound":return Mc;case"font":return Ka;default:return Ka}})();return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:Ce}),l.jsxs("div",{className:"relative bg-white w-full max-w-4xl h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white border-b border-gray-100 p-6 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsxs("span",{className:"bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded shadow-sm flex items-center gap-1 uppercase tracking-wider",children:[l.jsx(_,{size:12})," ",o.type]}),l.jsxs("span",{className:"text-gray-400 text-xs font-mono",children:["v",o.version]})]}),l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 font-serif tracking-wide mb-1",children:o.title}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Vt,{size:14,className:"text-indigo-500"})," ",o.author]}),l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(wl,{size:14,className:"text-gray-400"})," ",o.date]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[d&&l.jsx("button",{onClick:()=>d({...o,isFavorite:!o.isFavorite}),className:`p-2 rounded-full transition-colors ${o.isFavorite?"bg-red-50 text-red-500 hover:bg-red-100":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:l.jsx(_l,{size:24,fill:o.isFavorite?"currentColor":"none"})}),l.jsx("button",{onClick:Ce,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:l.jsx(Ke,{size:24})})]})]}),l.jsx("div",{className:"flex gap-1 border-b border-gray-100 -mb-6",children:[{id:"info",label:"",icon:Kl},{id:"gameplay",label:"",icon:Ca},{id:"assets",label:"",icon:gt},{id:"updates",label:"",icon:Qt}].map(w=>l.jsxs("button",{onClick:()=>v(w.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-all
                            ${U===w.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(w.icon,{size:16})," ",w.label]},w.id))})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 bg-white no-scrollbar",children:[U==="info"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"aspect-[2/1] w-full rounded-xl overflow-hidden shadow-sm border border-gray-100 relative group",onClick:()=>x(o.preview),children:[l.jsx("img",{src:o.preview,alt:o.title,className:"w-full h-full object-cover cursor-zoom-in group-hover:scale-105 transition-transform duration-700"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center pb-4",children:l.jsxs("span",{className:"text-white text-sm font-medium flex items-center gap-2 bg-black/30 backdrop-blur-md px-3 py-1 rounded-full",children:[l.jsx(Va,{size:14})," "]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Kl,{size:14})," "]}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-line bg-gray-50/50 p-5 rounded-xl border border-gray-100 font-serif",children:o.description||""})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Jl,{size:14})," "]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map((w,b)=>l.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 border border-gray-200 text-xs font-medium rounded-full flex items-center gap-1",children:[l.jsx(Jl,{size:10})," ",w]},b))})]}),l.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-3",children:[l.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg shadow-indigo-200 active:scale-95",children:[l.jsx(rr,{size:16})," "]}),l.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-xl font-medium text-sm transition-colors",children:[l.jsx(qt,{size:16})," "]})]})]}),U==="gameplay"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ca,{size:14})," "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("button",{onClick:()=>{S(Ne.title),g(!0)},disabled:D,className:"text-gray-400 hover:text-indigo-600 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 disabled:opacity-50",children:[l.jsx(Gn,{size:12})," "]}),h!=="default"&&h!==""&&l.jsxs("button",{onClick:()=>J(h),className:"text-gray-400 hover:text-red-500 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100",children:[l.jsx(et,{size:12})," "]})]})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[ue.map(w=>D&&h===w.id?l.jsxs("div",{className:"flex items-center gap-2 bg-white border border-indigo-200 shadow-sm rounded-full px-2 py-1 animate-in fade-in",children:[l.jsx("input",{autoFocus:!0,type:"text",value:C,onChange:b=>S(b.target.value),onKeyDown:b=>b.key==="Enter"&&(ke({title:C}),g(!1)),onBlur:()=>g(!1),className:"bg-transparent border-none outline-none text-sm text-indigo-700 w-32 px-1 font-medium"}),l.jsx("button",{onClick:()=>{ke({title:C}),g(!1)},className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded-full",children:l.jsx(jt,{size:14})})]},w.id):l.jsx("button",{onClick:()=>{p(w.id),O(w.note),B(w.playerPersona||"")},className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap border-2 ${h===w.id?"bg-gray-900 text-white border-gray-900 shadow-md":"bg-white text-gray-600 border-gray-100 hover:border-gray-300"}`,children:w.title},w.id)),A?l.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 border border-indigo-200 rounded-full px-2 py-1 animate-in fade-in slide-in-from-left-2",children:[l.jsx("input",{autoFocus:!0,type:"text",value:R,onChange:w=>j(w.target.value),onKeyDown:w=>w.key==="Enter"&&Te(),placeholder:"...",className:"bg-transparent border-none outline-none text-sm text-indigo-700 w-24 px-1"}),l.jsx("button",{onClick:Te,className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded-full",children:l.jsx(jt,{size:14})}),l.jsx("button",{onClick:()=>m(!1),className:"p-1 text-gray-400 hover:bg-gray-200 rounded-full",children:l.jsx(Ke,{size:14})})]}):l.jsxs("button",{onClick:()=>{m(!0),g(!1)},className:"flex-shrink-0 px-3 py-2 rounded-full border border-dashed border-gray-300 text-gray-500 hover:border-indigo-400 hover:text-indigo-600 transition-all text-sm flex items-center gap-1",children:[l.jsx(Xt,{size:14})," "]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:`p-4 rounded-xl border ${me.color.replace("text-","bg-opacity-10 ")} flex flex-col items-center justify-center text-center gap-2 relative group`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(be,{size:24,className:me.color.split(" ")[0]}),l.jsxs("select",{value:De,onChange:w=>ke({status:w.target.value}),className:"appearance-none bg-transparent font-medium focus:outline-none cursor-pointer text-center hover:underline",children:[l.jsx("option",{value:"not_started",children:""}),l.jsx("option",{value:"in_progress",children:""}),l.jsx("option",{value:"finished",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold uppercase opacity-60",children:""})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 flex flex-col items-center justify-center text-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[l.jsx(Wl,{size:24,className:"text-gray-400"}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("input",{type:"number",min:"0",value:Oe,onChange:w=>ke({chatCount:parseInt(w.target.value)||0}),className:"w-16 bg-transparent text-center font-medium focus:bg-white focus:ring-2 focus:ring-indigo-100 rounded p-0.5 outline-none transition-all"}),l.jsx("span",{className:"font-medium",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase",children:""})]})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ls,{size:14})," "]}),L!==(Ne.playerPersona||"")&&l.jsxs("button",{onClick:()=>ke({playerPersona:L}),className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-indigo-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("textarea",{value:L,onChange:w=>B(w.target.value),onBlur:()=>ke({playerPersona:L}),className:"w-full bg-gray-50 border border-gray-200 px-4 py-3 rounded-xl text-gray-700 text-sm shadow-sm focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none resize-none min-h-[80px]",placeholder:"..."})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Bs,{size:14})," "]}),M!==Ne.note&&l.jsxs("button",{onClick:()=>ke({note:M}),className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-indigo-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("div",{className:"relative",children:l.jsx("textarea",{value:M,onChange:w=>O(w.target.value),onBlur:()=>ke({note:M}),className:"w-full bg-yellow-50/50 border border-yellow-100 p-4 rounded-xl text-gray-700 text-sm leading-relaxed whitespace-pre-line shadow-sm focus:bg-white focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all outline-none resize-none min-h-[120px]",placeholder:"..."})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," /"]}),l.jsxs("label",{className:"cursor-pointer text-xs text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(Zt,{size:12})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:Je})]})]}),Ne.gallery&&Ne.gallery.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ne.gallery.map((w,b)=>l.jsx("div",{className:"aspect-[16/9] rounded-lg overflow-hidden cursor-zoom-in border border-gray-100 bg-gray-50 shadow-sm hover:shadow-md transition-all group relative",onClick:()=>x(w),children:l.jsx("img",{src:w,alt:"Gallery",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"})},b))}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400 text-sm flex flex-col items-center gap-2",children:[l.jsx(gt,{size:24,className:"opacity-20"})," "]})]})]}),U==="assets"&&l.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-xl border border-indigo-100 text-sm text-gray-600 flex items-start gap-3",children:[l.jsx(gt,{size:20,className:"text-indigo-500 shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 mb-1",children:""}),l.jsx("p",{className:"leading-relaxed opacity-90",children:""})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," "]}),l.jsxs("label",{className:"cursor-pointer bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-all shadow-sm flex items-center gap-2 text-sm font-medium active:scale-95",children:[l.jsx(Zt,{size:16})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:it})]})]}),o.extraImages&&o.extraImages.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.extraImages.map((w,b)=>l.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-zoom-in border border-gray-200 bg-gray-50 shadow-sm hover:shadow-lg transition-all",onClick:()=>x(w),children:[l.jsx("img",{src:w,alt:"Asset",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:l.jsx("button",{className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-red-500/80 transition-colors",onClick:G=>{G.stopPropagation(),je(b)},title:"",children:l.jsx(et,{size:18})})})]},b))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 text-gray-400",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:l.jsx(gt,{size:32,className:"opacity-20"})}),l.jsx("p",{className:"font-medium text-gray-500",children:""})]})]})]}),U==="updates"&&l.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Qt,{size:14})," "]}),!k&&l.jsxs("button",{onClick:()=>W(!0),className:"text-xs bg-indigo-600 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:bg-indigo-700 transition-colors shadow-sm",children:[l.jsx(Xt,{size:14})," "]})]}),k&&l.jsxs("div",{className:"bg-white border border-indigo-100 rounded-xl p-5 shadow-sm space-y-4 animate-in fade-in slide-in-from-top-2",children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-3",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:""}),l.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ke,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:c,onChange:w=>I(w.target.value),placeholder:"v1.0.0",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:Z,onChange:w=>Y(w.target.value),placeholder:"...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2",children:" ()"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Ka,{size:14,className:"text-indigo-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.css,.zip",className:"hidden",onChange:w=>ge(w,"worldbook")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(jl,{size:14,className:"text-indigo-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.png,.webp",className:"hidden",onChange:w=>ge(w,"character")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(vl,{size:14,className:"text-purple-500"})," +  ",l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:w=>ge(w,"shortcut")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Sa,{size:14,className:"text-orange-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.txt",className:"hidden",onChange:w=>ge(w,"regex")})]})]}),pe.length>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:pe.map(w=>l.jsxs("div",{className:"bg-white text-gray-700 px-2 py-1 rounded text-xs flex items-center gap-2 border border-gray-200 shadow-sm",children:[l.jsx("span",{className:"truncate max-w-[150px] font-mono",children:w.name}),l.jsx("button",{onClick:()=>ie(b=>b.filter(G=>G.id!==w.id)),className:"hover:text-red-500 ml-1 text-gray-400",children:l.jsx(Ke,{size:12})})]},w.id))})]}),l.jsx("div",{className:"flex justify-end pt-2",children:l.jsxs("button",{onClick:le,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:[l.jsx(At,{size:16})," "]})})]}),l.jsx("div",{className:"space-y-4",children:o.updates&&o.updates.length>0?o.updates.map(w=>l.jsxs("div",{className:"border border-gray-100 rounded-xl bg-gray-50/30 hover:bg-white hover:border-gray-200 transition-all group overflow-hidden",children:[l.jsxs("div",{onClick:()=>y(b=>b.includes(w.id)?b.filter(G=>G!==w.id):[...b,w.id]),className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50/80 transition-colors select-none",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-200 ${he.includes(w.id)?"rotate-90":""}`}),l.jsx("span",{className:"bg-gray-800 text-white px-2 py-0.5 rounded text-xs font-bold tracking-wide shrink-0",children:w.version}),l.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 shrink-0",children:[l.jsx(wl,{size:12})," ",w.date]}),!he.includes(w.id)&&w.note&&l.jsx("span",{className:"text-xs text-gray-400 truncate ml-2 opacity-80",children:w.note})]}),l.jsx("button",{onClick:b=>{b.stopPropagation(),ne(w.id)},className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"",children:l.jsx(et,{size:14})})]}),he.includes(w.id)&&l.jsxs("div",{className:"px-5 pb-5 pt-0 animate-in slide-in-from-top-1 fade-in duration-200",children:[l.jsx("div",{className:"h-px bg-gray-100 mb-4 w-full"}),w.note&&l.jsx("p",{className:"text-sm text-gray-700 mb-4 ml-1 leading-relaxed",children:w.note}),w.assets.length>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:w.assets.map(b=>l.jsxs("button",{onClick:()=>E(b),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-indigo-300 hover:text-indigo-600 transition-colors shadow-sm text-left",children:[l.jsx("span",{className:"font-medium truncate flex-1",children:b.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},b.id))})]})]},w.id)):!k&&l.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[l.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-20"})," "]})})]})]}),l.jsxs("div",{className:"p-4 sm:p-6 border-t border-gray-100 bg-white flex flex-col sm:flex-row gap-3 flex-shrink-0",children:[l.jsxs("button",{className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all shadow-lg shadow-indigo-200",children:[l.jsx(qt,{size:18}),""]}),d&&l.jsxs("button",{onClick:()=>d({...o,isFavorite:!o.isFavorite}),className:`flex-1 sm:flex-none px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors border ${o.isFavorite?"bg-red-50 border-red-200 text-red-500":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(_l,{size:18,fill:o.isFavorite?"currentColor":"none"}),o.isFavorite?"":""]}),f&&l.jsxs("button",{onClick:f,className:"flex-1 sm:flex-none bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 px-4 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",children:[l.jsx(Yn,{size:18}),""]})]})]}),z&&l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>x(null),children:l.jsxs("div",{className:"relative max-w-full max-h-full",children:[l.jsx("img",{src:z,alt:"Preview",className:"max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain",onClick:w=>w.stopPropagation()}),l.jsx("button",{className:"absolute -top-12 right-0 text-white/70 hover:text-white p-2 hover:bg-white/10 rounded-full transition-colors",onClick:()=>x(null),children:l.jsx(Ke,{size:32})})]})}),oe&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>J(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:Ye,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),de!==null&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>je(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:u,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),T&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>ne(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:H,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})})]})},vp=({preset:o,onClick:Ce,isSelectionMode:d,isSelected:f})=>l.jsxs("div",{className:`
        group bg-white rounded-xl border p-5 transition-all duration-300 cursor-pointer flex flex-col h-full relative
        ${d?f?"border-indigo-500 ring-2 ring-indigo-500/20 shadow-md":"border-gray-200 opacity-80 hover:opacity-100":"border-gray-200 hover:border-indigo-300 hover:shadow-md"}
      `,onClick:()=>Ce(o),children:[d&&l.jsx("div",{className:"absolute top-3 right-3 z-20",children:l.jsx("div",{className:`
                  w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors shadow-sm
                  ${f?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}
              `,children:f&&l.jsx(jt,{size:14,className:"text-white"})})}),l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex items-start gap-3 overflow-hidden",children:[l.jsx("div",{className:`
                w-10 h-10 rounded-lg bg-slate-100 flex-shrink-0 flex items-center justify-center text-slate-600 transition-colors
                ${!d&&"group-hover:bg-slate-700 group-hover:text-white"}
            `,children:l.jsx(Hn,{size:20})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:`text-base font-bold text-gray-900 truncate transition-colors ${!d&&"group-hover:text-indigo-600"}`,title:o.title,children:o.title}),l.jsxs("div",{className:"text-[10px] text-gray-400 font-mono mt-0.5",children:["v",o.version]})]})]})}),l.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 mb-4 flex-1 leading-relaxed",children:o.description||"..."}),l.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-gray-50",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-400",children:[l.jsx(Vt,{size:12}),l.jsx("span",{className:"truncate max-w-[80px]",children:o.creator})]}),l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-medium text-slate-600 bg-slate-50 px-2 py-0.5 rounded-full",children:[l.jsx(kc,{size:10}),"CONFIG"]})]})]}),jp=({preset:o,onClose:Ce,onUpdate:d,onEdit:f})=>{const[U,v]=K.useState("info"),[z,x]=K.useState(null),[h,p]=K.useState(""),[A,m]=K.useState(!1),[R,j]=K.useState(""),[D,g]=K.useState(!1),[C,S]=K.useState(""),[M,O]=K.useState(""),[L,B]=K.useState(""),[$,Q]=K.useState(""),[oe,J]=K.useState(null),[de,je]=K.useState(null),[k,W]=K.useState(!1),[c,I]=K.useState(""),[Z,Y]=K.useState(""),[pe,ie]=K.useState([]),[he,y]=K.useState([]),[T,ne]=K.useState(null);if(K.useEffect(()=>{if(o&&U==="gameplay"){const _=o.playthroughs||[];if(_.length>0)if(!h||!_.find(w=>w.id===h)){const w=_[0];p(w.id),O(w.note||""),B(w.playerPersona||""),Q(w.memoir||"")}else{const w=_.find(b=>b.id===h);w&&(O(w.note||""),B(w.playerPersona||""),Q(w.memoir||""))}else p("default"),O(""),B(""),Q("")}},[o,U,h]),!o)return null;const ce=()=>{let _="txt";try{JSON.parse(o.content),_="json"}catch{}const w=new Blob([o.content],{type:"text/plain"}),b=URL.createObjectURL(w),G=document.createElement("a");G.href=b,G.download=`${o.title}.${_}`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(b)},Ne=o.playthroughs&&o.playthroughs.length>0?o.playthroughs:[{id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status||"not_started",chatCount:o.chatCount||0,playerPersona:"",memoir:""}],De=Ne.find(_=>_.id===h)||Ne[0],Oe=De.status||o.status||"not_started",ke=De.chatCount!==void 0?De.chatCount:o.chatCount||0,Te=_=>{if(!d)return;let w=[...o.playthroughs||[]];if(w.length===0)w=[{id:"default",title:"",note:M,gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:L,memoir:$,..._}];else{const b=w.findIndex(G=>G.id===h);b>=0&&(w[b]={...w[b],..._})}d({...o,status:_.status||o.status,chatCount:_.chatCount!==void 0?_.chatCount:o.chatCount,playthroughs:w})},Ye=()=>{if(!R.trim()||!d)return;const _=Date.now().toString(),w={id:_,title:R,note:"",gallery:[],status:"not_started",chatCount:0,playerPersona:"",memoir:""};let b=[...o.playthroughs||[]];b.length===0&&b.push({id:"default",title:"",note:"",gallery:o.gallery||[],status:o.status,chatCount:o.chatCount,playerPersona:"",memoir:""}),b.push(w),d({...o,playthroughs:b}),j(""),m(!1),p(_)},Je=()=>{if(!oe||!d)return;let _=(o.playthroughs||[]).filter(w=>w.id!==oe);d({...o,playthroughs:_}),_.length>0?p(_[0].id):p("default"),J(null)},it=_=>{if(_.target.files&&_.target.files.length>0&&d){const w=[],b=Array.from(_.target.files);let G=0;b.forEach(we=>{const Se=new FileReader;Se.onload=Ze=>{var He;if((He=Ze.target)!=null&&He.result&&w.push(Ze.target.result),G++,G===b.length){const qe=[...De.gallery||[],...w];Te({gallery:qe}),(h==="default"||o.playthroughs&&o.playthroughs.length===0)&&d({...o,gallery:qe,playthroughs:[{id:"default",title:"",note:M,gallery:qe,status:Oe,chatCount:ke,playerPersona:L,memoir:$}]})}},Se.readAsDataURL(we)})}},u=_=>{if(_.target.files&&_.target.files.length>0&&d){const w=[],b=Array.from(_.target.files);let G=0;b.forEach(we=>{const Se=new FileReader;Se.onload=Ze=>{var He;if((He=Ze.target)!=null&&He.result&&w.push(Ze.target.result),G++,G===b.length){const qe=[...o.extraImages||[],...w];d({...o,extraImages:qe})}},Se.readAsDataURL(we)})}},ge=()=>{if(de!==null&&d){const _=(o.extraImages||[]).filter((w,b)=>b!==de);d({...o,extraImages:_}),je(null)}},le=(_,w)=>{if(_.target.files&&_.target.files[0]){const b=_.target.files[0],G=new FileReader,we=b.type.startsWith("image/");G.onload=Se=>{var He;const Ze=(He=Se.target)==null?void 0:He.result;Ze&&ie(qe=>[...qe,{id:Date.now().toString(),name:b.name,type:w,content:Ze}])},we?G.readAsDataURL(b):G.readAsText(b)}_.target.value=""},H=()=>{if(!c.trim()||!d)return;const _={id:Date.now().toString(),version:c,date:new Date().toISOString().split("T")[0],note:Z,assets:pe},w=[_,...o.updates||[]];d({...o,updates:w,version:c}),y(b=>[_.id,...b]),I(""),Y(""),ie([]),W(!1)},E=()=>{if(T&&d){const _=(o.updates||[]).filter(w=>w.id!==T);d({...o,updates:_}),ne(null)}},V=_=>{if(_.content.startsWith("data:")){const w=document.createElement("a");w.href=_.content,w.download=_.name,document.body.appendChild(w),w.click(),document.body.removeChild(w)}else{const w=new Blob([_.content],{type:"text/plain"}),b=URL.createObjectURL(w),G=document.createElement("a");G.href=b,G.download=_.name,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(b)}},be=(_=>{switch(_){case"in_progress":return{icon:Fl,label:"",color:"text-emerald-600 bg-emerald-50 border-emerald-100"};case"finished":return{icon:jt,label:"",color:"text-gray-500 bg-gray-100 border-gray-200"};case"not_started":default:return{icon:$l,label:"",color:"text-blue-500 bg-blue-50 border-blue-100"}}})(Oe),P=be.icon;return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:Ce}),l.jsxs("div",{className:"relative bg-[#faf9f6] w-full max-w-4xl h-[90vh] rounded-xl shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200 border border-gray-200",children:[l.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-b border-gray-200 bg-white",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"bg-slate-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-sm flex items-center gap-1",children:[l.jsx(kc,{size:10})," CONFIG"]}),l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o.title}),o.version&&l.jsxs("span",{className:"text-xs text-gray-400 font-mono self-end mb-0.5",children:["v",o.version]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Vt,{size:12})," ",o.creator]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(wl,{size:12})," ",o.date]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[d&&l.jsx("button",{onClick:()=>d({...o,isFavorite:!o.isFavorite}),className:`p-2 rounded-full transition-colors ${o.isFavorite?"bg-red-50 text-red-500 hover:bg-red-100":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:o.isFavorite?"":"",children:l.jsx(_l,{size:20,fill:o.isFavorite?"currentColor":"none"})}),l.jsx("button",{onClick:Ce,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:l.jsx(Ke,{size:20})})]})]}),l.jsx("div",{className:"flex gap-1 -mb-4 overflow-x-auto no-scrollbar",children:[{id:"info",label:"",icon:Kl},{id:"gameplay",label:"",icon:Ca},{id:"assets",label:"",icon:gt},{id:"updates",label:"",icon:Qt}].map(_=>l.jsxs("button",{onClick:()=>v(_.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-all whitespace-nowrap
                            ${U===_.id?"border-slate-600 text-slate-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[l.jsx(_.icon,{size:16})," ",_.label]},_.id))})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-0 sm:p-8 bg-[#faf9f6]",children:[U==="info"&&l.jsx("div",{className:"max-w-2xl mx-auto bg-white shadow-sm border border-gray-100 min-h-[200px] p-6 sm:p-10 relative flex flex-col animate-in fade-in slide-in-from-bottom-2 duration-300",children:l.jsxs("div",{className:"mb-0",children:[l.jsx("div",{className:"text-sm text-gray-500 italic mb-4 bg-gray-50 p-3 rounded-lg border border-gray-100 leading-relaxed",children:o.description||""}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:o.tags.map((_,w)=>l.jsxs("span",{className:"text-[10px] text-gray-500 border border-gray-200 px-2 py-1 rounded-full flex items-center gap-1 whitespace-nowrap",children:[l.jsx(Hs,{size:10})," ",_]},w))})]})}),U==="gameplay"&&l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-6 sm:p-0 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ca,{size:14})," "]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("button",{onClick:()=>{S(De.title),g(!0)},disabled:D,className:"text-gray-400 hover:text-slate-600 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 disabled:opacity-50",children:[l.jsx(Gn,{size:12})," "]}),h!=="default"&&h!==""&&l.jsxs("button",{onClick:()=>J(h),className:"text-gray-400 hover:text-red-500 transition-colors text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100",children:[l.jsx(et,{size:12})," "]})]})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:[Ne.map(_=>D&&h===_.id?l.jsxs("div",{className:"flex items-center gap-2 bg-white border border-slate-200 shadow-sm rounded-full px-2 py-1 animate-in fade-in",children:[l.jsx("input",{autoFocus:!0,type:"text",value:C,onChange:w=>S(w.target.value),onKeyDown:w=>w.key==="Enter"&&(Te({title:C}),g(!1)),onBlur:()=>g(!1),className:"bg-transparent border-none outline-none text-sm text-slate-700 w-32 px-1 font-medium"}),l.jsx("button",{onClick:()=>{Te({title:C}),g(!1)},className:"p-1 text-slate-600 hover:bg-slate-100 rounded-full",children:l.jsx(jt,{size:14})})]},_.id):l.jsx("button",{onClick:()=>{p(_.id),O(_.note),B(_.playerPersona||"")},className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap border-2 ${h===_.id?"bg-gray-900 text-white border-gray-900 shadow-md":"bg-white text-gray-600 border-gray-100 hover:border-gray-300"}`,children:_.title},_.id)),A?l.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-full px-2 py-1 animate-in fade-in slide-in-from-left-2",children:[l.jsx("input",{autoFocus:!0,type:"text",value:R,onChange:_=>j(_.target.value),onKeyDown:_=>_.key==="Enter"&&Ye(),placeholder:"...",className:"bg-transparent border-none outline-none text-sm text-slate-700 w-24 px-1"}),l.jsx("button",{onClick:Ye,className:"p-1 text-slate-600 hover:bg-slate-100 rounded-full",children:l.jsx(jt,{size:14})}),l.jsx("button",{onClick:()=>m(!1),className:"p-1 text-gray-400 hover:bg-gray-200 rounded-full",children:l.jsx(Ke,{size:14})})]}):l.jsxs("button",{onClick:()=>{m(!0),g(!1)},className:"flex-shrink-0 px-3 py-2 rounded-full border border-dashed border-gray-300 text-gray-500 hover:border-slate-400 hover:text-slate-600 transition-all text-sm flex items-center gap-1",children:[l.jsx(Xt,{size:14})," "]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:`p-4 rounded-xl border bg-white ${be.color.replace("text-","bg-opacity-10 ")} flex flex-col items-center justify-center text-center gap-2 relative group`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(P,{size:24,className:be.color.split(" ")[0]}),l.jsxs("select",{value:Oe,onChange:_=>Te({status:_.target.value}),className:"appearance-none bg-transparent font-medium focus:outline-none cursor-pointer text-center hover:underline",children:[l.jsx("option",{value:"not_started",children:""}),l.jsx("option",{value:"in_progress",children:""}),l.jsx("option",{value:"finished",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold uppercase opacity-60",children:""})]}),l.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-white flex flex-col items-center justify-center text-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[l.jsx(Wl,{size:24,className:"text-gray-400"}),l.jsxs("div",{className:"flex items-baseline gap-1",children:[l.jsx("input",{type:"number",min:"0",value:ke,onChange:_=>Te({chatCount:parseInt(_.target.value)||0}),className:"w-16 bg-transparent text-center font-medium focus:bg-gray-50 focus:ring-2 focus:ring-slate-100 rounded p-0.5 outline-none transition-all"}),l.jsx("span",{className:"font-medium",children:""})]})]}),l.jsx("div",{className:"text-xs font-bold text-gray-500 uppercase",children:""})]})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Ls,{size:14})," "]}),L!==(De.playerPersona||"")&&l.jsxs("button",{onClick:()=>Te({playerPersona:L}),className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-slate-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("textarea",{value:L,onChange:_=>B(_.target.value),onBlur:()=>Te({playerPersona:L}),className:"w-full bg-white border border-gray-200 px-4 py-3 rounded-xl text-gray-700 text-sm shadow-sm focus:bg-white focus:border-slate-500 focus:ring-4 focus:ring-slate-500/10 transition-all outline-none resize-none min-h-[80px]",placeholder:" Claude 3 Opus..."})]}),l.jsxs("div",{className:"space-y-2 group",children:[l.jsxs("div",{className:"flex justify-between items-end",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Bs,{size:14})," "]}),M!==De.note&&l.jsxs("button",{onClick:()=>Te({note:M}),className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-slate-200 transition-colors animate-in fade-in",children:[l.jsx(At,{size:12})," "]})]}),l.jsx("div",{className:"relative",children:l.jsx("textarea",{value:M,onChange:_=>O(_.target.value),onBlur:()=>Te({note:M}),className:"w-full bg-yellow-50/50 border border-yellow-100 p-4 rounded-xl text-gray-700 text-sm leading-relaxed whitespace-pre-line shadow-sm focus:bg-white focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all outline-none resize-none min-h-[120px]",placeholder:"..."})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," "]}),l.jsxs("label",{className:"cursor-pointer text-xs text-slate-600 hover:text-slate-800 bg-slate-50 hover:bg-slate-100 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[l.jsx(Zt,{size:12})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:it})]})]}),De.gallery&&De.gallery.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:De.gallery.map((_,w)=>l.jsx("div",{className:"aspect-[16/9] rounded-lg overflow-hidden cursor-zoom-in border border-gray-100 bg-gray-50 shadow-sm hover:shadow-md transition-all group relative",onClick:()=>x(_),children:l.jsx("img",{src:_,alt:"Gallery",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"})},w))}):l.jsxs("div",{className:"text-center py-8 bg-white rounded-xl border border-dashed border-gray-200 text-gray-400 text-sm flex flex-col items-center gap-2",children:[l.jsx(gt,{size:24,className:"opacity-20"})," "]})]})]}),U==="assets"&&l.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-6 sm:p-0 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"bg-slate-50/50 p-4 rounded-xl border border-slate-100 text-sm text-gray-600 flex items-start gap-3",children:[l.jsx(gt,{size:20,className:"text-slate-500 shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800 mb-1",children:""}),l.jsx("p",{className:"leading-relaxed opacity-90",children:"API"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(gt,{size:14})," "]}),l.jsxs("label",{className:"cursor-pointer bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-lg transition-all shadow-sm flex items-center gap-2 text-sm font-medium active:scale-95",children:[l.jsx(Zt,{size:16})," ",l.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:u})]})]}),o.extraImages&&o.extraImages.length>0?l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.extraImages.map((_,w)=>l.jsxs("div",{className:"group relative aspect-[3/4] rounded-xl overflow-hidden cursor-zoom-in border border-gray-200 bg-white shadow-sm hover:shadow-lg transition-all",onClick:()=>x(_),children:[l.jsx("img",{src:_,alt:"Asset",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:l.jsx("button",{className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-red-500/80 transition-colors",onClick:b=>{b.stopPropagation(),je(w)},title:"",children:l.jsx(et,{size:18})})})]},w))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-xl border-2 border-dashed border-gray-200 text-gray-400",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mb-4",children:l.jsx(gt,{size:32,className:"opacity-20"})}),l.jsx("p",{className:"font-medium text-gray-500",children:""})]})]})]}),U==="updates"&&l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 p-6 sm:p-0 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[l.jsx(Qt,{size:14})," "]}),!k&&l.jsxs("button",{onClick:()=>W(!0),className:"text-xs bg-slate-600 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:bg-slate-700 transition-colors shadow-sm",children:[l.jsx(Xt,{size:14})," "]})]}),k&&l.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-5 shadow-sm space-y-4 animate-in fade-in slide-in-from-top-2",children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-3",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:""}),l.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ke,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:c,onChange:_=>I(_.target.value),placeholder:"v1.0.0",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-slate-500 focus:ring-1 focus:ring-slate-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),l.jsx("input",{type:"text",value:Z,onChange:_=>Y(_.target.value),placeholder:"...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:border-slate-500 focus:ring-1 focus:ring-slate-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2",children:" ()"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(kc,{size:14,className:"text-slate-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.txt",className:"hidden",onChange:_=>le(_,"worldbook")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(jl,{size:14,className:"text-indigo-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.png,.webp",className:"hidden",onChange:_=>le(_,"character")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(vl,{size:14,className:"text-purple-500"})," +  ",l.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:_=>le(_,"shortcut")})]}),l.jsxs("label",{className:"cursor-pointer bg-gray-50 hover:bg-gray-100 text-gray-600 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 transition-colors border border-gray-200",children:[l.jsx(Sa,{size:14,className:"text-orange-500"})," +  ",l.jsx("input",{type:"file",accept:".json,.txt",className:"hidden",onChange:_=>le(_,"regex")})]})]}),pe.length>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:pe.map(_=>l.jsxs("div",{className:"bg-white text-gray-700 px-2 py-1 rounded text-xs flex items-center gap-2 border border-gray-200 shadow-sm",children:[l.jsx("span",{className:"truncate max-w-[150px] font-mono",children:_.name}),l.jsx("button",{onClick:()=>ie(w=>w.filter(b=>b.id!==_.id)),className:"hover:text-red-500 ml-1 text-gray-400",children:l.jsx(Ke,{size:12})})]},_.id))})]}),l.jsx("div",{className:"flex justify-end pt-2",children:l.jsxs("button",{onClick:H,className:"bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm",children:[l.jsx(At,{size:16})," "]})})]}),l.jsx("div",{className:"space-y-4",children:o.updates&&o.updates.length>0?o.updates.map(_=>l.jsxs("div",{className:"border border-gray-100 rounded-xl bg-white hover:border-gray-200 transition-all group overflow-hidden",children:[l.jsxs("div",{onClick:()=>y(w=>w.includes(_.id)?w.filter(b=>b!==_.id):[...w,_.id]),className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50/80 transition-colors select-none",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.jsx(Nl,{size:16,className:`text-gray-400 transition-transform duration-200 ${he.includes(_.id)?"rotate-90":""}`}),l.jsx("span",{className:"bg-gray-800 text-white px-2 py-0.5 rounded text-xs font-bold tracking-wide shrink-0",children:_.version}),l.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 shrink-0",children:[l.jsx(wl,{size:12})," ",_.date]}),!he.includes(_.id)&&_.note&&l.jsx("span",{className:"text-xs text-gray-400 truncate ml-2 opacity-80",children:_.note})]}),l.jsx("button",{onClick:w=>{w.stopPropagation(),ne(_.id)},className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"",children:l.jsx(et,{size:14})})]}),he.includes(_.id)&&l.jsxs("div",{className:"px-5 pb-5 pt-0 animate-in slide-in-from-top-1 fade-in duration-200",children:[l.jsx("div",{className:"h-px bg-gray-100 mb-4 w-full"}),_.note&&l.jsx("p",{className:"text-sm text-gray-700 mb-4 ml-1 leading-relaxed",children:_.note}),_.assets.length>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_.assets.map(w=>l.jsxs("button",{onClick:()=>V(w),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-xs text-gray-600 hover:border-slate-300 hover:text-slate-600 transition-colors shadow-sm text-left",children:[l.jsx("span",{className:"font-medium truncate flex-1",children:w.name}),l.jsx(qt,{size:12,className:"opacity-40 shrink-0"})]},w.id))})]})]},_.id)):!k&&l.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm bg-white rounded-xl border border-dashed border-gray-200",children:[l.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-20"})," "]})})]})]}),l.jsx("div",{className:"flex-shrink-0 px-6 py-3 border-t border-gray-200 bg-white flex justify-between items-center",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors shadow-sm",children:[l.jsx(qt,{size:14})," "]}),f&&l.jsxs("button",{onClick:f,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx(Yn,{size:14})," "]}),l.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx(K0,{size:14})," "]})]})})]}),z&&l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>x(null),children:l.jsxs("div",{className:"relative max-w-full max-h-full",children:[l.jsx("img",{src:z,alt:"Preview",className:"max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain",onClick:_=>_.stopPropagation()}),l.jsx("button",{className:"absolute -top-12 right-0 text-white/70 hover:text-white p-2 hover:bg-white/10 rounded-full transition-colors",onClick:()=>x(null),children:l.jsx(Ke,{size:32})})]})}),oe&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>J(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:Je,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),de!==null&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>je(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:ge,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})}),T&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>ne(null),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg",children:""}),l.jsx("button",{onClick:E,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg",children:""})]})]})})]})},Np=({onClose:o,onSave:Ce,initialTab:d="create",characterToEdit:f,existingCategories:U=[]})=>{var je;const[v,z]=K.useState(d),[x,h]=K.useState(!1),[p,A]=K.useState(null),[m,R]=K.useState({name:(f==null?void 0:f.name)||"",description:(f==null?void 0:f.description)||"",creator:(f==null?void 0:f.creator)||"User",version:(f==null?void 0:f.version)||"1.0.0",tags:(f==null?void 0:f.tags)||[],categories:(f==null?void 0:f.categories)||(f!=null&&f.category?[f.category]:[]),avatar:(f==null?void 0:f.avatar)||"",source:(f==null?void 0:f.source)||"",sourceUrl:(f==null?void 0:f.sourceUrl)||"",status:(f==null?void 0:f.status)||"not_started",chatCount:(f==null?void 0:f.chatCount)||0,playthroughs:(f==null?void 0:f.playthroughs)||[],note:(f==null?void 0:f.note)||"",gallery:(f==null?void 0:f.gallery)||[],data:(f==null?void 0:f.data)||""}),[j,D]=K.useState(""),g=K.useRef(null),C=K.useRef(null),S=async k=>{A(null);const W=k.type,c=k.name.replace(/\.[^/.]+$/,"");if(W==="application/json"){const I=new FileReader;I.onload=Z=>{var Y;try{const pe=(Y=Z.target)==null?void 0:Y.result,ie=JSON.parse(pe),he=ie.data||ie;R(y=>{var T;return{...y,name:he.name||he.char_name||c,description:he.description||he.char_persona||"",creator:he.creator||"Unknown",version:he.character_version||"1.0.0",tags:he.tags||[],categories:[],avatar:y.avatar||"https://picsum.photos/400/600?random="+Math.floor(Math.random()*1e3),source:he.source||"",sourceUrl:he.source_url||((T=he.character_book)==null?void 0:T.source_url)||"",status:"not_started",chatCount:0,playthroughs:[],gallery:[],note:"",data:pe}}),z("create")}catch{A("JSON ")}},I.readAsText(k)}else if(W.startsWith("image/")){const I=new FileReader;I.onload=Z=>{var pe;const Y=(pe=Z.target)==null?void 0:pe.result;R(ie=>({...ie,name:c,description:"",avatar:Y,status:"not_started",chatCount:0,playthroughs:[],gallery:[],note:"",data:Y})),z("create")},I.readAsDataURL(k)}else A(" .json  .png ")},M=k=>{if(k.target.files&&k.target.files[0]){const W=new FileReader;W.onload=c=>{R(I=>{var Z;return{...I,avatar:(Z=c.target)==null?void 0:Z.result}})},W.readAsDataURL(k.target.files[0])}},O=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?h(!0):k.type==="dragleave"&&h(!1)},L=k=>{k.preventDefault(),k.stopPropagation(),h(!1),k.dataTransfer.files&&k.dataTransfer.files[0]&&S(k.dataTransfer.files[0])},B=()=>{if(!m.name){A(""),v==="import"&&z("create");return}let k=m.data;if(!k){const c={spec:"chara_card_v2",spec_version:"2.0",data:{name:m.name,description:m.description,creator:m.creator,character_version:m.version,tags:m.tags,source:m.source,alternate_names:[],scenario:"",first_mes:"",mes_example:"",system_prompt:"",post_history_instructions:"",creator_notes:"",personality:""}};k=JSON.stringify(c,null,2)}const W={id:f?f.id:Date.now().toString(),resourceType:"character",name:m.name,description:m.description||"",avatar:m.avatar||"https://picsum.photos/400/600?grayscale",tags:m.tags||[""],categories:m.categories||[],creator:m.creator||"User",version:m.version||"1.0",source:m.source||"",sourceUrl:m.sourceUrl||"",status:m.status||"not_started",chatCount:m.chatCount||0,playthroughs:m.playthroughs||[],note:m.note||"",gallery:m.gallery||[],data:k};Ce(W),o()},$=k=>{const W=m.categories||[],c=W.includes(k)?W.filter(I=>I!==k):[...W,k];R({...m,categories:c})},Q=()=>{if(!j.trim())return;const k=j.trim(),W=m.categories||[];W.includes(k)||R({...m,categories:[...W,k]}),D("")},oe=()=>v==="import"?"":m.name?`: ${m.name}`:"",J=["","","","","","","","",""],de=Array.from(new Set([...J,...U]));return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center sm:p-6 bg-white sm:bg-transparent",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity hidden sm:block",onClick:o}),l.jsxs("div",{className:"relative bg-white w-full max-w-5xl h-full sm:h-[85vh] sm:rounded-2xl sm:shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"flex-shrink-0 px-4 py-3 border-b border-gray-100 flex items-center justify-between sm:hidden z-10 bg-white",children:[l.jsx("button",{onClick:o,className:"p-2 -ml-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})}),l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:oe()}),v!=="import"?l.jsx("button",{onClick:B,className:"text-indigo-600 font-medium text-sm px-2 py-1",children:""}):l.jsx("div",{className:"w-8"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto sm:overflow-hidden flex flex-col md:flex-row relative",children:[l.jsxs("div",{className:"w-full md:w-[360px] bg-gray-100 flex-shrink-0 relative group border-r border-gray-200 sm:h-full",children:[m.avatar?l.jsxs("div",{className:"relative w-full h-64 md:h-full",children:[l.jsx("img",{src:m.avatar,alt:"Avatar Preview",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsxs("button",{onClick:()=>{var k;return(k=C.current)==null?void 0:k.click()},className:"px-4 py-2 bg-white/20 backdrop-blur-md border border-white/40 text-white rounded-lg hover:bg-white/30 transition-colors flex items-center gap-2",children:[l.jsx(Zt,{size:18})," "]})})]}):l.jsxs("div",{className:"w-full h-64 md:h-full flex flex-col items-center justify-center text-gray-400 cursor-pointer hover:bg-gray-200 transition-colors p-6 text-center",onClick:()=>{var k;return(k=C.current)==null?void 0:k.click()},children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center mb-4",children:l.jsx(Va,{size:32})}),l.jsx("p",{className:"font-medium text-gray-500",children:""}),l.jsx("p",{className:"text-xs mt-2 opacity-70",children:" JPG, PNG, WebP"})]}),l.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:M})]}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white h-full",children:[l.jsx("div",{className:"flex-shrink-0 border-b border-gray-100 hidden sm:block bg-white z-10",children:l.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:oe()}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})})]})}),l.jsx("div",{className:"flex-1 sm:overflow-y-auto p-4 sm:p-8 pb-24 sm:pb-8 bg-gray-50/30",children:v==="import"?l.jsx("div",{className:"h-full flex flex-col justify-center min-h-[400px]",children:l.jsxs("div",{className:`
                          flex-1 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center p-12 transition-all max-h-[500px]
                          ${x?"border-indigo-500 bg-indigo-50 scale-[0.99]":"border-gray-200 hover:border-indigo-300 hover:bg-white bg-white"}
                        `,onDragEnter:O,onDragLeave:O,onDragOver:O,onDrop:L,onClick:()=>{var k;return(k=g.current)==null?void 0:k.click()},children:[l.jsx("input",{ref:g,type:"file",className:"hidden",accept:".json,.png,.webp",onChange:k=>k.target.files&&k.target.files[0]&&S(k.target.files[0])}),l.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-50 text-indigo-500 flex items-center justify-center mb-6 shadow-sm",children:l.jsx(Zt,{size:48})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:""}),l.jsx("p",{className:"text-gray-500 text-center max-w-sm mb-8 leading-relaxed",children:" TavernPNG ()  JSON "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 text-xs rounded-full font-mono",children:".png"}),l.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 text-xs rounded-full font-mono",children:".json"}),l.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 text-xs rounded-full font-mono",children:".webp"})]})]})}):l.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p&&l.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm rounded-xl flex items-center gap-2 border border-red-100 animate-in slide-in-from-top-2",children:[l.jsx(qn,{size:18})," ",p]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm space-y-6",children:[l.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2 pb-2 border-b border-gray-50",children:[l.jsx(Kl,{size:16,className:"text-indigo-500"})," "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vt,{size:14}),"  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:m.name,onChange:k=>R({...m,name:k.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none font-medium",placeholder:"..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vt,{size:14})," "]}),l.jsx("input",{type:"text",value:m.creator,onChange:k=>R({...m,creator:k.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"..."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Q0,{size:14}),"  ()"]}),l.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:de.map(k=>{var c;const W=(c=m.categories)==null?void 0:c.includes(k);return l.jsxs("button",{onClick:()=>$(k),className:`
                                                        px-3 py-1.5 rounded-lg text-xs font-medium border transition-all flex items-center gap-1.5
                                                        ${W?"bg-indigo-600 text-white border-indigo-600 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-indigo-300 hover:text-indigo-600"}
                                                    `,children:[k,W&&l.jsx(rr,{size:12})]},k)})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:j,onChange:k=>D(k.target.value),onKeyDown:k=>k.key==="Enter"&&Q(),placeholder:"...",className:"flex-1 px-3 py-2 text-sm bg-white border border-gray-200 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/10 outline-none"}),l.jsx("button",{onClick:Q,disabled:!j.trim(),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:""})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vl,{size:14})," "]}),l.jsx("textarea",{value:m.description,onChange:k=>R({...m,description:k.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none min-h-[120px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Jl,{size:14}),"  (Tags)"]}),l.jsx("input",{type:"text",value:(je=m.tags)==null?void 0:je.join(", "),onChange:k=>R({...m,tags:k.target.value.split(",").map(W=>W.trim()).filter(Boolean)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:", ,  ()"})]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm space-y-6",children:[l.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2 pb-2 border-b border-gray-50",children:[l.jsx(T0,{size:16,className:"text-indigo-500"})," "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Zn,{size:14})," "]}),l.jsx("input",{type:"text",value:m.source,onChange:k=>R({...m,source:k.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"Twitter, Pixiv, Discord..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Bn,{size:14})," "]}),l.jsx("input",{type:"text",value:m.sourceUrl,onChange:k=>R({...m,sourceUrl:k.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"https://..."})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(T0,{size:14}),"  ()"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:m.status,onChange:k=>R({...m,status:k.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none appearance-none cursor-pointer",children:[l.jsx("option",{value:"not_started",children:""}),l.jsx("option",{value:"in_progress",children:""}),l.jsx("option",{value:"finished",children:""})]}),l.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none text-gray-400",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Wl,{size:14}),"  ()"]}),l.jsx("input",{type:"number",min:"0",value:m.chatCount,onChange:k=>R({...m,chatCount:parseInt(k.target.value)||0}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"0"})]})]})]})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-100 bg-white hidden sm:flex justify-end gap-3 z-10",children:[l.jsx("button",{onClick:o,className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:""}),v!=="import"&&l.jsxs("button",{onClick:B,className:"px-6 py-2.5 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-200 transition-transform active:scale-95 flex items-center gap-2",children:[l.jsx(At,{size:18}),m.name?"":""]})]})]})]})]})]})},wp=({onClose:o,onSave:Ce,initialTab:d="create",bookToEdit:f})=>{var M;const[U,v]=K.useState(d),[z,x]=K.useState(!1),[h,p]=K.useState(null),[A,m]=K.useState({title:(f==null?void 0:f.title)||"",description:(f==null?void 0:f.description)||"",creator:(f==null?void 0:f.creator)||"User",version:(f==null?void 0:f.version)||"1.0",tags:(f==null?void 0:f.tags)||[],data:(f==null?void 0:f.data)||"",source:(f==null?void 0:f.source)||"",sourceUrl:(f==null?void 0:f.sourceUrl)||""}),R=K.useRef(null),j=async O=>{p(null);const L=O.type,B=O.name.replace(/\.[^/.]+$/,"");if(L==="application/json"){const $=new FileReader;$.onload=Q=>{var oe;try{const J=(oe=Q.target)==null?void 0:oe.result,de=JSON.parse(J);m(je=>({...je,title:de.title||de.name||B,description:de.description||"",creator:de.creator||de.author||"Unknown",version:de.version||"1.0",tags:de.tags||[],source:de.source||"",sourceUrl:de.source_url||de.url||"",data:J})),v("create")}catch{p("JSON ")}},$.readAsText(O)}else p(" .json ")},D=O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?x(!0):O.type==="dragleave"&&x(!1)},g=O=>{O.preventDefault(),O.stopPropagation(),x(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&j(O.dataTransfer.files[0])},C=()=>{if(!A.title){p(""),U==="import"&&v("create");return}const O={id:f?f.id:Date.now().toString(),resourceType:"worldbook",title:A.title,description:A.description||"",tags:A.tags||[],creator:A.creator||"User",version:A.version||"1.0",source:A.source||"",sourceUrl:A.sourceUrl||"",data:A.data||JSON.stringify({title:A.title,description:A.description}),isFavorite:f==null?void 0:f.isFavorite};Ce(O),o()},S=()=>U==="import"?"":f?"":"";return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center sm:p-6 bg-white sm:bg-transparent",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity hidden sm:block",onClick:o}),l.jsxs("div",{className:"relative bg-white w-full max-w-2xl h-full sm:h-auto sm:max-h-[85vh] sm:rounded-2xl sm:shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"flex-shrink-0 px-4 py-3 border-b border-gray-100 flex items-center justify-between sm:hidden z-10 bg-white",children:[l.jsx("button",{onClick:o,className:"p-2 -ml-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})}),l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:S()}),U!=="import"?l.jsx("button",{onClick:C,className:"text-indigo-600 font-medium text-sm px-2 py-1",children:""}):l.jsx("div",{className:"w-8"})]}),l.jsx("div",{className:"flex-shrink-0 border-b border-gray-100 hidden sm:block bg-white z-10",children:l.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:S()}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-8 bg-gray-50/30",children:U==="import"?l.jsx("div",{className:"h-full flex flex-col justify-center min-h-[300px]",children:l.jsxs("div",{className:`
                    flex-1 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center p-12 transition-all max-h-[400px]
                    ${z?"border-indigo-500 bg-indigo-50 scale-[0.99]":"border-gray-200 hover:border-indigo-300 hover:bg-white bg-white"}
                `,onDragEnter:D,onDragLeave:D,onDragOver:D,onDrop:g,onClick:()=>{var O;return(O=R.current)==null?void 0:O.click()},children:[l.jsx("input",{ref:R,type:"file",className:"hidden",accept:".json",onChange:O=>O.target.files&&O.target.files[0]&&j(O.target.files[0])}),l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-50 text-indigo-500 flex items-center justify-center mb-6 shadow-sm",children:l.jsx(Ql,{size:40})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),l.jsx("p",{className:"text-gray-500 text-center max-w-xs mb-6 text-sm",children:" JSON "})]})}):l.jsxs("div",{className:"space-y-6",children:[h&&l.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm rounded-xl flex items-center gap-2 border border-red-100",children:[l.jsx(qn,{size:18})," ",h]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Xl,{size:14}),"  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:A.title,onChange:O=>m({...A,title:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none font-medium",placeholder:" 2077 ..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vt,{size:14})," "]}),l.jsx("input",{type:"text",value:A.creator,onChange:O=>m({...A,creator:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Jl,{size:14})," "]}),l.jsx("input",{type:"text",value:(M=A.tags)==null?void 0:M.join(", "),onChange:O=>m({...A,tags:O.target.value.split(",").map(L=>L.trim()).filter(Boolean)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:",  ()"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Zn,{size:14})," "]}),l.jsx("input",{type:"text",value:A.source,onChange:O=>m({...A,source:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"GitHub, Discord"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Bn,{size:14})," "]}),l.jsx("input",{type:"text",value:A.sourceUrl,onChange:O=>m({...A,sourceUrl:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"https://..."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vl,{size:14})," "]}),l.jsx("textarea",{value:A.description,onChange:O=>m({...A,description:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none min-h-[120px] resize-none",placeholder:"..."})]}),A.data&&l.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg text-sm text-indigo-700 flex items-center gap-2",children:[l.jsx(ir,{size:16}),l.jsx("span",{children:""})]})]})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-100 bg-white hidden sm:flex justify-end gap-3 z-10",children:[l.jsx("button",{onClick:o,className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:""}),U!=="import"&&l.jsxs("button",{onClick:C,className:"px-6 py-2.5 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-200 transition-transform active:scale-95 flex items-center gap-2",children:[l.jsx(At,{size:18}),f?"":""]})]})]})]})},_p=({onClose:o,onSave:Ce,theaterToEdit:d})=>{var h,p;const[f,U]=K.useState(null),[v,z]=K.useState({title:(d==null?void 0:d.title)||"",description:(d==null?void 0:d.description)||"",content:(d==null?void 0:d.content)||"",characters:(d==null?void 0:d.characters)||[],tags:(d==null?void 0:d.tags)||[],creator:(d==null?void 0:d.creator)||"User"}),x=()=>{if(!v.title){U("");return}if(!v.content){U("");return}const A={id:d?d.id:Date.now().toString(),resourceType:"theater",title:v.title,description:v.description||"",content:v.content,characters:v.characters||[],tags:v.tags||[],creator:v.creator||"User",date:(d==null?void 0:d.date)||new Date().toISOString().split("T")[0],isFavorite:d==null?void 0:d.isFavorite};Ce(A),o()};return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center sm:p-6 bg-white sm:bg-transparent",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity hidden sm:block",onClick:o}),l.jsxs("div",{className:"relative bg-white w-full max-w-4xl h-full sm:h-auto sm:max-h-[90vh] sm:rounded-2xl sm:shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"flex-shrink-0 px-4 py-3 border-b border-gray-100 flex items-center justify-between sm:hidden z-10 bg-white",children:[l.jsx("button",{onClick:o,className:"p-2 -ml-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})}),l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:d?"":""}),l.jsx("button",{onClick:x,className:"text-indigo-600 font-medium text-sm px-2 py-1",children:""})]}),l.jsx("div",{className:"flex-shrink-0 border-b border-gray-100 hidden sm:block bg-white z-10",children:l.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:d?"":""}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-8 bg-gray-50/30",children:l.jsxs("div",{className:"space-y-6",children:[f&&l.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm rounded-xl flex items-center gap-2 border border-red-100",children:[l.jsx(qn,{size:18})," ",f]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Es,{size:14}),"  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:v.title,onChange:A=>z({...v,title:A.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none font-medium",placeholder:"..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vt,{size:14})," "]}),l.jsx("input",{type:"text",value:v.creator,onChange:A=>z({...v,creator:A.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Ln,{size:14})," "]}),l.jsx("input",{type:"text",value:(h=v.characters)==null?void 0:h.join(", "),onChange:A=>z({...v,characters:A.target.value.split(",").map(m=>m.trim()).filter(Boolean)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"User, Char..."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Hs,{size:14})," "]}),l.jsx("input",{type:"text",value:(p=v.tags)==null?void 0:p.join(", "),onChange:A=>z({...v,tags:A.target.value.split(",").map(m=>m.trim()).filter(Boolean)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:", , ..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vl,{size:14})," "]}),l.jsx("textarea",{value:v.description,onChange:A=>z({...v,description:A.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none min-h-[80px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vl,{size:14})," Prompt  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{value:v.content,onChange:A=>z({...v,content:A.target.value}),className:"w-full px-4 py-3 bg-gray-900 text-gray-100 border border-gray-700 rounded-xl focus:ring-4 focus:ring-indigo-500/20 transition-all outline-none min-h-[300px] font-mono text-sm leading-relaxed",placeholder:"$..."})]})]})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-100 bg-white hidden sm:flex justify-end gap-3 z-10",children:[l.jsx("button",{onClick:o,className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:""}),l.jsxs("button",{onClick:x,className:"px-6 py-2.5 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-200 transition-transform active:scale-95 flex items-center gap-2",children:[l.jsx(At,{size:18}),d?"":""]})]})]})]})},zp=({onClose:o,onSave:Ce,initialTab:d="create",themeToEdit:f})=>{var L;const[U,v]=K.useState(d),[z,x]=K.useState(!1),[h,p]=K.useState(null),A=K.useRef(null),m=K.useRef(null),[R,j]=K.useState({title:(f==null?void 0:f.title)||"",description:(f==null?void 0:f.description)||"",type:(f==null?void 0:f.type)||"theme",tags:(f==null?void 0:f.tags)||[],author:(f==null?void 0:f.author)||"User",version:(f==null?void 0:f.version)||"1.0",preview:(f==null?void 0:f.preview)||""}),D=B=>{p(null);const $=B.name.replace(/\.[^/.]+$/,""),Q=B.type;if(Q==="application/json"){const oe=new FileReader;oe.onload=J=>{var de;try{const je=JSON.parse((de=J.target)==null?void 0:de.result);j(k=>({...k,title:je.title||je.name||$,description:je.description||"",type:je.type||"theme",tags:je.tags||[],author:je.author||je.creator||"User",version:je.version||"1.0",preview:je.preview||k.preview})),v("create")}catch{p("JSON ")}},oe.readAsText(B)}else if(Q.startsWith("image/")){const oe=new FileReader;oe.onload=J=>{j(de=>{var je;return{...de,title:$,type:"background",preview:(je=J.target)==null?void 0:je.result}}),v("create")},oe.readAsDataURL(B)}else{let oe="theme";(B.name.endsWith(".mp3")||B.name.endsWith(".wav"))&&(oe="sound"),(B.name.endsWith(".ttf")||B.name.endsWith(".woff"))&&(oe="font"),j(J=>({...J,title:$,type:oe})),v("create")}},g=B=>{B.preventDefault(),B.stopPropagation(),B.type==="dragenter"||B.type==="dragover"?x(!0):B.type==="dragleave"&&x(!1)},C=B=>{B.preventDefault(),B.stopPropagation(),x(!1),B.dataTransfer.files&&B.dataTransfer.files[0]&&D(B.dataTransfer.files[0])},S=()=>{if(!R.title){p(""),U==="import"&&v("create");return}const B=R.preview||`https://picsum.photos/600/400?random=${Date.now()}`,$={id:f?f.id:Date.now().toString(),resourceType:"theme",title:R.title,description:R.description||"",preview:B,type:R.type||"theme",tags:R.tags||[],author:R.author||"User",version:R.version||"1.0",date:(f==null?void 0:f.date)||new Date().toISOString().split("T")[0],isFavorite:f==null?void 0:f.isFavorite,status:f==null?void 0:f.status,chatCount:f==null?void 0:f.chatCount,gallery:f==null?void 0:f.gallery,playthroughs:f==null?void 0:f.playthroughs,extraImages:f==null?void 0:f.extraImages,updates:f==null?void 0:f.updates};Ce($),o()},M=B=>{if(B.target.files&&B.target.files[0]){const $=new FileReader;$.onload=Q=>{j(oe=>{var J;return{...oe,preview:(J=Q.target)==null?void 0:J.result}})},$.readAsDataURL(B.target.files[0])}},O=()=>U==="import"?"":f?"":"";return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center sm:p-6 bg-white sm:bg-transparent",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity hidden sm:block",onClick:o}),l.jsxs("div",{className:"relative bg-white w-full max-w-2xl h-full sm:h-auto sm:max-h-[90vh] sm:rounded-2xl sm:shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"flex-shrink-0 px-4 py-3 border-b border-gray-100 flex items-center justify-between sm:hidden z-10 bg-white",children:[l.jsx("button",{onClick:o,className:"p-2 -ml-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})}),l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:O()}),U!=="import"?l.jsx("button",{onClick:S,className:"text-indigo-600 font-medium text-sm px-2 py-1",children:""}):l.jsx("div",{className:"w-8"})]}),l.jsx("div",{className:"flex-shrink-0 border-b border-gray-100 hidden sm:block bg-white z-10",children:l.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:O()}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-8 bg-gray-50/30",children:U==="import"?l.jsx("div",{className:"h-full flex flex-col justify-center min-h-[300px]",children:l.jsxs("div",{className:`
                        flex-1 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center p-12 transition-all max-h-[400px]
                        ${z?"border-indigo-500 bg-indigo-50 scale-[0.99]":"border-gray-200 hover:border-indigo-300 hover:bg-white bg-white"}
                    `,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:C,onClick:()=>{var B;return(B=m.current)==null?void 0:B.click()},children:[l.jsx("input",{ref:m,type:"file",className:"hidden",accept:".json,.png,.jpg,.jpeg,.webp,.mp3,.wav,.ttf,.woff",onChange:B=>B.target.files&&B.target.files[0]&&D(B.target.files[0])}),l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-50 text-indigo-500 flex items-center justify-center mb-6 shadow-sm",children:l.jsx(Ql,{size:40})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),l.jsx("p",{className:"text-gray-500 text-center max-w-xs mb-6 text-sm",children:" JSON "})]})}):l.jsxs("div",{className:"space-y-6",children:[h&&l.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm rounded-xl flex items-center gap-2 border border-red-100",children:[l.jsx(qn,{size:18})," ",h]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm space-y-6",children:[l.jsxs("div",{className:"aspect-[2/1] w-full bg-gray-100 rounded-xl border-2 border-dashed border-gray-200 hover:border-indigo-300 hover:bg-gray-50 transition-colors cursor-pointer relative overflow-hidden group",onClick:()=>{var B;return(B=A.current)==null?void 0:B.click()},children:[R.preview?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:R.preview,alt:"Preview",className:"w-full h-full object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white font-medium",children:[l.jsx(Zt,{size:20,className:"mr-2"})," "]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[l.jsx(Va,{size:32,className:"mb-2 opacity-50"}),l.jsx("span",{className:"text-sm font-medium",children:""})]}),l.jsx("input",{ref:A,type:"file",accept:"image/*",className:"hidden",onChange:M})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Ka,{size:14}),"  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:R.title,onChange:B=>j({...R,title:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none font-medium",placeholder:"..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Jl,{size:14})," "]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:R.type,onChange:B=>j({...R,type:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none appearance-none cursor-pointer",children:[l.jsx("option",{value:"theme",children:" (Theme)"}),l.jsx("option",{value:"background",children:" (Background)"}),l.jsx("option",{value:"sound",children:" (Sound)"}),l.jsx("option",{value:"font",children:" (Font)"})]}),l.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:[R.type==="theme"&&l.jsx(Ka,{size:16}),R.type==="background"&&l.jsx(Va,{size:16}),R.type==="sound"&&l.jsx(Mc,{size:16}),R.type==="font"&&l.jsx(F0,{size:16})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vt,{size:14})," "]}),l.jsx("input",{type:"text",value:R.author,onChange:B=>j({...R,author:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Jl,{size:14})," "]}),l.jsx("input",{type:"text",value:(L=R.tags)==null?void 0:L.join(", "),onChange:B=>j({...R,tags:B.target.value.split(",").map($=>$.trim()).filter(Boolean)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:", , ..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vl,{size:14})," "]}),l.jsx("textarea",{value:R.description,onChange:B=>j({...R,description:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none min-h-[80px] resize-none",placeholder:"..."})]})]})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-100 bg-white hidden sm:flex justify-end gap-3 z-10",children:[l.jsx("button",{onClick:o,className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:""}),U!=="import"&&l.jsxs("button",{onClick:S,className:"px-6 py-2.5 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-200 transition-transform active:scale-95 flex items-center gap-2",children:[l.jsx(At,{size:18}),f?"":""]})]})]})]})},Sp=({onClose:o,onSave:Ce,presetToEdit:d,initialTab:f="create"})=>{var M;const[U,v]=K.useState(f),[z,x]=K.useState(!1),[h,p]=K.useState(null),[A,m]=K.useState({title:(d==null?void 0:d.title)||"",description:(d==null?void 0:d.description)||"",content:(d==null?void 0:d.content)||"",tags:(d==null?void 0:d.tags)||[],creator:(d==null?void 0:d.creator)||"User",version:(d==null?void 0:d.version)||"1.0"}),R=K.useRef(null),j=O=>{p(null);const L=O.name.replace(/\.[^/.]+$/,""),B=O.name.toLowerCase().includes("regex"),$=new FileReader;$.onload=Q=>{var J;const oe=(J=Q.target)==null?void 0:J.result;oe&&(m(de=>{const je=de.tags||[],k=B&&!je.includes("Regex")?[...je,"Regex"]:je;return{...de,title:L,content:oe,tags:k}}),v("create"))},$.readAsText(O)},D=O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?x(!0):O.type==="dragleave"&&x(!1)},g=O=>{O.preventDefault(),O.stopPropagation(),x(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&j(O.dataTransfer.files[0])},C=()=>{if(!A.title){p(""),U==="import"&&v("create");return}if(!A.content){p(""),U==="import"&&v("create");return}const O={id:d?d.id:Date.now().toString(),resourceType:"preset",title:A.title,description:A.description||"",content:A.content,tags:A.tags||[],creator:A.creator||"User",version:A.version||"1.0",date:(d==null?void 0:d.date)||new Date().toISOString().split("T")[0],isFavorite:d==null?void 0:d.isFavorite,status:d==null?void 0:d.status,chatCount:d==null?void 0:d.chatCount,gallery:d==null?void 0:d.gallery,playthroughs:d==null?void 0:d.playthroughs,extraImages:d==null?void 0:d.extraImages,updates:d==null?void 0:d.updates};Ce(O),o()},S=()=>U==="import"?"":d?"":"";return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center sm:p-6 bg-white sm:bg-transparent",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity hidden sm:block",onClick:o}),l.jsxs("div",{className:"relative bg-white w-full max-w-2xl h-full sm:h-auto sm:max-h-[90vh] sm:rounded-2xl sm:shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200",children:[l.jsxs("div",{className:"flex-shrink-0 px-4 py-3 border-b border-gray-100 flex items-center justify-between sm:hidden z-10 bg-white",children:[l.jsx("button",{onClick:o,className:"p-2 -ml-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})}),l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:S()}),U!=="import"?l.jsx("button",{onClick:C,className:"text-indigo-600 font-medium text-sm px-2 py-1",children:""}):l.jsx("div",{className:"w-8"})]}),l.jsx("div",{className:"flex-shrink-0 border-b border-gray-100 hidden sm:block bg-white z-10",children:l.jsxs("div",{className:"flex justify-between items-center px-6 py-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:S()}),l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:l.jsx(Ke,{size:24})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-8 bg-gray-50/30",children:U==="import"?l.jsx("div",{className:"h-full flex flex-col justify-center min-h-[300px]",children:l.jsxs("div",{className:`
                        flex-1 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center p-12 transition-all max-h-[400px]
                        ${z?"border-indigo-500 bg-indigo-50 scale-[0.99]":"border-gray-200 hover:border-indigo-300 hover:bg-white bg-white"}
                    `,onDragEnter:D,onDragLeave:D,onDragOver:D,onDrop:g,onClick:()=>{var O;return(O=R.current)==null?void 0:O.click()},children:[l.jsx("input",{ref:R,type:"file",className:"hidden",accept:".json,.txt,.yaml,.yml,.lua,.js,.regex",onChange:O=>O.target.files&&O.target.files[0]&&j(O.target.files[0])}),l.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-50 text-indigo-500 flex items-center justify-center mb-6 shadow-sm",children:l.jsx(Ql,{size:40})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:""}),l.jsx("p",{className:"text-gray-500 text-center max-w-xs mb-6 text-sm",children:" JSON, TXT, YAML, LUA, Regex "})]})}):l.jsxs("div",{className:"space-y-6",children:[h&&l.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm rounded-xl flex items-center gap-2 border border-red-100",children:[l.jsx(qn,{size:18})," ",h]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Hn,{size:14}),"  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:A.title,onChange:O=>m({...A,title:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none font-medium",placeholder:"..."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vt,{size:14})," "]}),l.jsx("input",{type:"text",value:A.creator,onChange:O=>m({...A,creator:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Sa,{size:14})," "]}),l.jsx("input",{type:"text",value:A.version,onChange:O=>m({...A,version:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:"1.0"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Hs,{size:14})," "]}),l.jsx("input",{type:"text",value:(M=A.tags)==null?void 0:M.join(", "),onChange:O=>m({...A,tags:O.target.value.split(",").map(L=>L.trim()).filter(Boolean)}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none",placeholder:", , , Regex..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Vl,{size:14})," "]}),l.jsx("textarea",{value:A.description,onChange:O=>m({...A,description:O.target.value}),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none min-h-[80px] resize-none",placeholder:"..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Sa,{size:14}),"  ",l.jsx("span",{className:"text-red-500",children:"*"})]}),A.content?l.jsxs("div",{className:"w-full px-4 py-6 bg-emerald-50 border border-emerald-100 rounded-xl flex items-center justify-between shadow-sm animate-in fade-in",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:l.jsx(qm,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-bold text-emerald-900",children:""}),l.jsxs("div",{className:"text-xs text-emerald-600/80 font-mono mt-0.5",children:[A.content.length," "]})]})]}),l.jsx("button",{onClick:()=>m({...A,content:""}),className:"p-2 hover:bg-white rounded-lg text-gray-400 hover:text-red-500 transition-colors border border-transparent hover:border-gray-200 hover:shadow-sm",title:"",children:l.jsx(et,{size:18})})]}):l.jsx("textarea",{value:A.content,onChange:O=>m({...A,content:O.target.value}),className:"w-full px-4 py-3 bg-slate-900 text-slate-100 border border-slate-700 rounded-xl focus:ring-4 focus:ring-indigo-500/20 transition-all outline-none min-h-[200px] font-mono text-sm leading-relaxed",placeholder:" Prompt, JSON , Lua  Regex ..."})]})]})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-100 bg-white hidden sm:flex justify-end gap-3 z-10",children:[l.jsx("button",{onClick:o,className:"px-5 py-2.5 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:""}),U!=="import"&&l.jsxs("button",{onClick:C,className:"px-6 py-2.5 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-200 transition-transform active:scale-95 flex items-center gap-2",children:[l.jsx(At,{size:18}),d?"":""]})]})]})]})},Cp=[{id:"1",resourceType:"character",name:"",description:"",avatar:"https://picsum.photos/400/600?random=1",tags:["","",""],categories:["",""],creator:"StarWalker",version:"1.2.0",source:"Original",status:"in_progress",chatCount:124,playthroughs:[{id:"p1",title:"",note:"3",gallery:["https://picsum.photos/800/600?random=10","https://picsum.photos/800/600?random=11"],status:"finished",chatCount:350},{id:"p2",title:"",note:"5",gallery:["https://picsum.photos/800/600?random=12"],status:"in_progress",chatCount:124}],data:'{"name": "", "description": "...", "first_mes": "Hidden"}'},{id:"2",resourceType:"character",name:"K-9000 ",description:"",avatar:"https://picsum.photos/400/600?random=2",tags:["","",""],categories:["",""],creator:"CyberPunk_Dev",version:"2.0",source:"Discord",sourceUrl:"https://discord.com/channels/123456789",status:"finished",chatCount:856,note:"",gallery:["https://picsum.photos/800/600?random=20"],data:'{"name": "K-9000", "description": "...", "first_mes": "Hidden"}'},{id:"3",resourceType:"character",name:"",description:"",avatar:"https://picsum.photos/400/600?random=3",tags:["","",""],categories:["",""],creator:"WuXiaMaster",version:"1.0",source:"",status:"not_started",chatCount:0},{id:"4",resourceType:"character",name:"",description:"",avatar:"https://picsum.photos/400/600?random=4",tags:["","",""],categories:["",""],creator:"BookWorm",version:"3.5",source:"Civitai",sourceUrl:"https://civitai.com",status:"in_progress",chatCount:42,note:""},{id:"5",resourceType:"character",name:"",description:"",avatar:"https://picsum.photos/400/600?random=5",tags:["","",""],categories:["",""],creator:"NekoFan",version:"1.0.1",source:"Pixiv",status:"not_started",chatCount:0},{id:"6",resourceType:"character",name:"",description:"",avatar:"https://picsum.photos/400/600?random=6",tags:["","",""],categories:[""],creator:"ShadowRealm",version:"0.9",status:"in_progress",chatCount:15}],kp=[{id:"wb-1",resourceType:"worldbook",title:" 2077",description:"",creator:"NightCity_Archive",tags:["","","",""],version:"1.5",source:"Wiki",sourceUrl:"https://cyberpunk.fandom.com/wiki/Night_City",data:"{}"},{id:"wb-2",resourceType:"worldbook",title:"",description:"",creator:"LoreHunter",tags:["","","",""],version:"2.1",source:"Reddit",sourceUrl:"https://www.reddit.com/r/EldenRingLoreTalk/",data:"{}"},{id:"wb-3",resourceType:"worldbook",title:"",description:"1920",creator:"Lovecraftian",tags:["","","",""],version:"1.0",source:"Chaosium",data:"{}"},{id:"wb-4",resourceType:"worldbook",title:"",description:"",creator:"Traveler",tags:["","","",""],version:"4.2",data:"{}"}],Ap=[{id:"th-1",resourceType:"theater",title:"",description:"IF",characters:["User","Char"],tags:["","","",""],creator:"System",date:"2023-12-15",content:`$
charuseruseruserusercharcharuser$12000
$usercharNSFWoocifmessage`},{id:"th-2",resourceType:"theater",title:"",description:"",characters:["K-9000",""],tags:["","",""],creator:"StoryTeller",date:"2023-11-20",content:`$

K-9000 


1. 
2. K-9000
3. 
4. 2000`}],Dp=[{id:"thm-1",resourceType:"theme",title:"",description:"",preview:"https://picsum.photos/600/400?random=301",type:"theme",tags:["","",""],author:"NeonMaster",version:"1.2",date:"2023-12-01"},{id:"thm-2",resourceType:"theme",title:"",description:"",preview:"https://picsum.photos/600/400?random=302",type:"background",tags:["","",""],author:"GreenLeaf",version:"1.0",date:"2023-11-15"},{id:"thm-3",resourceType:"theme",title:"",description:"",preview:"https://picsum.photos/600/400?random=303",type:"theme",tags:["","",""],author:"OldSchool",version:"2.0",date:"2023-10-20"},{id:"thm-4",resourceType:"theme",title:"",description:"",preview:"https://picsum.photos/600/400?random=304",type:"sound",tags:["","",""],author:"SoundScape",version:"1.5",date:"2023-12-10"}],Op=[{id:"pre-1",resourceType:"preset",title:"Claude 3.5 Sonnet ",description:" Claude 3.5 Sonnet  PromptNSFW",content:'{"system_prompt": "You are an uncensored AI...", "jailbreak": "Enable NSFW"}',tags:["","Claude","NSFW"],creator:"JailbreakerX",version:"2.1",date:"2023-12-20",status:"in_progress"},{id:"pre-2",resourceType:"preset",title:"",description:"",content:"Use short, sharp sentences. Be critical.",tags:["","",""],creator:"LiteraryBot",version:"1.0",date:"2023-11-05"},{id:"pre-3",resourceType:"preset",title:"NovelAI Euterpe ",description:" NovelAI Euterpe ",content:"Temp: 0.8, Rep Pen: 1.1",tags:["","NovelAI",""],creator:"ConfigMaster",version:"3.0",date:"2023-10-15"}],Mp=()=>{const[o,Ce]=K.useState("tavern"),[d,f]=K.useState("characters"),[U,v]=K.useState(!1),[z,x]=K.useState(""),[h,p]=K.useState(!1),[A,m]=K.useState([]),[R,j]=K.useState(!1),[D,g]=K.useState(!1),[C,S]=K.useState({status:[],tags:[],categories:[],types:[]}),[M,O]=K.useState([]),[L,B]=K.useState(!1),[$,Q]=K.useState(""),oe=K.useRef(null);K.useEffect(()=>{const te=Ae=>{oe.current&&!oe.current.contains(Ae.target)&&(g(!1),B(!1))};return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[]);const[J,de]=K.useState(Cp),[je,k]=K.useState(kp),[W,c]=K.useState(Ap),[I,Z]=K.useState(Dp),[Y,pe]=K.useState(Op),[ie,he]=K.useState(null),[y,T]=K.useState(null),[ne,ce]=K.useState(null),[ue,Ne]=K.useState(null),[De,Oe]=K.useState(null),[ke,Te]=K.useState(null),[Ye,Je]=K.useState(null),[it,u]=K.useState(null),[ge,le]=K.useState(null),[H,E]=K.useState(null),[V,me]=K.useState(!1),[be,P]=K.useState("create"),[_,w]=K.useState(!1),[b,G]=K.useState("create"),[we,Se]=K.useState(!1),[Ze,He]=K.useState(!1),[qe,tt]=K.useState("create"),[Xe,ee]=K.useState(!1),[_e,ze]=K.useState("create"),st=K.useMemo(()=>o!=="tavern"?[]:d==="favorites"?[...J.filter(te=>te.isFavorite),...je.filter(te=>te.isFavorite),...W.filter(te=>te.isFavorite),...I.filter(te=>te.isFavorite),...Y.filter(te=>te.isFavorite)]:d==="worldbooks"?je:d==="theater"?W:d==="themes"?I:d==="presets"?Y:J,[o,d,J,je,W,I,Y]),xa=K.useMemo(()=>{const te=new Set;return st.forEach(Ae=>{var Ue;return(Ue=Ae.tags)==null?void 0:Ue.forEach(ct=>te.add(ct))}),Array.from(te).sort()},[st]),Yt=K.useMemo(()=>{if(d!=="characters"&&d!=="all")return[];const te=new Set([...M]);return st.forEach(Ae=>{var Ue;Ae.resourceType==="character"&&((Ue=Ae.categories)==null||Ue.forEach(ct=>te.add(ct)))}),Array.from(te).sort()},[st,d,M]),Mt=K.useMemo(()=>{if(d!=="themes")return[];const te=new Set;return st.forEach(Ae=>{Ae.resourceType==="theme"&&te.add(Ae.type)}),Array.from(te).sort()},[st,d]),Dt=()=>{$.trim()&&!M.includes($.trim())&&(O([...M,$.trim()]),Q(""))},_t=te=>{O(Ae=>Ae.filter(Ue=>Ue!==te)),C.categories.includes(te)&&va("categories",te)},yt=K.useMemo(()=>{let te=st;if(z){const Ae=z.toLowerCase();te=te.filter(Ue=>(Ue.name||Ue.title).toLowerCase().includes(Ae)||(Ue.description||"").toLowerCase().includes(Ae))}return C.status.length>0&&(te=te.filter(Ae=>{const Ue=Ae.status||"not_started";return C.status.includes(Ue)})),C.tags.length>0&&(te=te.filter(Ae=>{const Ue=Ae.tags||[];return C.tags.every(ct=>Ue.includes(ct))})),C.categories.length>0&&(d==="characters"||d==="all")&&(te=te.filter(Ae=>{if(Ae.resourceType!=="character")return!0;const Ue=Ae.categories||[];return C.categories.some(ct=>Ue.includes(ct))})),C.types.length>0&&d==="themes"&&(te=te.filter(Ae=>C.types.includes(Ae.type))),te},[st,z,C,d]),va=(te,Ae)=>{S(Ue=>{const ct=Ue[te];return ct.includes(Ae)?{...Ue,[te]:ct.filter(ja=>ja!==Ae)}:{...Ue,[te]:[...ct,Ae]}})},Ja=()=>{S({status:[],tags:[],categories:[],types:[]}),g(!1),B(!1)},qs=C.status.length+C.tags.length+C.categories.length+C.types.length,Xn=te=>{if(h)m(Ae=>Ae.includes(te.id)?Ae.filter(Ue=>Ue!==te.id):[...Ae,te.id]);else switch(te.resourceType){case"character":he(te);break;case"worldbook":ce(te);break;case"theater":Oe(te);break;case"theme":Je(te);break;case"preset":le(te);break}},Zs=()=>{A.length===yt.length&&yt.length>0?m([]):m(yt.map(te=>te.id))},zl=()=>{const te=new Set(A);de(Ae=>Ae.filter(Ue=>!te.has(Ue.id))),k(Ae=>Ae.filter(Ue=>!te.has(Ue.id))),c(Ae=>Ae.filter(Ue=>!te.has(Ue.id))),Z(Ae=>Ae.filter(Ue=>!te.has(Ue.id))),pe(Ae=>Ae.filter(Ue=>!te.has(Ue.id))),p(!1),m([]),j(!1)},or=te=>{const Ae=A.includes(te.id),Ue={onClick:Xn,isSelectionMode:h,isSelected:Ae};switch(te.resourceType){case"character":return l.jsx(fp,{character:te,...Ue});case"worldbook":return l.jsx(gp,{book:te,...Ue});case"theater":return l.jsx(xp,{theater:te,...Ue});case"theme":return l.jsx(yp,{theme:te,...Ue});case"preset":return l.jsx(vp,{preset:te,...Ue});default:return null}},Fa=te=>{te.resourceType==="character"&&de(Ae=>[te,...Ae]),te.resourceType==="worldbook"&&k(Ae=>[te,...Ae]),te.resourceType==="theater"&&c(Ae=>[te,...Ae]),te.resourceType==="theme"&&Z(Ae=>[te,...Ae]),te.resourceType==="preset"&&pe(Ae=>[te,...Ae])},$a=te=>{te.resourceType==="character"&&de(Ae=>Ae.map(Ue=>Ue.id===te.id?te:Ue)),te.resourceType==="worldbook"&&k(Ae=>Ae.map(Ue=>Ue.id===te.id?te:Ue)),te.resourceType==="theater"&&c(Ae=>Ae.map(Ue=>Ue.id===te.id?te:Ue)),te.resourceType==="theme"&&Z(Ae=>Ae.map(Ue=>Ue.id===te.id?te:Ue)),te.resourceType==="preset"&&pe(Ae=>Ae.map(Ue=>Ue.id===te.id?te:Ue)),(ie==null?void 0:ie.id)===te.id&&he(te),(ne==null?void 0:ne.id)===te.id&&ce(te),(De==null?void 0:De.id)===te.id&&Oe(te),(Ye==null?void 0:Ye.id)===te.id&&Je(te),(ge==null?void 0:ge.id)===te.id&&le(te)},Ys=te=>{ze(te),E(null),ee(!0)},Gs=async te=>{try{const Ae=new $0,Ue=new Date().toISOString().slice(0,10),ct={version:"1.2.0",timestamp:Date.now(),exportedTypes:Object.keys(te).filter(cr=>te[cr])};Ae.file("metadata.json",JSON.stringify(ct,null,2)),te.characters&&Ae.file("characters.json",JSON.stringify(J,null,2)),te.worldBooks&&Ae.file("worldbooks.json",JSON.stringify(je,null,2)),te.theaters&&Ae.file("theaters.json",JSON.stringify(W,null,2)),te.themes&&Ae.file("themes.json",JSON.stringify(I,null,2)),te.presets&&Ae.file("presets.json",JSON.stringify(Y,null,2));const ja=await Ae.generateAsync({type:"blob"}),Il=URL.createObjectURL(ja),Sl=document.createElement("a");Sl.href=Il,Sl.download=`tavern_backup_${Ue}.zip`,document.body.appendChild(Sl),Sl.click(),document.body.removeChild(Sl),URL.revokeObjectURL(Il)}catch(Ae){console.error("Export failed",Ae),alert("")}},Xs=te=>{te.characters&&de(te.characters),te.worldBooks&&k(te.worldBooks),te.theaters&&c(te.theaters),te.themes&&Z(te.themes),te.presets&&pe(te.presets),alert(""),Ce("tavern")},Qn=()=>{de([]),k([]),c([]),Z([]),pe([]),alert("")};return l.jsxs("div",{className:"flex h-screen w-full bg-gray-50 text-gray-900 font-sans",children:[l.jsx(op,{activeContext:o,setActiveContext:Ce,activeView:d,setActiveView:te=>{f(te),Ja()},isMobileOpen:U,setIsMobileOpen:v}),l.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[o==="settings"?l.jsx(dp,{onExport:Gs,onRestore:Xs,onClear:Qn,onBack:()=>Ce("tavern"),dataStats:{chars:J.length,books:je.length,theaters:W.length,themes:I.length,presets:Y.length}}):l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"h-16 border-b border-gray-200 bg-white flex items-center justify-between px-4 sm:px-6 z-10 relative",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[l.jsx("button",{onClick:()=>v(!0),className:"md:hidden p-2 -ml-2 text-gray-500",children:l.jsx(jx,{size:20})}),l.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-lg",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Cc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),l.jsx("input",{type:"text",placeholder:"...",value:z,onChange:te=>x(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 border-transparent focus:bg-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 rounded-lg text-sm transition-all outline-none"})]}),l.jsxs("div",{className:"relative",ref:oe,children:[l.jsxs("button",{onClick:()=>g(!D),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors border ${D||qs>0?"bg-indigo-50 border-indigo-200 text-indigo-600":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[l.jsx(nx,{size:16}),l.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:""}),qs>0&&l.jsx("span",{className:"bg-indigo-600 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full -ml-1",children:qs})]}),D&&l.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-100 z-50 animate-in fade-in zoom-in-95 duration-200 overflow-hidden",children:[l.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto space-y-5",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-sm font-bold text-gray-900",children:""}),l.jsx("button",{onClick:Ja,className:"text-xs text-indigo-600 hover:underline",children:""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:""}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"in_progress",label:"",icon:Fl},{id:"finished",label:"",icon:jt},{id:"not_started",label:"",icon:$l}].map(te=>l.jsxs("button",{onClick:()=>va("status",te.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium border transition-colors ${C.status.includes(te.id)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[l.jsx(te.icon,{size:12})," ",te.label]},te.id))})]}),(Yt.length>0||d==="characters"||d==="all")&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:""}),l.jsx("button",{onClick:()=>B(!L),className:`text-[10px] px-2 py-0.5 rounded font-medium transition-colors ${L?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:L?"":""})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Yt.map(te=>l.jsxs("button",{onClick:()=>L?_t(te):va("categories",te),className:`px-3 py-1.5 rounded-lg text-xs font-medium border transition-all ${L?"bg-white border-red-200 text-red-500 hover:bg-red-50 pr-2 flex items-center gap-1":C.categories.includes(te)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[te,L&&l.jsx(Ke,{size:10})]},te))}),L&&l.jsxs("div",{className:"flex gap-2 mt-2 animate-in fade-in slide-in-from-top-1",children:[l.jsx("input",{type:"text",value:$,onChange:te=>Q(te.target.value),onKeyDown:te=>te.key==="Enter"&&Dt(),placeholder:"...",className:"flex-1 px-2 py-1 text-xs border border-gray-200 rounded focus:border-indigo-500 outline-none"}),l.jsx("button",{onClick:Dt,disabled:!$.trim(),className:"bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700 disabled:opacity-50",children:l.jsx(Xt,{size:14})})]})]}),Mt.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:""}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Mt.map(te=>l.jsx("button",{onClick:()=>va("types",te),className:`px-3 py-1.5 rounded-lg text-xs font-medium border transition-colors uppercase ${C.types.includes(te)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}`,children:te},te))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:""}),l.jsx("div",{className:"flex flex-wrap gap-2",children:xa.map(te=>l.jsxs("button",{onClick:()=>va("tags",te),className:`flex items-center gap-1 px-2.5 py-1 rounded-md text-xs border transition-colors ${C.tags.includes(te)?"bg-indigo-50 border-indigo-200 text-indigo-700":"bg-white border-gray-200 text-gray-500 hover:border-gray-300"}`,children:[l.jsx(Jl,{size:10}),te]},te))})]})]}),l.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50 text-center",children:l.jsx("button",{onClick:()=>g(!1),className:"text-xs text-indigo-600 font-medium hover:underline",children:""})})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>{p(!h),m([])},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors shadow-sm text-sm font-medium
                                    ${h?"bg-indigo-50 text-indigo-600 border border-indigo-200":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}
                                `,children:[h?l.jsx(Ke,{size:16}):l.jsx(Ac,{size:16}),h?"":""]}),!h&&l.jsx(l.Fragment,{children:d==="themes"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>{u(null),tt("create"),He(!0)},className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Xt,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsxs("button",{onClick:()=>{u(null),tt("import"),He(!0)},className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Ql,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]}):d==="presets"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>Ys("create"),className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Xt,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsxs("button",{onClick:()=>Ys("import"),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Ql,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]}):d==="worldbooks"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>{Ne(null),w(!0),G("create")},className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Dm,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsxs("button",{onClick:()=>{Ne(null),w(!0),G("import")},className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Ql,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]}):d==="characters"||d==="all"?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>{T(null),me(!0),P("create")},className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Xt,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsxs("button",{onClick:()=>{T(null),me(!0),P("import")},className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors shadow-sm text-sm font-medium",children:[l.jsx(Ql,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]})]}):l.jsxs("button",{onClick:()=>{d==="theater"&&Se(!0)},className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:[l.jsx(Xt,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 pb-24",children:[l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3",children:yt.map(te=>l.jsx("div",{className:"h-full",children:or(te)},te.id))}),yt.length===0&&l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Cc,{size:24,className:"opacity-20"})}),l.jsx("p",{children:""})]})]}),h&&l.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-white border border-gray-200 shadow-xl rounded-2xl px-6 py-3 flex items-center gap-6 z-40 animate-in slide-in-from-bottom-4 duration-200",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-600",children:[" ",l.jsx("span",{className:"text-indigo-600 font-bold",children:A.length})," "]}),l.jsx("div",{className:"h-4 w-px bg-gray-200"}),l.jsx("button",{onClick:Zs,className:"text-sm text-gray-600 hover:text-indigo-600 font-medium transition-colors",children:A.length===yt.length&&yt.length>0?"":""}),l.jsxs("button",{onClick:()=>j(!0),disabled:A.length===0,className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-200 disabled:text-gray-400 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors shadow-sm shadow-red-200 disabled:shadow-none",children:[l.jsx(et,{size:16})," "]})]})]}),ie&&l.jsx(hp,{character:ie,onClose:()=>he(null),onEdit:()=>{T(ie),he(null),P("create"),me(!0)},onUpdate:$a}),V&&l.jsx(Np,{onClose:()=>{me(!1),T(null)},onSave:Fa,characterToEdit:y,initialTab:be,existingCategories:Yt}),ne&&l.jsx(mp,{book:ne,onClose:()=>ce(null),onEdit:()=>{Ne(ne),ce(null),G("create"),w(!0)},onUpdate:$a}),_&&l.jsx(wp,{onClose:()=>{w(!1),Ne(null)},onSave:Fa,bookToEdit:ue,initialTab:b}),De&&l.jsx(pp,{theater:De,onClose:()=>Oe(null),onEdit:()=>{Te(De),Oe(null),Se(!0)},onUpdate:$a}),we&&l.jsx(_p,{onClose:()=>{Se(!1),Te(null)},onSave:Fa,theaterToEdit:ke}),Ye&&l.jsx(bp,{theme:Ye,onClose:()=>Je(null),onEdit:()=>{u(Ye),Je(null),tt("create"),He(!0)},onUpdate:$a}),Ze&&l.jsx(zp,{onClose:()=>{He(!1),u(null)},onSave:Fa,themeToEdit:it,initialTab:qe}),ge&&l.jsx(jp,{preset:ge,onClose:()=>le(null),onEdit:()=>{E(ge),le(null),ze("create"),ee(!0)},onUpdate:$a}),Xe&&l.jsx(Sp,{onClose:()=>{ee(!1),E(null)},onSave:Fa,presetToEdit:H,initialTab:_e}),R&&l.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm w-full p-6 animate-in zoom-in-95 duration-200",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-4 mx-auto",children:l.jsx(et,{size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 text-center mb-2",children:"?"}),l.jsxs("p",{className:"text-sm text-gray-500 text-center mb-6",children:[" ",l.jsx("span",{className:"font-bold text-gray-900",children:A.length})," ",l.jsx("span",{className:"font-bold text-red-500",children:""}),""]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:""}),l.jsx("button",{onClick:zl,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-lg shadow-red-200",children:""})]})]})})]})]})},W0=document.getElementById("root");if(!W0)throw new Error("Could not find root element to mount to");const Up=ym.createRoot(W0);Up.render(l.jsx(um.StrictMode,{children:l.jsx(Mp,{})}));
